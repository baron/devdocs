„Åì„Çå„ÅØ javascript_ecma_262_5th_ed.info„ÄÅes5.texi „Çà„Çä makeinfo
„Éê„Éº„Ç∏„Éß„É≥ 4.8 „Å´„Çà„Å£„Å¶‰ΩúÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇ


File: javascript_ecma_262_5th_ed.info,  Node: 1562 The Boolean Constructor,  Next: 15621 new Boolean value,  Prev: 15611 Boolean value,  Up: Top

406 15.6.2 (#sec-15.6.2) The Boolean Constructor
************************************************

When Boolean is called as part of a `new' expression it is a
constructor: it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 15621 new Boolean value,  Next: 1563 Properties of the Boolean Constructor,  Prev: 1562 The Boolean Constructor,  Up: Top

407 15.6.2.1 (#sec-15.6.2.1) new Boolean (value)
************************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Boolean prototype object, the one that is the
initial value of Boolean.prototype (15.6.3.1 (#sec-15.6.3.1)).

   The [[Class]] internal property of the newly constructed Boolean
object is set to "Boolean".

   The [[PrimitiveValue]] internal property of the newly constructed
Boolean object is set to ToBoolean (#sec-9.2)(value).

   The [[Extensible]] internal property of the newly constructed object
is set to true.


File: javascript_ecma_262_5th_ed.info,  Node: 1563 Properties of the Boolean Constructor,  Next: 15631 Booleanprototype,  Prev: 15621 new Boolean value,  Up: Top

408 15.6.3 (#sec-15.6.3) Properties of the Boolean Constructor
**************************************************************

The value of the [[Prototype]] internal property of the Boolean
constructor is the Function prototype object (15.3.4) (#sec-15.3.4).

   Besides the internal properties and the `length' property (whose
value is 1), the Boolean constructor has the following property:


File: javascript_ecma_262_5th_ed.info,  Node: 15631 Booleanprototype,  Next: 1564 Properties of the Boolean Prototype Object,  Prev: 1563 Properties of the Boolean Constructor,  Up: Top

409 15.6.3.1 (#sec-15.6.3.1) Boolean.prototype
**********************************************

The initial value of Boolean.prototype is the Boolean prototype object
(15.6.4 (#sec-15.6.4)).

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 1564 Properties of the Boolean Prototype Object,  Next: 15641 Booleanprototypeconstructor,  Prev: 15631 Booleanprototype,  Up: Top

410 15.6.4 (#sec-15.6.4) Properties of the Boolean Prototype Object
*******************************************************************

The Boolean prototype object is itself a Boolean object (its [[Class]]
is "Boolean") whose value is false.

   The value of the [[Prototype]] internal property of the Boolean
prototype object is the standard built-in Object prototype object
(15.2.4 (#sec-15.2.4)).


File: javascript_ecma_262_5th_ed.info,  Node: 15641 Booleanprototypeconstructor,  Next: 15642 BooleanprototypetoString,  Prev: 1564 Properties of the Boolean Prototype Object,  Up: Top

411 15.6.4.1 (#sec-15.6.4.1) Boolean.prototype.constructor
**********************************************************

The initial value of Boolean.prototype.constructor is the built-in
Boolean constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 15642 BooleanprototypetoString,  Next: 15643 BooleanprototypevalueOf,  Prev: 15641 Booleanprototypeconstructor,  Up: Top

412 15.6.4.2 (#sec-15.6.4.2) Boolean.prototype.toString ( )
***********************************************************

The following steps are taken:

  1. Let B be the this value.

  2. If Type (#def-type)(B) is Boolean, then let b be B.

  3. Else if Type (#def-type)(B) is Object and the value of the
     [[Class]] internal property of B is "Boolean", then let b be the
     value of the [[PrimitiveValue]] internal property of B.

  4. Else throw a TypeError exception.

  5. If b is true, then return "true"; else return "false".


File: javascript_ecma_262_5th_ed.info,  Node: 15643 BooleanprototypevalueOf,  Next: 1565 Properties of Boolean Instances,  Prev: 15642 BooleanprototypetoString,  Up: Top

413 15.6.4.3 (#sec-15.6.4.3) Boolean.prototype.valueOf ( )
**********************************************************

The following steps are taken:

  1. Let B be the this value.

  2. If Type (#def-type)(B) is Boolean, then let b be B.

  3. Else if Type (#def-type)(B) is Object and the value of the
     [[Class]] internal property of B is "Boolean", then let b be the
     value of the [[PrimitiveValue]] internal property of B.

  4. Else throw a TypeError exception.

  5. Return b.


File: javascript_ecma_262_5th_ed.info,  Node: 1565 Properties of Boolean Instances,  Next: 157 Number Objects,  Prev: 15643 BooleanprototypevalueOf,  Up: Top

414 15.6.5 (#sec-15.6.5) Properties of Boolean Instances
********************************************************

Boolean instances inherit properties from the Boolean prototype object
and their [[Class]] internal property value is "Boolean". Boolean
instances also have a [[PrimitiveValue]] internal property.

   The [[PrimitiveValue]] internal property is the Boolean value
represented by this Boolean object.


File: javascript_ecma_262_5th_ed.info,  Node: 157 Number Objects,  Next: 1571 The Number Constructor Called as a Function,  Prev: 1565 Properties of Boolean Instances,  Up: Top

415 15.7 (#sec-15.7) Number Objects
***********************************


File: javascript_ecma_262_5th_ed.info,  Node: 1571 The Number Constructor Called as a Function,  Next: 15711 Number [ value ],  Prev: 157 Number Objects,  Up: Top

416 15.7.1 (#sec-15.7.1) The Number Constructor Called as a Function
********************************************************************

When Number is called as a function rather than as a constructor, it
performs a type conversion.


File: javascript_ecma_262_5th_ed.info,  Node: 15711 Number [ value ],  Next: 1572 The Number Constructor,  Prev: 1571 The Number Constructor Called as a Function,  Up: Top

417 15.7.1.1 (#sec-15.7.1.1) Number ( [ value ] )
*************************************************

Returns a Number value (not a Number object) computed by ToNumber
(#sec-9.3)(value) if value was supplied, else returns +0.


File: javascript_ecma_262_5th_ed.info,  Node: 1572 The Number Constructor,  Next: 15721 new Number [ value ],  Prev: 15711 Number [ value ],  Up: Top

418 15.7.2 (#sec-15.7.2) The Number Constructor
***********************************************

When Number is called as part of a `new' expression it is a
constructor: it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 15721 new Number [ value ],  Next: 1573 Properties of the Number Constructor,  Prev: 1572 The Number Constructor,  Up: Top

419 15.7.2.1 (#sec-15.7.2.1) new Number ( [ value ] )
*****************************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Number prototype object, the one that is the
initial value of Number.prototype (15.7.3.1 (#sec-15.7.3.1)).

   The [[Class]] internal property of the newly constructed object is
set to "Number".

   The [[PrimitiveValue]] internal property of the newly constructed
object is set to ToNumber (#sec-9.3)(value) if value was supplied, else
to +0.

   The [[Extensible]] internal property of the newly constructed object
is set to true.


File: javascript_ecma_262_5th_ed.info,  Node: 1573 Properties of the Number Constructor,  Next: 15731 Numberprototype,  Prev: 15721 new Number [ value ],  Up: Top

420 15.7.3 (#sec-15.7.3) Properties of the Number Constructor
*************************************************************

The value of the [[Prototype]] internal property of the Number
constructor is the Function prototype object (15.3.4) (#sec-15.3.4).

   Besides the internal properties and the `length' property (whose
value is 1), the Number constructor has the following properties:


File: javascript_ecma_262_5th_ed.info,  Node: 15731 Numberprototype,  Next: 15732 NumberMAX_VALUE,  Prev: 1573 Properties of the Number Constructor,  Up: Top

421 15.7.3.1 (#sec-15.7.3.1) Number.prototype
*********************************************

The initial value of Number.prototype is the Number prototype object
(15.7.4 (#sec-15.7.4)).

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15732 NumberMAX_VALUE,  Next: 15733 NumberMIN_VALUE,  Prev: 15731 Numberprototype,  Up: Top

422 15.7.3.2 (#sec-15.7.3.2) Number.MAX_VALUE
*********************************************

The value of Number.MAX_VALUE is the largest positive finite value of
the Number type, which is approximately 1.7976931348623157 √ó 10^308.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15733 NumberMIN_VALUE,  Next: 15734 NumberNaN,  Prev: 15732 NumberMAX_VALUE,  Up: Top

423 15.7.3.3 (#sec-15.7.3.3) Number.MIN_VALUE
*********************************************

The value of Number.MIN_VALUE is the smallest positive value of the
Number type, which is approximately 5 √ó 10^‚àí324.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15734 NumberNaN,  Next: 15735 NumberNEGATIVE_INFINITY,  Prev: 15733 NumberMIN_VALUE,  Up: Top

424 15.7.3.4 (#sec-15.7.3.4) Number.NaN
***************************************

The value of Number.NaN is NaN.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15735 NumberNEGATIVE_INFINITY,  Next: 15736 NumberPOSITIVE_INFINITY,  Prev: 15734 NumberNaN,  Up: Top

425 15.7.3.5 (#sec-15.7.3.5) Number.NEGATIVE_INFINITY
*****************************************************

The value of Number.NEGATIVE_INFINITY is ‚àí‚àû.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15736 NumberPOSITIVE_INFINITY,  Next: 1574 Properties of the Number Prototype Object,  Prev: 15735 NumberNEGATIVE_INFINITY,  Up: Top

426 15.7.3.6 (#sec-15.7.3.6) Number.POSITIVE_INFINITY
*****************************************************

The value of Number.POSITIVE_INFINITY is +‚àû.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 1574 Properties of the Number Prototype Object,  Next: 15741 Numberprototypeconstructor,  Prev: 15736 NumberPOSITIVE_INFINITY,  Up: Top

427 15.7.4 (#sec-15.7.4) Properties of the Number Prototype Object
******************************************************************

The Number prototype object is itself a Number object (its [[Class]] is
"Number") whose value is +0.

   The value of the [[Prototype]] internal property of the Number
prototype object is the standard built-in Object prototype object
(15.2.4 (#sec-15.2.4)).

   Unless explicitly stated otherwise, the methods of the Number
prototype object defined below are not generic and the this value
passed to them must be either a Number value or an Object for which the
value of the [[Class]] internal property is "Number".

   In the following descriptions of functions that are properties of
the Number prototype object, the phrase ‚Äúthis Number object‚Äù refers
to either the object that is the this value for the invocation of the
function or, if Type (#def-type)(this value) is Number, an object that
is created as if by the expression `new Number(<var><span
class="this">this</span> value</var>)' where `Number' is the standard
built-in constructor with that name. Also, the phrase ‚Äúthis Number
value‚Äù refers to either the Number value represented by this Number
object, that is, the value of the [[PrimitiveValue]] internal property
of this Number object or the this value if its type is Number. A
TypeError exception is thrown if the this value is neither an object
for which the value of the [[Class]] internal property is "Number" or a
value whose type is Number.


File: javascript_ecma_262_5th_ed.info,  Node: 15741 Numberprototypeconstructor,  Next: 15742 NumberprototypetoString [ radix ],  Prev: 1574 Properties of the Number Prototype Object,  Up: Top

428 15.7.4.1 (#sec-15.7.4.1) Number.prototype.constructor
*********************************************************

The initial value of Number.prototype.constructor is the built-in
Number constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 15742 NumberprototypetoString [ radix ],  Next: 15743 NumberprototypetoLocaleString,  Prev: 15741 Numberprototypeconstructor,  Up: Top

429 15.7.4.2 (#sec-15.7.4.2) Number.prototype.toString ( [ radix ] )
********************************************************************

The optional radix should be an integer value in the inclusive range 2
to 36. If radix not present or is undefined the Number 10 is used as
the value of radix. If ToInteger (#sec-9.4)(radix) is the Number 10
then this Number value (#def-this-Number-value) is given as an argument
to the ToString (#sec-9.8) abstract operation; the resulting String
value is returned.

   If ToInteger (#sec-9.4)(radix) is not an integer between 2 and 36
inclusive throw a RangeError exception. If ToInteger (#sec-9.4)(radix)
is an integer from 2 to 36, but not 10, the result is a String
representation of this Number value (#def-this-Number-value) using the
specified radix. Letters `a'-`z' are used for digits with values 10
through 35. The precise algorithm is implementation-dependent if the
radix is not 10, however the algorithm should be a generalization of
that specified in 9.8.1 (#sec-9.8.1).

   The toString function is not generic; it throws a TypeError
exception if its this value is not a Number or a Number object.
Therefore, it cannot be transferred to other kinds of objects for use
as a method.


File: javascript_ecma_262_5th_ed.info,  Node: 15743 NumberprototypetoLocaleString,  Next: 15744 NumberprototypevalueOf,  Prev: 15742 NumberprototypetoString [ radix ],  Up: Top

430 15.7.4.3 (#sec-15.7.4.3) Number.prototype.toLocaleString()
**************************************************************

Produces a String value that represents this Number value
(#def-this-Number-value) formatted according to the conventions of the
host environment‚Äôs current locale. This function is
implementation-dependent, and it is permissible, but not encouraged,
for it to return the same thing as toString.

   NOTE The first parameter to this function is likely to be used in a
future version of this standard; it is recommended that implementations
do not use this parameter position for anything else.


File: javascript_ecma_262_5th_ed.info,  Node: 15744 NumberprototypevalueOf,  Next: 15745 NumberprototypetoFixed fractionDigits,  Prev: 15743 NumberprototypetoLocaleString,  Up: Top

431 15.7.4.4 (#sec-15.7.4.4) Number.prototype.valueOf ( )
*********************************************************

Returns this Number value (#def-this-Number-value).

   The valueOf function is not generic; it throws a TypeError exception
if its this value is not a Number or a Number object. Therefore, it
cannot be transferred to other kinds of objects for use as a method.


File: javascript_ecma_262_5th_ed.info,  Node: 15745 NumberprototypetoFixed fractionDigits,  Next: 15746 NumberprototypetoExponential fractionDigits,  Prev: 15744 NumberprototypevalueOf,  Up: Top

432 15.7.4.5 (#sec-15.7.4.5) Number.prototype.toFixed (fractionDigits)
**********************************************************************

Return a String containing this Number value (#def-this-Number-value)
represented in decimal fixed-point notation with fractionDigits digits
after the decimal point. If fractionDigits is undefined, 0 is assumed.
Specifically, perform the following steps:

  1. Let f be ToInteger (#sec-9.4)(fractionDigits). (If fractionDigits
     is undefined, this step produces the value 0).

  2. If f < 0 or f > 20, throw a RangeError exception.

  3. Let x be this Number value (#def-this-Number-value).

  4. If x is NaN, return the String "NaN".

  5. Let s be the empty String.

  6. If x < 0, then
       1. Let s be "-".

       2. Let x = ‚àíx.

  7. If x ‚â• 10^21, then
       1. Let m = ToString (#sec-9.8)(x).

  8. Else, x < 10^21
       1. Let n be an integer for which the exact mathematical value of
          n √∑ 10^f ‚àí x is as close to zero as possible. If there are
          two such n, pick the larger n.

       2. If n = 0, let m be the String "0". Otherwise, let m be the
          String consisting of the digits of the decimal representation
          of n (in order, with no leading zeroes).

       3. If f ‚â  0, then
            1. Let k be the number of characters in m.

            2. If k ‚â§ f, then
                 1. Let z be the String consisting of f+1‚àík
                    occurrences of the character ‚Äò`0'‚Äô.

                 2. Let m be the concatenation of Strings z and m.

                 3. Let k = f + 1.

            3. Let a be the first k-f characters of m, and let b be the
               remaining f characters of m.

            4. Let m be the concatenation of the three Strings a, ".",
               and b.


  9. Return the concatenation of the Strings s and m.

   The `length' property of the toFixed method is 1.

   If the toFixed method is called with more than one argument, then
the behaviour is undefined (see clause 15 (#sec-15)).

   An implementation is permitted to extend the behaviour of toFixed
for values of fractionDigits less than 0 or greater than 20. In this
case toFixed would not necessarily throw RangeError for such values.

   NOTE The output of toFixed may be more precise than toString for
some values because toString only prints enough significant digits to
distinguish the number from adjacent number values. For example,


File: javascript_ecma_262_5th_ed.info,  Node: 15746 NumberprototypetoExponential fractionDigits,  Next: 15747 NumberprototypetoPrecision precision,  Prev: 15745 NumberprototypetoFixed fractionDigits,  Up: Top

433 15.7.4.6 (#sec-15.7.4.6) Number.prototype.toExponential (fractionDigits)
****************************************************************************

Return a String containing this Number value (#def-this-Number-value)
represented in decmal exponential notation with one digit before the
significand‚Äôs decimal point and fractionDigits digits after the
significand‚Äôs decimal point. If fractionDigits is undefined, include
as many significand digits as necessary to uniquely specify the Number
(just like in ToString (#sec-9.8) except that in this case the Number
is always output in exponential notation). Specifically, perform the
following steps:

  1. Let x be this Number value (#def-this-Number-value).

  2. Let f be ToInteger (#sec-9.4)(fractionDigits).

  3. If x is NaN, return the String "NaN".

  4. Let s be the empty String.

  5. If x < 0, then
       1. Let s be "-".

       2. Let x = ‚àíx.

  6. If x = +‚àû, then
       1. Return the concatenation of the Strings s and "Infinity".

  7. If fractionDigits is not undefined and (f < 0 or f > 20), throw a
     RangeError exception.

  8. If x = 0, then
       1. Let f = 0.

       2. Let m be the String consisting of f+1 occurrences of the
          character ‚Äò`0'‚Äô.

       3. Let e = 0.

  9. Else, x ‚â  0
       1. If fractionDigits is not undefined, then
            1. Let e and n be integers such that 10^f ‚â§ n < 10^f+1
               and for which the exact mathematical value of n √ó
               10^e‚àíf ‚àí x is as close to zero as possible. If there
               are two such sets of e and n, pick the e and n for which
               n √ó 10^e‚àíf is larger.

       2. Else, fractionDigits is undefined
            1. Let e, n, and f be integers such that f ‚â• 0, 10^f ‚â§
               n < 10^f+1, the number value for n √ó 10^e‚àíf is x, and
               f is as small as possible. Note that the decimal
               representation of n has f+1 digits, n is not divisible
               by 10, and the least significant digit of n is not
               necessarily uniquely determined by these criteria.

       3. Let m be the String consisting of the digits of the decimal
          representation of n (in order, with no leading zeroes).

 10. If f ‚â  0, then
       1. Let a be the first character of m, and let b be the remaining
          f characters of m.

       2. Let m be the concatenation of the three Strings a, ".", and b.

 11. If e = 0, then
       1. Let c = "+".

       2. Let d = "0".

 12. Else
       1. If e > 0, then let c = "+".

       2. Else, e ‚â§ 0
            1. Let c = "-".

            2. Let e = ‚àíe.

       3. Let d be the String consisting of the digits of the decimal
          representation of e (in order, with no leading zeroes).

 13. Let m be the concatenation of the four Strings m, "e", c, and d.

 14. Return the concatenation of the Strings s and m.

   The `length' property of the toExponential method is 1.

   If the toExponential method is called with more than one argument,
then the behaviour is undefined (see clause 15 (#sec-15)).

   NOTE For implementations that provide more accurate conversions than
required by the rules above, it is recommended that the following
alternative version of step 9.b.i be used as a guideline:

     i. Let e, n, and f be integers such that f ‚â• 0, 10^f ‚â§ n <
     10^f+1, the number value for n √ó 10^e‚àíf is x, and f is as small
     as possible. If there are multiple possibilities for n, choose the
     value of n for which n √ó 10^e‚àíf is closest in value to x. If
     there are two such possible values of n, choose the one that is
     even.



File: javascript_ecma_262_5th_ed.info,  Node: 15747 NumberprototypetoPrecision precision,  Next: 1575 Properties of Number Instances,  Prev: 15746 NumberprototypetoExponential fractionDigits,  Up: Top

434 15.7.4.7 (#sec-15.7.4.7) Number.prototype.toPrecision (precision)
*********************************************************************

Return a String containing this Number value (#def-this-Number-value)
represented either in decimal exponential notation with one digit
before the significand‚Äôs decimal point and precision‚àí1 digits after
the significand‚Äôs decimal point or in decimal fixed notation with
precision significant digits. If precision is undefined, call ToString
(#sec-9.8) (9.8.1 (#sec-9.8.1)) instead. Specifically, perform the
following steps:

  1. Let x be this Number value (#def-this-Number-value).

  2. If precision is undefined, return ToString (#sec-9.8)(x).

  3. Let p be ToInteger (#sec-9.4)(precision).

  4. If x is NaN, return the String "NaN".

  5. Let s be the empty String.

  6. If x < 0, then
       1. Let s be "-".

       2. Let x = ‚àíx.

  7. If x = +‚àû, then
       1. Return the concatenation of the Strings s and "Infinity".

  8. If p < 1 or p > 21, throw a RangeError exception.

  9. If x = 0, then
       1. Let m be the String consisting of p occurrences of the
          character ‚Äò`0'‚Äô.

       2. Let e = 0.

 10. Else x ‚â  0,
       1. Let e and n be integers such that 10^p‚àí1 ‚â§ n < 10^p and
          for which the exact mathematical value of n √ó 10^e‚àíp+1 ‚àí
          x is as close to zero as possible. If there are two such sets
          of e and n, pick the e and n for which n √ó 10^e‚àíp+1 is
          larger.

       2. Let m be the String consisting of the digits of the decimal
          representation of n (in order, with no leading zeroes).

       3. If e < ‚àí6 or e ‚â• p, then
            1. Let a be the first character of m, and let b be the
               remaining p‚àí1 characters of m.

            2. Let m be the concatenation of the three Strings a, ".",
               and b.

            3. If e = 0, then
                 1. Let c = "+" and d = "0".

            4. Else e ‚â  0,
                 1. If e > 0, then
                      1. Let c = "+".

                 2. Else e < 0,
                      1. Let c = "-".

                      2. Let e = ‚àíe.

                 3. Let d be the String consisting of the digits of the
                    decimal representation of e (in order, with no
                    leading zeroes).

            5. Let m be the concatenation of the five Strings s, m,
               "e", c, and d.


 11. If e = p‚àí1, then return the concatenation of the Strings s and m.

 12. If e ‚â• 0, then
       1. Let m be the concatenation of the first e+1 characters of m,
          the character ‚Äò`.'‚Äô, and the remaining p‚àí(e+1)
          characters of m.

 13. Else e < 0,
       1. Let m be the concatenation of the String "0.", ‚àí(e+1)
          occurrences of the character ‚Äò`0'‚Äô, and the String m.

 14. Return the concatenation of the Strings s and m.

   The `length' property of the toPrecision method is 1.

   If the toPrecision method is called with more than one argument,
then the behaviour is undefined (see clause 15 (#sec-15)).

   An implementation is permitted to extend the behaviour of
toPrecision for values of precision less than 1 or greater than 21. In
this case toPrecision would not necessarily throw RangeError for such
values.


File: javascript_ecma_262_5th_ed.info,  Node: 1575 Properties of Number Instances,  Next: 158 The Math Object,  Prev: 15747 NumberprototypetoPrecision precision,  Up: Top

435 15.7.5 (#sec-15.7.5) Properties of Number Instances
*******************************************************

Number instances inherit properties from the Number prototype object
and their [[Class]] internal property value is "Number". Number
instances also have a [[PrimitiveValue]] internal property.

   The [[PrimitiveValue]] internal property is the Number value
represented by this Number object.


File: javascript_ecma_262_5th_ed.info,  Node: 158 The Math Object,  Next: 1581 Value Properties of the Math Object,  Prev: 1575 Properties of Number Instances,  Up: Top

436 15.8 (#sec-15.8) The Math Object
************************************

The Math object is a single object that has some named properties, some
of which are functions.

   The value of the [[Prototype]] internal property of the Math object
is the standard built-in Object prototype object (15.2.4
(#sec-15.2.4)). The value of the [[Class]] internal property of the
Math object is "Math".

   The Math object does not have a [[Construct]] internal property; it
is not possible to use the Math object as a constructor with the `new'
operator.

   The Math object does not have a [[Call]] internal property; it is
not possible to invoke the Math object as a function.

   NOTE In this specification, the phrase ‚Äúthe Number value for x‚Äù
has a technical meaning defined in 8.5 (#sec-8.5).


File: javascript_ecma_262_5th_ed.info,  Node: 1581 Value Properties of the Math Object,  Next: 15811 E,  Prev: 158 The Math Object,  Up: Top

437 15.8.1 (#sec-15.8.1) Value Properties of the Math Object
************************************************************


File: javascript_ecma_262_5th_ed.info,  Node: 15811 E,  Next: 15812 LN10,  Prev: 1581 Value Properties of the Math Object,  Up: Top

438 15.8.1.1 (#sec-15.8.1.1) E
******************************

The Number value for _e_, the base of the natural logarithms, which is
approximately 2.7182818284590452354.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15812 LN10,  Next: 15813 LN2,  Prev: 15811 E,  Up: Top

439 15.8.1.2 (#sec-15.8.1.2) LN10
*********************************

The Number value for the natural logarithm of 10, which is
approximately 2.302585092994046.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15813 LN2,  Next: 15814 LOG2E,  Prev: 15812 LN10,  Up: Top

440 15.8.1.3 (#sec-15.8.1.3) LN2
********************************

The Number value for the natural logarithm of 2, which is approximately
0.6931471805599453.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15814 LOG2E,  Next: 15815 LOG10E,  Prev: 15813 LN2,  Up: Top

441 15.8.1.4 (#sec-15.8.1.4) LOG2E
**********************************

The Number value for the base-2 logarithm of _e_, the base of the
natural logarithms; this value is approximately 1.4426950408889634.

   NOTE The value of Math.LOG2E is approximately the reciprocal of the
value of Math.LN2.


File: javascript_ecma_262_5th_ed.info,  Node: 15815 LOG10E,  Next: 15816 PI,  Prev: 15814 LOG2E,  Up: Top

442 15.8.1.5 (#sec-15.8.1.5) LOG10E
***********************************

The Number value for the base-10 logarithm of _e_, the base of the
natural logarithms; this value is approximately 0.4342944819032518.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.

   NOTE The value of Math.LOG10E is approximately the reciprocal of the
value of Math.LN10.


File: javascript_ecma_262_5th_ed.info,  Node: 15816 PI,  Next: 15817 SQRT1_2,  Prev: 15815 LOG10E,  Up: Top

443 15.8.1.6 (#sec-15.8.1.6) PI
*******************************

The Number value for œÄ, the ratio of the circumference of a circle to
its diameter, which is approximately 3.1415926535897932.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15817 SQRT1_2,  Next: 15818 SQRT2,  Prev: 15816 PI,  Up: Top

444 15.8.1.7 (#sec-15.8.1.7) SQRT1_2
************************************

The Number value for the square root of ¬Ω, which is approximately
0.7071067811865476.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.

   NOTE The value of Math.SQRT1_2 is approximately the reciprocal of
the value of Math.SQRT2.


File: javascript_ecma_262_5th_ed.info,  Node: 15818 SQRT2,  Next: 1582 Function Properties of the Math Object,  Prev: 15817 SQRT1_2,  Up: Top

445 15.8.1.8 (#sec-15.8.1.8) SQRT2
**********************************

The Number value for the square root of 2, which is approximately
1.4142135623730951.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 1582 Function Properties of the Math Object,  Next: 15821 abs x,  Prev: 15818 SQRT2,  Up: Top

446 15.8.2 (#sec-15.8.2) Function Properties of the Math Object
***************************************************************

Each of the following Math object functions applies the ToNumber
(#sec-9.3) abstract operator to each of its arguments (in left-to-right
order if there is more than one) and then performs a computation on the
resulting Number value(s).

   In the function descriptions below, the symbols NaN, ‚àí0, +0,
‚àí‚àû and +‚àû refer to the Number values described in 8.5 (#sec-8.5).

   NOTE The behaviour of the functions acos, asin, atan, atan2, cos,
exp, log, pow, sin, sqrt, and tan is not precisely specified here
except to require specific results for certain argument values that
represent boundary cases of interest. For other argument values, these
functions are intended to compute approximations to the results of
familiar mathematical functions, but some latitude is allowed in the
choice of approximation algorithms. The general intent is that an
implementer should be able to use the same mathematical library for
ECMAScript on a given hardware platform that is available to C
programmers on that platform. Although the choice of algorithms is left
to the implementation, it is recommended (but not specified by this
standard) that implementations use the approximation algorithms for
IEEE 754 arithmetic contained in *fdlibm*, the freely distributable
mathematical library from Sun Microsystems
(http://www.netlib.org/fdlibm (http://www.netlib.org/fdlibm)).


File: javascript_ecma_262_5th_ed.info,  Node: 15821 abs x,  Next: 15822 acos x,  Prev: 1582 Function Properties of the Math Object,  Up: Top

447 15.8.2.1 (#sec-15.8.2.1) abs (x)
************************************

Returns the absolute value of x; the result has the same magnitude as x
but has positive sign.

   *   * If x is ‚àí0, the result is +0.

   * If x is ‚àí‚àû, the result is +‚àû.


File: javascript_ecma_262_5th_ed.info,  Node: 15822 acos x,  Next: 15823 asin x,  Prev: 15821 abs x,  Up: Top

448 15.8.2.2 (#sec-15.8.2.2) acos (x)
*************************************

Returns an implementation-dependent approximation to the arc cosine of
x. The result is expressed in radians and ranges from +0 to +œÄ.

   * If x is NaN, the result is NaN.

   * If x is greater than 1, the result is NaN.

   * If x is less than ‚àí1, the result is NaN.

   * If x is exactly 1, the result is +0.


File: javascript_ecma_262_5th_ed.info,  Node: 15823 asin x,  Next: 15824 atan x,  Prev: 15822 acos x,  Up: Top

449 15.8.2.3 (#sec-15.8.2.3) asin (x)
*************************************

Returns an implementation-dependent approximation to the arc sine of x.
The result is expressed in radians and ranges from ‚àíœÄ/2 to +œÄ/2.

   * If x is NaN, the result is NaN.

   * If x is greater than 1, the result is NaN.

   * If x is less than ‚àí1, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.


File: javascript_ecma_262_5th_ed.info,  Node: 15824 atan x,  Next: 15825 atan2 y x,  Prev: 15823 asin x,  Up: Top

450 15.8.2.4 (#sec-15.8.2.4) atan (x)
*************************************

Returns an implementation-dependent approximation to the arc tangent of
x. The result is expressed in radians and ranges from ‚àíœÄ/2 to +œÄ/2.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû, the result is an implementation-dependent
     approximation to +œÄ/2.

   * If x is ‚àí‚àû, the result is an implementation-dependent
     approximation to ‚àíœÄ/2.


File: javascript_ecma_262_5th_ed.info,  Node: 15825 atan2 y x,  Next: 15826 ceil x,  Prev: 15824 atan x,  Up: Top

451 15.8.2.5 (#sec-15.8.2.5) atan2 (y, x)
*****************************************

Returns an implementation-dependent approximation to the arc tangent of
the quotient y/x of the arguments y and x, where the signs of y and x
are used to determine the quadrant of the result. Note that it is
intentional and traditional for the two-argument arc tangent function
that the argument named y be first and the argument named x be second.
The result is expressed in radians and ranges from ‚àíœÄ to +œÄ.

   * If either x or y is NaN, the result is NaN.

   * If y>0 and x is +0, the result is an implementation-dependent
     approximation to +œÄ/2.

   * If y>0 and x is ‚àí0, the result is an implementation-dependent
     approximation to +œÄ/2.

   * If y is +0 and x>0, the result is +0.

   * If y is +0 and x is +0, the result is +0.

   * If y is +0 and x is ‚àí0, the result is an
     implementation-dependent approximation to +œÄ.

   * If y is +0 and x<0, the result is an implementation-dependent
     approximation to +œÄ.

   * If y is ‚àí0 and x>0, the result is ‚àí0.

   * If y is ‚àí0 and x is +0, the result is ‚àí0.

   * If y is ‚àí0 and x is ‚àí0, the result is an
     implementation-dependent approximation to ‚àíœÄ.

   * If y is ‚àí0 and x<0, the result is an implementation-dependent
     approximation to ‚àíœÄ.

   * If y<0 and x is +0, the result is an implementation-dependent
     approximation to ‚àíœÄ/2.

   * If y<0 and x is ‚àí0, the result is an implementation-dependent
     approximation to ‚àíœÄ/2.

   *   * If y>0 and y is finite and x is ‚àí‚àû, the result if an
     implementation-dependent approximation to +œÄ.

   * If y<0 and y is finite and x is +‚àû, the result is ‚àí0.

   * If y<0 and y is finite and x is ‚àí‚àû, the result is an
     implementation-dependent approximation to ‚àíœÄ.

   * If y is +‚àû and x is finite, the result is an
     implementation-dependent approximation to +œÄ/2.

   * If y is ‚àí‚àû and x is finite, the result is an
     implementation-dependent approximation to ‚àíœÄ/2.

   * If y is +‚àû and x is +‚àû, the result is an
     implementation-dependent approximation to +œÄ/4.

   * If y is +‚àû and x is ‚àí‚àû, the result is an
     implementation-dependent approximation to +3œÄ/4.

   * If y is ‚àí‚àû and x is +‚àû, the result is an
     implementation-dependent approximation to ‚àíœÄ/4.

   * If y is ‚àí‚àû and x is ‚àí‚àû, the result is an
     implementation-dependent approximation to ‚àí3œÄ/4.


File: javascript_ecma_262_5th_ed.info,  Node: 15826 ceil x,  Next: 15827 cosx,  Prev: 15825 atan2 y x,  Up: Top

452 15.8.2.6 (#sec-15.8.2.6) ceil (x)
*************************************

Returns the smallest (closest to ‚àí‚àû) Number value that is not less
than x and is equal to a mathematical integer. If x is already an
integer, the result is x.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû, the result is +‚àû.

   * If x is ‚àí‚àû, the result is ‚àí‚àû.

   * If x is less than 0 but greater than ‚àí1, the result is ‚àí0.

   The value of `Math.ceil(x)' is the same as the value of
`-Math.floor(-x)'.


File: javascript_ecma_262_5th_ed.info,  Node: 15827 cosx,  Next: 15828 expx,  Prev: 15826 ceil x,  Up: Top

453 15.8.2.7 (#sec-15.8.2.7) cos(x)
***********************************

Returns an implementation-dependent approximation to the cosine of x.
The argument is expressed in radians.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is 1.

   * If x is ‚àí0, the result is 1.

   * If x is +‚àû, the result is NaN.

   * If x is ‚àí‚àû, the result is NaN.


File: javascript_ecma_262_5th_ed.info,  Node: 15828 expx,  Next: 15829 floor x,  Prev: 15827 cosx,  Up: Top

454 15.8.2.8 (#sec-15.8.2.8) exp(x)
***********************************

Returns an implementation-dependent approximation to the exponential
function of x (_e_ raised to the power of x, where _e_ is the base of
the natural logarithms).

   * If x is NaN, the result is NaN.

   * If x is +0, the result is 1.

   * If x is ‚àí0, the result is 1.

   * If x is +‚àû, the result is +‚àû.

   * If x is ‚àí‚àû, the result is +0.


File: javascript_ecma_262_5th_ed.info,  Node: 15829 floor x,  Next: 158210 log x,  Prev: 15828 expx,  Up: Top

455 15.8.2.9 (#sec-15.8.2.9) floor (x)
**************************************

Returns the greatest (closest to +‚àû) Number value that is not greater
than x and is equal to a mathematical integer. If x is already an
integer, the result is x.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû, the result is +‚àû.

   * If x is ‚àí‚àû, the result is ‚àí‚àû.

   *
   NOTE The value of `Math.floor(x)' is the same as the value of
`-Math.ceil(-x)'.


File: javascript_ecma_262_5th_ed.info,  Node: 158210 log x,  Next: 158211 max [ value1 [ value2 [ ] ] ],  Prev: 15829 floor x,  Up: Top

456 15.8.2.10 (#sec-15.8.2.10) log (x)
**************************************

Returns an implementation-dependent approximation to the natural
logarithm of x.

   * If x is NaN, the result is NaN.

   * If x is less than 0, the result is NaN.

   * If x is +0 or ‚àí0, the result is ‚àí‚àû.

   * If x is 1, the result is +0.

   * If x is +‚àû, the result is +‚àû.


File: javascript_ecma_262_5th_ed.info,  Node: 158211 max [ value1 [ value2 [ ] ] ],  Next: 158212 min [ value1 [ value2 [ ] ] ],  Prev: 158210 log x,  Up: Top

457 15.8.2.11 (#sec-15.8.2.11) max ( [ value1 [ , value2 [ , ... ] ] ] )
************************************************************************

Given zero or more arguments, calls ToNumber (#sec-9.3) on each of the
arguments and returns the largest of the resulting values.

   * If no arguments are given, the result is ‚àí‚àû.

   * If any value is NaN, the result is NaN.

   * The comparison of values to determine the largest value is done as
     in 11.8.5 (#sec-11.8.5) except that +0 is considered to be larger
     than ‚àí0.

   The `length' property of the max method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 158212 min [ value1 [ value2 [ ] ] ],  Next: 158213 pow x y,  Prev: 158211 max [ value1 [ value2 [ ] ] ],  Up: Top

458 15.8.2.12 (#sec-15.8.2.12) min ( [ value1 [ , value2 [ , ... ] ] ] )
************************************************************************

Given zero or more arguments, calls ToNumber (#sec-9.3) on each of the
arguments and returns the smallest of the resulting values.

   * If no arguments are given, the result is +‚àû.

   * If any value is NaN, the result is NaN.

   * The comparison of values to determine the smallest value is done
     as in 11.8.5 (#sec-11.8.5) except that +0 is considered to be
     larger than ‚àí0.

   The `length' property of the min method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 158213 pow x y,  Next: 158214 random,  Prev: 158212 min [ value1 [ value2 [ ] ] ],  Up: Top

459 15.8.2.13 (#sec-15.8.2.13) pow (x, y)
*****************************************

Returns an implementation-dependent approximation to the result of
raising x to the power y.

   * If y is NaN, the result is NaN.

   * If y is +0, the result is 1, even if x is NaN.

   * If y is ‚àí0, the result is 1, even if x is NaN.

   * If x is NaN and y is nonzero, the result is NaN.

   * If abs (#def-abs)(x)>1 and y is +‚àû, the result is +‚àû.

   * If abs (#def-abs)(x)>1 and y is ‚àí‚àû, the result is +0.

   * If abs (#def-abs)(x)==1 and y is +‚àû, the result is NaN.

   * If abs (#def-abs)(x)==1 and y is ‚àí‚àû, the result is NaN.

   * If abs (#def-abs)(x)<1 and y is +‚àû, the result is +0.

   * If abs (#def-abs)(x)<1 and y is ‚àí‚àû, the result is +‚àû.

   * If x is +‚àû and y>0, the result is +‚àû.

   * If x is +‚àû and y<0, the result is +0.

   * If x is ‚àí‚àû and y>0 and y is an odd integer, the result is
     ‚àí‚àû.

   * If x is ‚àí‚àû and y>0 and y is not an odd integer, the result is
     +‚àû.

   * If x is ‚àí‚àû and y<0 and y is an odd integer, the result is ‚àí0.

   *   * If x is +0 and y>0, the result is +0.

   * If x is +0 and y<0, the result is +‚àû.

   * If x is ‚àí0 and y>0 and y is an odd integer, the result is ‚àí0.

   * If x is ‚àí0 and y>0 and y is not an odd integer, the result is +0.

   * If x is ‚àí0 and y<0 and y is an odd integer, the result is ‚àí‚àû.

   * If x is ‚àí0 and y<0 and y is not an odd integer, the result is
     +‚àû.

   * If x<0 and x is finite and y is finite and y is not an integer,
     the result is NaN.


File: javascript_ecma_262_5th_ed.info,  Node: 158214 random,  Next: 158215 round x,  Prev: 158213 pow x y,  Up: Top

460 15.8.2.14 (#sec-15.8.2.14) random ( )
*****************************************

Returns a Number value with positive sign, greater than or equal to 0
but less than 1, chosen randomly or pseudo randomly with approximately
uniform distribution over that range, using an implementation-dependent
algorithm or strategy. This function takes no arguments.


File: javascript_ecma_262_5th_ed.info,  Node: 158215 round x,  Next: 158216 sin x,  Prev: 158214 random,  Up: Top

461 15.8.2.15 (#sec-15.8.2.15) round (x)
****************************************

Returns the Number value that is closest to x and is equal to a
mathematical integer. If two integer Number values are equally close to
x, then the result is the Number value that is closer to +‚àû. If x is
already an integer, the result is x.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû, the result is +‚àû.

   * If x is ‚àí‚àû, the result is ‚àí‚àû.

   * If x is greater than 0 but less than 0.5, the result is +0.

   * If x is less than 0 but greater than or equal to ‚àí0.5, the
     result is ‚àí0.

   NOTE 1 `Math.round(3.5)' returns 4, but `Math.round(-3.5)' returns
‚àí3.

   NOTE 2 The value of `Math.round(x)' is the same as the value of
`Math.floor(x+0.5)', except when x is ‚àí0 or is less than 0 but
greater than or equal to ‚àí0.5; for these cases `Math.round(x)'
returns ‚àí0, but `Math.floor(x+0.5)' returns +0.


File: javascript_ecma_262_5th_ed.info,  Node: 158216 sin x,  Next: 158217 sqrt x,  Prev: 158215 round x,  Up: Top

462 15.8.2.16 (#sec-15.8.2.16) sin (x)
**************************************

Returns an implementation-dependent approximation to the sine of x. The
argument is expressed in radians.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû or ‚àí‚àû, the result is NaN.


File: javascript_ecma_262_5th_ed.info,  Node: 158217 sqrt x,  Next: 158218 tan x,  Prev: 158216 sin x,  Up: Top

463 15.8.2.17 (#sec-15.8.2.17) sqrt (x)
***************************************

Returns an implementation-dependent approximation to the square root of
x.

   * If x is NaN, the result is NaN.

   * If x is less than 0, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû, the result is +‚àû.


File: javascript_ecma_262_5th_ed.info,  Node: 158218 tan x,  Next: 159 Date Objects,  Prev: 158217 sqrt x,  Up: Top

464 15.8.2.18 (#sec-15.8.2.18) tan (x)
**************************************

Returns an implementation-dependent approximation to the tangent of x.
The argument is expressed in radians.

   * If x is NaN, the result is NaN.

   * If x is +0, the result is +0.

   * If x is ‚àí0, the result is ‚àí0.

   * If x is +‚àû or ‚àí‚àû, the result is NaN.


File: javascript_ecma_262_5th_ed.info,  Node: 159 Date Objects,  Next: 1591 Overview of Date Objects and Definitions of Abstract Operators,  Prev: 158218 tan x,  Up: Top

465 15.9 (#sec-15.9) Date Objects
*********************************


File: javascript_ecma_262_5th_ed.info,  Node: 1591 Overview of Date Objects and Definitions of Abstract Operators,  Next: 15911 Time Values and Time Range,  Prev: 159 Date Objects,  Up: Top

466 15.9.1 (#sec-15.9.1) Overview of Date Objects and Definitions of Abstract Operators
***************************************************************************************

The following functions are abstract operations that operate on time
values (defined in 15.9.1.1 (#sec-15.9.1.1)). Note that, in every case,
if any argument to one of these functions is NaN, the result will be
NaN.


File: javascript_ecma_262_5th_ed.info,  Node: 15911 Time Values and Time Range,  Next: 15912 Day Number and Time within Day,  Prev: 1591 Overview of Date Objects and Definitions of Abstract Operators,  Up: Top

467 15.9.1.1 (#sec-15.9.1.1) Time Values and Time Range
*******************************************************

A Date object contains a Number indicating a particular instant in time
to within a millisecond. Such a Number is called a time value. A time
value may also be NaN, indicating that the Date object does not
represent a specific instant of time.

   Time is measured in ECMAScript in milliseconds since 01 January,
1970 UTC. In time values leap seconds are ignored. It is assumed that
there are exactly 86,400,000 milliseconds per day. ECMAScript Number
values can represent all integers from ‚àí9,007,199,254,740,991 to
9,007,199,254,740,991; this range suffices to measure times to
millisecond precision for any instant that is within approximately
285,616 years, either forward or backward, from 01 January, 1970 UTC.

   The actual range of times supported by ECMAScript Date objects is
slightly smaller: exactly ‚àí100,000,000 days to 100,000,000 days
measured relative to midnight at the beginning of 01 January, 1970 UTC.
This gives a range of 8,640,000,000,000,000 milliseconds to either side
of 01 January, 1970 UTC.

   The exact moment of midnight at the beginning of 01 January, 1970
UTC is represented by the value +0.


File: javascript_ecma_262_5th_ed.info,  Node: 15912 Day Number and Time within Day,  Next: 15913 Year Number,  Prev: 15911 Time Values and Time Range,  Up: Top

468 15.9.1.2 (#sec-15.9.1.2) Day Number and Time within Day
***********************************************************

A given time value t belongs to day number

   Day(t) = floor (#def-floor)(t / msPerDay) where the number of
milliseconds per day is

   msPerDay = 86400000 The remainder is called the time within the day:

   TimeWithinDay(t) = t modulo (#def-modulo) msPerDay


File: javascript_ecma_262_5th_ed.info,  Node: 15913 Year Number,  Next: 15914 Month Number,  Prev: 15912 Day Number and Time within Day,  Up: Top

469 15.9.1.3 (#sec-15.9.1.3) Year Number
****************************************

ECMAScript uses an extrapolated Gregorian system to map a day number to
a year number and to determine the month and date within that year. In
this system, leap years are precisely those which are (divisible by 4)
and ((not divisible by 100) or (divisible by 400)). The number of days
in year number y is therefore defined by

   DaysInYear(y) = 365 if (y modulo (#def-modulo) 4) ‚â  0 /span = 366
if (y modulo (#def-modulo) 4) = 0 and (y modulo (#def-modulo) 100) ‚â  0
= 365 if (y modulo (#def-modulo) 100) = 0 and (y modulo (#def-modulo)
400) ‚â  0 = 366 if (y modulo (#def-modulo) 400) = 0

   All non-leap years have 365 days with the usual number of days per
month and leap years have an extra day in February. The day number of
the first day of year y is given by:

   DayFromYear(y) = 365 √ó (y‚àí1970) + floor
(#def-floor)((y‚àí1969)/4) ‚àí floor (#def-floor)((y‚àí1901)/100) +
floor (#def-floor)((y‚àí1601)/400) The time value of the start of a
year is:

   TimeFromYear(y) = msPerDay √ó DayFromYear(y) A time value determines
a year by:

   YearFromTime(t) = the largest integer y (closest to positive
infinity) such that TimeFromYear(y) ‚â§ t The leap-year function is 1
for a time within a leap year and otherwise is zero:

   InLeapYear(t) = 0 if DaysInYear(YearFromTime(t)) = 365 = 1 if
DaysInYear(YearFromTime(t)) = 366


File: javascript_ecma_262_5th_ed.info,  Node: 15914 Month Number,  Next: 15915 Date Number,  Prev: 15913 Year Number,  Up: Top

470 15.9.1.4 (#sec-15.9.1.4) Month Number
*****************************************

Months are identified by an integer in the range 0 to 11, inclusive.
The mapping MonthFromTime(t) from a time value t to a month number is
defined by:

   MonthFromTime(t) = 0 if 0 ‚â§ DayWithinYear(t) < 31 = 1 if 31 ‚â§
DayWithinYear(t) < 59+InLeapYear (#sec-15.9.1.3)(t) = 2 if
59+InLeapYear (#sec-15.9.1.3)(t) ‚â§ DayWithinYear(t) < 90+InLeapYear
(#sec-15.9.1.3)(t) = 3 if 90+InLeapYear (#sec-15.9.1.3)(t) ‚â§
DayWithinYear(t) < 120+InLeapYear (#sec-15.9.1.3)(t) = 4 if
120+InLeapYear (#sec-15.9.1.3)(t) ‚â§ DayWithinYear(t) < 151+InLeapYear
(#sec-15.9.1.3)(t) = 5 if 151+InLeapYear (#sec-15.9.1.3)(t) ‚â§
DayWithinYear(t) < 181+InLeapYear (#sec-15.9.1.3)(t) = 6 if
181+InLeapYear (#sec-15.9.1.3)(t) ‚â§ DayWithinYear(t) < 212+InLeapYear
(#sec-15.9.1.3)(t) = 7 if 212+InLeapYear (#sec-15.9.1.3)(t) ‚â§
DayWithinYear(t) < 243+InLeapYear (#sec-15.9.1.3)(t) = 8 if
243+InLeapYear (#sec-15.9.1.3)(t) ‚â§ DayWithinYear(t) < 273+InLeapYear
(#sec-15.9.1.3)(t) = 9 if 273+InLeapYear (#sec-15.9.1.3)(t) ‚â§
DayWithinYear(t) < 304+InLeapYear (#sec-15.9.1.3)(t) = 10 if
304+InLeapYear (#sec-15.9.1.3)(t) ‚â§ DayWithinYear(t) < 334+InLeapYear
(#sec-15.9.1.3)(t) = 11 if 334+InLeapYear (#sec-15.9.1.3)(t) ‚â§
DayWithinYear(t) < 365+InLeapYear (#sec-15.9.1.3)(t) where

   DayWithinYear(t) = Day (#sec-15.9.1.2)(t)‚àíDayFromYear
(#sec-15.9.1.3)(YearFromTime (#sec-15.9.1.3)(t)) A month value of 0
specifies January; 1 specifies February; 2 specifies March; 3 specifies
April; 4 specifies May; 5 specifies June; 6 specifies July; 7 specifies
August; 8 specifies September; 9 specifies October; 10 specifies
November; and 11 specifies December. Note that MonthFromTime(0) = 0,
corresponding to Thursday, 01 January, 1970.


File: javascript_ecma_262_5th_ed.info,  Node: 15915 Date Number,  Next: 15916 Week Day,  Prev: 15914 Month Number,  Up: Top

471 15.9.1.5 (#sec-15.9.1.5) Date Number
****************************************

A date number is identified by an integer in the range 1 through 31,
inclusive. The mapping DateFromTime(t) from a time value t to a month
number is defined by:

   DateFromTime(t) = DayWithinYear (#sec-15.9.1.4)(t)+1 if
MonthFromTime (#sec-15.9.1.4)(t)=0 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí30 if MonthFromTime (#sec-15.9.1.4)(t)=1 =
DayWithinYear (#sec-15.9.1.4)(t)‚àí58‚àíInLeapYear (#sec-15.9.1.3)(t)
if MonthFromTime (#sec-15.9.1.4)(t)=2 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí89‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=3 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí119‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=4 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí150‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=5 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí180‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=6 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí211‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=7 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí242‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=8 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí272‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=9 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí303‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=10 = DayWithinYear
(#sec-15.9.1.4)(t)‚àí333‚àíInLeapYear (#sec-15.9.1.3)(t) if
MonthFromTime (#sec-15.9.1.4)(t)=11


File: javascript_ecma_262_5th_ed.info,  Node: 15916 Week Day,  Next: 15917 Local Time Zone Adjustment,  Prev: 15915 Date Number,  Up: Top

472 15.9.1.6 (#sec-15.9.1.6) Week Day
*************************************

The weekday for a particular time value t is defined as

   WeekDay(t) = (Day (#sec-15.9.1.2)(t) + 4) modulo (#def-modulo) 7 A
weekday value of 0 specifies Sunday; 1 specifies Monday; 2 specifies
Tuesday; 3 specifies Wednesday; 4 specifies Thursday; 5 specifies
Friday; and 6 specifies Saturday. Note that WeekDay(0) = 4,
corresponding to Thursday, 01 January, 1970.


File: javascript_ecma_262_5th_ed.info,  Node: 15917 Local Time Zone Adjustment,  Next: 15918 Daylight Saving Time Adjustment,  Prev: 15916 Week Day,  Up: Top

473 15.9.1.7 (#sec-15.9.1.7) Local Time Zone Adjustment
*******************************************************

An implementation of ECMAScript is expected to determine the local time
zone adjustment. The local time zone adjustment is a value LocalTZA
measured in milliseconds which when added to UTC represents the local
_standard_ time. Daylight saving time is _not_ reflected by LocalTZA.
The value LocalTZA does not vary with time but depends only on the
geographic location.


File: javascript_ecma_262_5th_ed.info,  Node: 15918 Daylight Saving Time Adjustment,  Next: 15919 Local Time,  Prev: 15917 Local Time Zone Adjustment,  Up: Top

474 15.9.1.8 (#sec-15.9.1.8) Daylight Saving Time Adjustment
************************************************************

An implementation of ECMAScript is expected to determine the daylight
saving time algorithm. The algorithm to determine the daylight saving
time adjustment DaylightSavingTA(t), measured in milliseconds, must
depend only on four things:

   (1) the time since the beginning of the year

   t ‚àí TimeFromYear (#sec-15.9.1.3)(YearFromTime (#sec-15.9.1.3)(t))
(2) whether t is in a leap year

   InLeapYear (#sec-15.9.1.3)(t) (3) the week day of the beginning of
the year

   WeekDay (#sec-15.9.1.6)(TimeFromYear (#sec-15.9.1.3)(YearFromTime
(#sec-15.9.1.3)(t)) and (4) the geographic location.

   The implementation of ECMAScript should not try to determine whether
the exact time was subject to daylight saving time, but just whether
daylight saving time would have been in effect if the current daylight
saving time algorithm had been used at the time. This avoids
complications such as taking into account the years that the locale
observed daylight saving time year round.

   If the host environment provides functionality for determining
daylight saving time, the implementation of ECMAScript is free to map
the year in question to an equivalent year (same leap-year-ness and
same starting week day for the year) for which the host environment
provides daylight saving time information. The only restriction is that
all equivalent years should produce the same result.


File: javascript_ecma_262_5th_ed.info,  Node: 15919 Local Time,  Next: 159110 Hours Minutes Second and Milliseconds,  Prev: 15918 Daylight Saving Time Adjustment,  Up: Top

475 15.9.1.9 (#sec-15.9.1.9) Local Time
***************************************

Conversion from UTC to local time is defined by

   LocalTime(t) = t + LocalTZA (#sec-15.9.1.7) + DaylightSavingTA
(#sec-15.9.1.8)(t) Conversion from local time to UTC is defined by

   UTC(t) = t ‚àí LocalTZA (#sec-15.9.1.7) ‚àí DaylightSavingTA
(#sec-15.9.1.8)(t ‚àí LocalTZA (#sec-15.9.1.7)) Note that
UTC(LocalTime(t)) is not necessarily always equal to t.


File: javascript_ecma_262_5th_ed.info,  Node: 159110 Hours Minutes Second and Milliseconds,  Next: 159111 MakeTime hour min sec ms,  Prev: 15919 Local Time,  Up: Top

476 15.9.1.10 (#sec-15.9.1.10) Hours, Minutes, Second, and Milliseconds
***********************************************************************

The following functions are useful in decomposing time values:

   HourFromTime(t) = floor (#def-floor)(t / msPerHour) modulo
(#def-modulo) HoursPerDay

   MinFromTime(t) = floor (#def-floor)(t / msPerMinute) modulo
(#def-modulo) MinutesPerHour SecFromTime(t) = floor (#def-floor)(t /
msPerSecond) modulo (#def-modulo) SecondsPerMinute msFromTime(t) = t
modulo (#def-modulo) msPerSecond where

   HoursPerDay = 24 MinutesPerHour = 60 SecondsPerMinute = 60
msPerSecond = 1000 msPerMinute = 60000 = msPerSecond √ó SecondsPerMinute
msPerHour = 3600000 = msPerMinute √ó MinutesPerHour


File: javascript_ecma_262_5th_ed.info,  Node: 159111 MakeTime hour min sec ms,  Next: 159112 MakeDay year month date,  Prev: 159110 Hours Minutes Second and Milliseconds,  Up: Top

477 15.9.1.11 (#sec-15.9.1.11) MakeTime (hour, min, sec, ms)
************************************************************

The operator MakeTime calculates a number of milliseconds from its four
arguments, which must be ECMAScript Number values. This operator
functions as follows:

  1. If hour is not finite or min is not finite or sec is not finite or
     ms is not finite, return NaN.

  2. Let h be ToInteger (#sec-9.4)(hour).

  3. Let m be ToInteger (#sec-9.4)(min).

  4. Let s be ToInteger (#sec-9.4)(sec).

  5. Let milli be ToInteger (#sec-9.4)(ms).

  6. Let t be h `*' msPerHour `+' m `*' msPerMinute `+' s `*'
     msPerSecond `+' milli, performing the arithmetic according to IEEE
     754 rules (that is, as if using the ECMAScript operators `*' and
     `+').

  7. Return t.


File: javascript_ecma_262_5th_ed.info,  Node: 159112 MakeDay year month date,  Next: 159113 MakeDate day time,  Prev: 159111 MakeTime hour min sec ms,  Up: Top

478 15.9.1.12 (#sec-15.9.1.12) MakeDay (year, month, date)
**********************************************************

The operator MakeDay calculates a number of days from its three
arguments, which must be ECMAScript Number values. This operator
functions as follows:

  1. If year is not finite or month is not finite or date is not
     finite, return NaN.

  2. Let y be ToInteger (#sec-9.4)(year).

  3. Let m be ToInteger (#sec-9.4)(month).

  4. Let dt be ToInteger (#sec-9.4)(date).

  5. Let ym be y + floor (#def-floor)(m /12).

  6. Let mn be m modulo (#def-modulo) 12.

  7. Find a value t such that YearFromTime (#sec-15.9.1.3)(t) *==* ym
     and MonthFromTime (#sec-15.9.1.4)(t) *==* mn and DateFromTime
     (#sec-15.9.1.5)(t) *==* 1; but if this is not possible (because
     some argument is out of range), return NaN.

  8. Return Day (#sec-15.9.1.2)(t) + dt ‚àí 1.


File: javascript_ecma_262_5th_ed.info,  Node: 159113 MakeDate day time,  Next: 159114 TimeClip time,  Prev: 159112 MakeDay year month date,  Up: Top

479 15.9.1.13 (#sec-15.9.1.13) MakeDate (day, time)
***************************************************

The operator MakeDate calculates a number of milliseconds from its two
arguments, which must be ECMAScript Number values. This operator
functions as follows:

  1. If day is not finite or time is not finite, return NaN.

  2. Return day √ó msPerDay + time.


File: javascript_ecma_262_5th_ed.info,  Node: 159114 TimeClip time,  Next: 159115 Date Time String Format,  Prev: 159113 MakeDate day time,  Up: Top

480 15.9.1.14 (#sec-15.9.1.14) TimeClip (time)
**********************************************

The operator TimeClip calculates a number of milliseconds from its
argument, which must be an ECMAScript Number value. This operator
functions as follows:

  1. If time is not finite, return NaN.

  2. If abs (#def-abs)(time) > 8.64 √ó 10^15, return NaN.

  3. Return an implementation-dependent choice of either ToInteger
     (#sec-9.4)(time) or ToInteger (#sec-9.4)(time) + (+0). (Adding a
     positive zero converts ‚àí0 to +0.)

   NOTE The point of step 3 is that an implementation is permitted a
choice of internal representations of time values, for example as a
64-bit signed integer or as a 64-bit floating-point value. Depending on
the implementation, this internal representation may or may not
distinguish ‚àí0 and +0.


File: javascript_ecma_262_5th_ed.info,  Node: 159115 Date Time String Format,  Next: 1591151 Extended years,  Prev: 159114 TimeClip time,  Up: Top

481 15.9.1.15 (#sec-15.9.1.15) Date Time String Format
******************************************************

ECMAScript defines a string interchange format for date-times based
upon a simplification of the ISO 8601 Extended Format. The format is as
follows: `YYYY-MM-DDTHH:mm:ss.sss<var>Z</var>'

   Where the fields are as follows:

   `YYYY' is the decimal digits of the year in the Gregorian calendar.
`-' ‚Äú`:'‚Äù (hyphen) appears literally twice in the string.  `MM' is
the month of the year from 01 (January) to 12 (December).  `DD' is the
day of the month from 01 to 31.  `T' ‚Äú`T'‚Äù appears literally in the
string, to indicate the beginning of the time element.  `HH' is the
number of complete hours that have passed since midnight as two decimal
digits from 00 to 24.  `:' ‚Äú`:'‚Äù (colon) appears literally twice in
the string.  `mm' is the number of complete minutes since the start of
the hour as two decimal digits from 00 to 59.  `ss' is the number of
complete seconds since the start of the minute as two decimal digits
from 00 to 59.  `.' ‚Äú`.'‚Äù (dot) appears literally in the string.
`sss' is the number of complete milliseconds since the start of the
second as three decimal digits.  Both the "." and the milliseconds
field may be omitted.  `<var>Z</var>' is the time zone offset specified
as ‚Äú`Z'‚Äù (for UTC) or either ‚Äú`+'‚Äù or ‚Äú`-'‚Äù followed by a
time expression `HH:mm' This format includes date-only forms:

YYYY
YYYY-MM
YYYY-MM-DD

   It also includes ‚Äúdate-time‚Äù forms that consist of one of the
above date-only forms immediately followed by one of the following time
forms with an optional time zone offset appended:

THH:mm
THH:mm:ss
THH:mm:ss.sss

   All numbers must be base 10. If the `MM' or `DD' fields are absent
‚Äú`01'‚Äù is used as the value. If the `mm' or `ss' fields are absent
‚Äú`00'‚Äù is used as the value and the value of an absent `sss' file
is ‚Äú`000'‚Äù. The value of an absent time zone offset is ‚Äú`Z'‚Äù.

   Illegal values (out-of-bounds as well as syntax errors) in a format
string means that the format string is not a valid instance of this
format.

   NOTE 1 As every day both starts and ends with midnight, the two
notations 00:00 and 24:00 are available to distinguish the two
midnights that can be associated with one date. This means that the
following two notations refer to exactly the same point in time:
1995-02-04T24:00 and 1995-02-05T00:00

   NOTE 2 There exists no international standard that specifies
abbreviations for civil time zones like CET, EST, etc. and sometimes
the same abbreviation is even used for two very different time zones.
For this reason, ISO 8601 and this format specifies numeric
representations of date and time.


File: javascript_ecma_262_5th_ed.info,  Node: 1591151 Extended years,  Next: 1592 The Date Constructor Called as a Function,  Prev: 159115 Date Time String Format,  Up: Top

482 15.9.1.15.1 (#sec-15.9.1.15.1) Extended years
*************************************************

ECMAScript requires the ability to specify 6 digit years (extended
years); approximately 285,616 years, either forward or backward, from
01 January, 1970 UTC. To represent years before 0 or after 9999, ISO
8601 permits the expansion of the year representation, but only by
prior agreement between the sender and the receiver. In the simplified
ECMAScript format such an expanded year representation shall have 2
extra year digits and is always prefixed with a `+' or `‚àí' sign. The
year 0 is considered positive and hence prefixed with a `+' sign.


File: javascript_ecma_262_5th_ed.info,  Node: 1592 The Date Constructor Called as a Function,  Next: 15921 Date [ year [ month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ] ] ],  Prev: 1591151 Extended years,  Up: Top

483 15.9.2 (#sec-15.9.2) The Date Constructor Called as a Function
******************************************************************

When Date is called as a function rather than as a constructor, it
returns a String representing the current time (UTC).

   NOTE The function call `Date(<var>...</var>)' is not equivalent to
the object creation expression `new Date(<var>...</var>)' with the same
arguments.


File: javascript_ecma_262_5th_ed.info,  Node: 15921 Date [ year [ month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ] ] ],  Next: 1593 The Date Constructor,  Prev: 1592 The Date Constructor Called as a Function,  Up: Top

484 15.9.2.1 (#sec-15.9.2.1) Date ( [ year [, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] ] ] )
****************************************************************************************************************

All of the arguments are optional; any arguments supplied are accepted
but are completely ignored. A String is created and returned as if by
the expression `(new Date()).toString()' where `Date' is the standard
built-in constructor with that name and `toString' is the standard
built-in method Date.prototype.toString.


File: javascript_ecma_262_5th_ed.info,  Node: 1593 The Date Constructor,  Next: 15931 new Date year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Prev: 15921 Date [ year [ month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ] ] ],  Up: Top

485 15.9.3 (#sec-15.9.3) The Date Constructor
*********************************************

When Date is called as part of a `new' expression, it is a constructor:
it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 15931 new Date year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Next: 15932 new Date value,  Prev: 1593 The Date Constructor,  Up: Top

486 15.9.3.1 (#sec-15.9.3.1) new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )
***********************************************************************************************************

When Date is called with two to seven arguments, it computes the date
from year, month, and (optionally) date, hours, minutes, seconds and ms.

   The [[Prototype]] internal property of the newly constructed object
is set to the original Date prototype object, the one that is the
initial value of Date.prototype (15.9.4.1 (#sec-15.9.4.1)).

   The [[Class]] internal property of the newly constructed object is
set to "Date".

   The [[Extensible]] internal property of the newly constructed object
is set to true.

   The [[PrimitiveValue]] internal property of the newly constructed
object is set as follows:

  1. Let y be ToNumber (#sec-9.3)(year).

  2. Let m be ToNumber (#sec-9.3)(month).

  3. If date is supplied then let dt be ToNumber (#sec-9.3)(date); else
     let dt be 1.

  4. If hours is supplied then let h be ToNumber (#sec-9.3)(hours);
     else let h be 0.

  5. If minutes is supplied then let min be ToNumber
     (#sec-9.3)(minutes); else let min be 0.

  6. If seconds is supplied then let s be ToNumber (#sec-9.3)(seconds);
     else let s be 0.

  7. If ms is supplied then let milli be ToNumber (#sec-9.3)(ms); else
     let milli be 0.

  8. If y is not NaN and 0 ‚â§ ToInteger (#sec-9.4)(y) ‚â§ 99, then let
     yr be 1900 + ToInteger (#sec-9.4)(y); otherwise, let yr be y.

  9. Let finalDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(yr, m, dt), MakeTime (#sec-15.9.1.11)(h, min, s,
     milli)).

 10. Set the [[PrimitiveValue]] internal property of the newly
     constructed object to TimeClip (#sec-15.9.1.14)(UTC
     (#sec-15.9.1.9)(finalDate)).


File: javascript_ecma_262_5th_ed.info,  Node: 15932 new Date value,  Next: 15933 new Date,  Prev: 15931 new Date year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Up: Top

487 15.9.3.2 (#sec-15.9.3.2) new Date (value)
*********************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Date prototype object, the one that is the initial
value of Date.prototype (15.9.4.1 (#sec-15.9.4.1)).

   The [[Extensible]] internal property of the newly constructed object
is set to true.

   The [[PrimitiveValue]] internal property of the newly constructed
object is set as follows:

  1. Let v be ToPrimitive (#sec-9.1)(value).

  2. If Type (#def-type)(v) is String, then
       1. Parse v as a date, in exactly the same manner as for the
          parse method (15.9.4.2 (#sec-15.9.4.2)); let v be the time
          value for this date.

  3. Else, let v be ToNumber (#sec-9.3)(v).

  4. Set the [[PrimitiveValue]] internal property of the newly
     constructed object to TimeClip (#sec-15.9.1.14)(v) and return.


File: javascript_ecma_262_5th_ed.info,  Node: 15933 new Date,  Next: 1594 Properties of the Date Constructor,  Prev: 15932 new Date value,  Up: Top

488 15.9.3.3 (#sec-15.9.3.3) new Date ( )
*****************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Date prototype object, the one that is the initial
value of Date.prototype (15.9.4.1 (#sec-15.9.4.1)).

   The [[Class]] internal property of the newly constructed object is
set to "Date".

   The [[Extensible]] internal property of the newly constructed object
is set to true.

   The [[PrimitiveValue]] internal property of the newly constructed
object is set to the time value (UTC) identifying the current time.


File: javascript_ecma_262_5th_ed.info,  Node: 1594 Properties of the Date Constructor,  Next: 15941 Dateprototype,  Prev: 15933 new Date,  Up: Top

489 15.9.4 (#sec-15.9.4) Properties of the Date Constructor
***********************************************************

The value of the [[Prototype]] internal property of the Date
constructor is the Function prototype object (15.3.4) (#sec-15.3.4).

   Besides the internal properties and the `length' property (whose
value is 7), the Date constructor has the following properties:


File: javascript_ecma_262_5th_ed.info,  Node: 15941 Dateprototype,  Next: 15942 Dateparse string,  Prev: 1594 Properties of the Date Constructor,  Up: Top

490 15.9.4.1 (#sec-15.9.4.1) Date.prototype
*******************************************

The initial value of Date.prototype is the built-in Date prototype
object (15.9.5 (#sec-15.9.5)).

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15942 Dateparse string,  Next: 15943 DateUTC year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Prev: 15941 Dateprototype,  Up: Top

491 15.9.4.2 (#sec-15.9.4.2) Date.parse (string)
************************************************

The parse function applies the ToString (#sec-9.8) operator to its
argument and interprets the resulting String as a date and time; it
returns a Number, the UTC time value corresponding to the date and
time. The String may be interpreted as a local time, a UTC time, or a
time in some other time zone, depending on the contents of the String.
The function first attempts to parse the format of the String according
to the rules called out in Date Time String Format (15.9.1.15
(#sec-15.9.1.15)). If the String does not conform to that format the
function may fall back to any implementation-specific heuristics or
implementation-specific date formats. Unrecognizable Strings or dates
containing illegal element values in the format String shall cause
Date.parse to return NaN.

   If x is any Date object whose milliseconds amount is zero within a
particular implementation of ECMAScript, then all of the following
expressions should produce the same numeric value in that
implementation, if all the properties referenced have their initial
values:

x.valueOf()
Date.parse(x.toString())
Date.parse(x.toUTCString())
Date.parse(x.toISOString())

   However, the expression

Date.parse(x.toLocaleString())


File: javascript_ecma_262_5th_ed.info,  Node: 15943 DateUTC year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Next: 15944 Datenow,  Prev: 15942 Dateparse string,  Up: Top

492 15.9.4.3 (#sec-15.9.4.3) Date.UTC (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )
***********************************************************************************************************

When the UTC function is called with fewer than two arguments, the
behaviour is implementation-dependent. When the UTC function is called
with two to seven arguments, it computes the date from year, month and
(optionally) date, hours, minutes, seconds and ms. The following steps
are taken:

  1. Let y be ToNumber (#sec-9.3)(year).

  2. Let m be ToNumber (#sec-9.3)(month).

  3. If date is supplied then let dt be ToNumber (#sec-9.3)(date); else
     let dt be 1.

  4. If hours is supplied then let h be ToNumber (#sec-9.3)(hours);
     else let h be 0.

  5. If minutes is supplied then let min be ToNumber
     (#sec-9.3)(minutes); else let min be 0.

  6. If seconds is supplied then let s be ToNumber (#sec-9.3)(seconds);
     else let s be 0.

  7. If ms is supplied then let milli be ToNumber (#sec-9.3)(ms); else
     let milli be 0.

  8. If y is not NaN and 0 ‚â§ ToInteger (#sec-9.4)(y) ‚â§ 99, then let
     yr be 1900+ToInteger (#sec-9.4)(y); otherwise, let yr be y.

  9. Return TimeClip (#sec-15.9.1.14)(MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(yr, m, dt), MakeTime (#sec-15.9.1.11)(h, min, s,
     milli))).

   The `length' property of the UTC function is 7.

   NOTE The UTC function differs from the Date constructor in two ways:
it returns a time value as a Number, rather than creating a Date
object, and it interprets the arguments in UTC rather than as local
time.


File: javascript_ecma_262_5th_ed.info,  Node: 15944 Datenow,  Next: 1595 Properties of the Date Prototype Object,  Prev: 15943 DateUTC year month [ date [ hours [ minutes [ seconds [ ms ] ] ] ] ],  Up: Top

493 15.9.4.4 (#sec-15.9.4.4) Date.now ( )
*****************************************

The now function return a Number value that is the time value
designating the UTC date and time of the occurrence of the call to now.


File: javascript_ecma_262_5th_ed.info,  Node: 1595 Properties of the Date Prototype Object,  Next: 15951 Dateprototypeconstructor,  Prev: 15944 Datenow,  Up: Top

494 15.9.5 (#sec-15.9.5) Properties of the Date Prototype Object
****************************************************************

The Date prototype object is itself a Date object (its [[Class]] is
"Date") whose [[PrimitiveValue]] is NaN.

   The value of the [[Prototype]] internal property of the Date
prototype object is the standard built-in Object prototype object
(15.2.4 (#sec-15.2.4)).

   In following descriptions of functions that are properties of the
Date prototype object, the phrase ‚Äúthis Date object‚Äù refers to the
object that is the this value for the invocation of the function.
Unless explicitly noted otherwise, none of these functions are generic;
a TypeError exception is thrown if the this value is not an object for
which the value of the [[Class]] internal property is "Date". Also, the
phrase ‚Äúthis time value‚Äù refers to the Number value for the time
represented by this Date object, that is, the value of the
[[PrimitiveValue]] internal property of this Date object.


File: javascript_ecma_262_5th_ed.info,  Node: 15951 Dateprototypeconstructor,  Next: 15952 DateprototypetoString,  Prev: 1595 Properties of the Date Prototype Object,  Up: Top

495 15.9.5.1 (#sec-15.9.5.1) Date.prototype.constructor
*******************************************************

The initial value of Date.prototype.constructor is the built-in Date
constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 15952 DateprototypetoString,  Next: 15953 DateprototypetoDateString,  Prev: 15951 Dateprototypeconstructor,  Up: Top

496 15.9.5.2 (#sec-15.9.5.2) Date.prototype.toString ( )
********************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in the
current time zone in a convenient, human-readable form.

   NOTE For any Date value d whose milliseconds amount is zero, the
result of `Date.parse(<var>d</var>.toString())' is equal to
`<var>d</var>.valueOf()'. See 15.9.4.2 (#sec-15.9.4.2).


File: javascript_ecma_262_5th_ed.info,  Node: 15953 DateprototypetoDateString,  Next: 15954 DateprototypetoTimeString,  Prev: 15952 DateprototypetoString,  Up: Top

497 15.9.5.3 (#sec-15.9.5.3) Date.prototype.toDateString ( )
************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the ‚Äúdate‚Äù
portion of the Date in the current time zone in a convenient,
human-readable form.


File: javascript_ecma_262_5th_ed.info,  Node: 15954 DateprototypetoTimeString,  Next: 15955 DateprototypetoLocaleString,  Prev: 15953 DateprototypetoDateString,  Up: Top

498 15.9.5.4 (#sec-15.9.5.4) Date.prototype.toTimeString ( )
************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the ‚Äútime‚Äù
portion of the Date in the current time zone in a convenient,
human-readable form.


File: javascript_ecma_262_5th_ed.info,  Node: 15955 DateprototypetoLocaleString,  Next: 15956 DateprototypetoLocaleDateString,  Prev: 15954 DateprototypetoTimeString,  Up: Top

499 15.9.5.5 (#sec-15.9.5.5) Date.prototype.toLocaleString ( )
**************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in the
current time zone in a convenient, human-readable form that corresponds
to the conventions of the host environment‚Äôs current locale.

   NOTE The first parameter to this function is likely to be used in a
future version of this standard; it is recommended that implementations
do not use this parameter position for anything else.


File: javascript_ecma_262_5th_ed.info,  Node: 15956 DateprototypetoLocaleDateString,  Next: 15957 DateprototypetoLocaleTimeString,  Prev: 15955 DateprototypetoLocaleString,  Up: Top

500 15.9.5.6 (#sec-15.9.5.6) Date.prototype.toLocaleDateString ( )
******************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the ‚Äúdate‚Äù
portion of the Date in the current time zone in a convenient,
human-readable form that corresponds to the conventions of the host
environment‚Äôs current locale.

   NOTE The first parameter to this function is likely to be used in a
future version of this standard; it is recommended that implementations
do not use this parameter position for anything else.


File: javascript_ecma_262_5th_ed.info,  Node: 15957 DateprototypetoLocaleTimeString,  Next: 15958 DateprototypevalueOf,  Prev: 15956 DateprototypetoLocaleDateString,  Up: Top

501 15.9.5.7 (#sec-15.9.5.7) Date.prototype.toLocaleTimeString ( )
******************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the ‚Äútime‚Äù
portion of the Date in the current time zone in a convenient,
human-readable form that corresponds to the conventions of the host
environment‚Äôs current locale.

   NOTE The first parameter to this function is likely to be used in a
future version of this standard; it is recommended that implementations
do not use this parameter position for anything else.


File: javascript_ecma_262_5th_ed.info,  Node: 15958 DateprototypevalueOf,  Next: 15959 DateprototypegetTime,  Prev: 15957 DateprototypetoLocaleTimeString,  Up: Top

502 15.9.5.8 (#sec-15.9.5.8) Date.prototype.valueOf ( )
*******************************************************

The valueOf function returns a Number, which is this time value
(#def-this-time-value).


File: javascript_ecma_262_5th_ed.info,  Node: 15959 DateprototypegetTime,  Next: 159510 DateprototypegetFullYear,  Prev: 15958 DateprototypevalueOf,  Up: Top

503 15.9.5.9 (#sec-15.9.5.9) Date.prototype.getTime ( )
*******************************************************

  1. Return this time value (#def-this-time-value).


File: javascript_ecma_262_5th_ed.info,  Node: 159510 DateprototypegetFullYear,  Next: 159511 DateprototypegetUTCFullYear,  Prev: 15959 DateprototypegetTime,  Up: Top

504 15.9.5.10 (#sec-15.9.5.10) Date.prototype.getFullYear ( )
*************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return YearFromTime (#sec-15.9.1.3)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159511 DateprototypegetUTCFullYear,  Next: 159512 DateprototypegetMonth,  Prev: 159510 DateprototypegetFullYear,  Up: Top

505 15.9.5.11 (#sec-15.9.5.11) Date.prototype.getUTCFullYear ( )
****************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3.

File: javascript_ecma_262_5th_ed.info,  Node: 159512 DateprototypegetMonth,  Next: 159513 DateprototypegetUTCMonth,  Prev: 159511 DateprototypegetUTCFullYear,  Up: Top

506 15.9.5.12 (#sec-15.9.5.12) Date.prototype.getMonth ( )
**********************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return MonthFromTime (#sec-15.9.1.4)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159513 DateprototypegetUTCMonth,  Next: 159514 DateprototypegetDate,  Prev: 159512 DateprototypegetMonth,  Up: Top

507 15.9.5.13 (#sec-15.9.5.13) Date.prototype.getUTCMonth ( )
*************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return MonthFromTime (#sec-15.9.1.4)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159514 DateprototypegetDate,  Next: 159515 DateprototypegetUTCDate,  Prev: 159513 DateprototypegetUTCMonth,  Up: Top

508 15.9.5.14 (#sec-15.9.5.14) Date.prototype.getDate ( )
*********************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return DateFromTime (#sec-15.9.1.5)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159515 DateprototypegetUTCDate,  Next: 159516 DateprototypegetDay,  Prev: 159514 DateprototypegetDate,  Up: Top

509 15.9.5.15 (#sec-15.9.5.15) Date.prototype.getUTCDate ( )
************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return DateFromTime (#sec-15.9.1.5)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159516 DateprototypegetDay,  Next: 159517 DateprototypegetUTCDay,  Prev: 159515 DateprototypegetUTCDate,  Up: Top

510 15.9.5.16 (#sec-15.9.5.16) Date.prototype.getDay ( )
********************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return WeekDay (#sec-15.9.1.6)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159517 DateprototypegetUTCDay,  Next: 159518 DateprototypegetHours,  Prev: 159516 DateprototypegetDay,  Up: Top

511 15.9.5.17 (#sec-15.9.5.17) Date.prototype.getUTCDay ( )
***********************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return WeekDay (#sec-15.9.1.6)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159518 DateprototypegetHours,  Next: 159519 DateprototypegetUTCHours,  Prev: 159517 DateprototypegetUTCDay,  Up: Top

512 15.9.5.18 (#sec-15.9.5.18) Date.prototype.getHours ( )
**********************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return HourFromTime (#sec-15.9.1.10)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159519 DateprototypegetUTCHours,  Next: 159520 DateprototypegetMinutes,  Prev: 159518 DateprototypegetHours,  Up: Top

513 15.9.5.19 (#sec-15.9.5.19) Date.prototype.getUTCHours ( )
*************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return HourFromTime (#sec-15.9.1.10)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159520 DateprototypegetMinutes,  Next: 159521 DateprototypegetUTCMinutes,  Prev: 159519 DateprototypegetUTCHours,  Up: Top

514 15.9.5.20 (#sec-15.9.5.20) Date.prototype.getMinutes ( )
************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return MinFromTime (#sec-15.9.1.10)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159521 DateprototypegetUTCMinutes,  Next: 159522 DateprototypegetSeconds,  Prev: 159520 DateprototypegetMinutes,  Up: Top

515 15.9.5.21 (#sec-15.9.5.21) Date.prototype.getUTCMinutes ( )
***************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return MinFromTime (#sec-15.9.1.10)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159522 DateprototypegetSeconds,  Next: 159523 DateprototypegetUTCSeconds,  Prev: 159521 DateprototypegetUTCMinutes,  Up: Top

516 15.9.5.22 (#sec-15.9.5.22) Date.prototype.getSeconds ( )
************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return SecFromTime (#sec-15.9.1.10)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159523 DateprototypegetUTCSeconds,  Next: 159524 DateprototypegetMilliseconds,  Prev: 159522 DateprototypegetSeconds,  Up: Top

517 15.9.5.23 (#sec-15.9.5.23) Date.prototype.getUTCSeconds ( )
***************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return SecFromTime (#sec-15.9.1.10)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159524 DateprototypegetMilliseconds,  Next: 159525 DateprototypegetUTCMilliseconds,  Prev: 159523 DateprototypegetUTCSeconds,  Up: Top

518 15.9.5.24 (#sec-15.9.5.24) Date.prototype.getMilliseconds ( )
*****************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return msFromTime (#sec-15.9.1.10)(LocalTime (#sec-15.9.1.9)(t)).


File: javascript_ecma_262_5th_ed.info,  Node: 159525 DateprototypegetUTCMilliseconds,  Next: 159526 DateprototypegetTimezoneOffset,  Prev: 159524 DateprototypegetMilliseconds,  Up: Top

519 15.9.5.25 (#sec-15.9.5.25) Date.prototype.getUTCMilliseconds ( )
********************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return msFromTime (#sec-15.9.1.10)(t).


File: javascript_ecma_262_5th_ed.info,  Node: 159526 DateprototypegetTimezoneOffset,  Next: 159527 DateprototypesetTime time,  Prev: 159525 DateprototypegetUTCMilliseconds,  Up: Top

520 15.9.5.26 (#sec-15.9.5.26) Date.prototype.getTimezoneOffset ( )
*******************************************************************

Returns the difference between local time and UTC time in minutes.

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return (t ‚àí LocalTime (#sec-15.9.1.9)(t)) / msPerMinute.


File: javascript_ecma_262_5th_ed.info,  Node: 159527 DateprototypesetTime time,  Next: 159528 DateprototypesetMilliseconds ms,  Prev: 159526 DateprototypegetTimezoneOffset,  Up: Top

521 15.9.5.27 (#sec-15.9.5.27) Date.prototype.setTime (time)
************************************************************

  1. Let v be TimeClip (#sec-15.9.1.14)(ToNumber (#sec-9.3)(time)).

  2. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  3. Return v.


File: javascript_ecma_262_5th_ed.info,  Node: 159528 DateprototypesetMilliseconds ms,  Next: 159529 DateprototypesetUTCMilliseconds ms,  Prev: 159527 DateprototypesetTime time,  Up: Top

522 15.9.5.28 (#sec-15.9.5.28) Date.prototype.setMilliseconds (ms)
******************************************************************

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let time be MakeTime (#sec-15.9.1.11)(HourFromTime
     (#sec-15.9.1.10)(t), MinFromTime (#sec-15.9.1.10)(t), SecFromTime
     (#sec-15.9.1.10)(t), ToNumber (#sec-9.3)(ms)).

  3. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(MakeDate
     (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t), time))).

  4. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  5. Return u.


File: javascript_ecma_262_5th_ed.info,  Node: 159529 DateprototypesetUTCMilliseconds ms,  Next: 159530 DateprototypesetSeconds sec [ ms ],  Prev: 159528 DateprototypesetMilliseconds ms,  Up: Top

523 15.9.5.29 (#sec-15.9.5.29) Date.prototype.setUTCMilliseconds (ms)
*********************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. Let time be MakeTime (#sec-15.9.1.11)(HourFromTime
     (#sec-15.9.1.10)(t), MinFromTime (#sec-15.9.1.10)(t), SecFromTime
     (#sec-15.9.1.10)(t), ToNumber (#sec-9.3)(ms)).

  3. Let v be TimeClip (#sec-15.9.1.14)(MakeDate (#sec-15.9.1.13)(Day
     (#sec-15.9.1.2)(t), time)).

  4. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  5.

File: javascript_ecma_262_5th_ed.info,  Node: 159530 DateprototypesetSeconds sec [ ms ],  Next: 159531 DateprototypesetUTCSeconds sec [ ms ],  Prev: 159529 DateprototypesetUTCMilliseconds ms,  Up: Top

524 15.9.5.30 (#sec-15.9.5.30) Date.prototype.setSeconds (sec [, ms ] )
***********************************************************************

If ms is not specified, this behaves as if ms were specified with the
value `getMilliseconds()'.

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let s be ToNumber (#sec-9.3)(sec).

  3. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  4. Let date be MakeDate (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t),
     MakeTime (#sec-15.9.1.11)(HourFromTime (#sec-15.9.1.10)(t),
     MinFromTime (#sec-15.9.1.10)(t), s, milli)).

  5. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(date)).

  6. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  7. Return u.

   The `length' property of the setSeconds method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 159531 DateprototypesetUTCSeconds sec [ ms ],  Next: 159532 DateprototypesetMinutes min [ sec [ ms ] ],  Prev: 159530 DateprototypesetSeconds sec [ ms ],  Up: Top

525 15.9.5.31 (#sec-15.9.5.31) Date.prototype.setUTCSeconds (sec [, ms ] )
**************************************************************************

If ms is not specified, this behaves as if ms were specified with the
value `getUTCMilliseconds()'.

  1. Let t be this time value (#def-this-time-value).

  2. Let s be ToNumber (#sec-9.3)(sec).

  3. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  4. Let date be MakeDate (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t),
     MakeTime (#sec-15.9.1.11)(HourFromTime (#sec-15.9.1.10)(t),
     MinFromTime (#sec-15.9.1.10)(t), s, milli)).

  5. Let v be TimeClip (#sec-15.9.1.14)(date).

  6. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  7. Return v.

   The `length' property of the setUTCSeconds method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 159532 DateprototypesetMinutes min [ sec [ ms ] ],  Next: 159533 DateprototypesetUTCMinutes min [ sec [ ms ] ],  Prev: 159531 DateprototypesetUTCSeconds sec [ ms ],  Up: Top

526 15.9.5.32 (#sec-15.9.5.32) Date.prototype.setMinutes (min [, sec [, ms ] ] )
********************************************************************************

If sec is not specified, this behaves as if sec were specified with the
value `getSeconds()'.

   If ms is not specified, this behaves as if ms were specified with
the value `getMilliseconds()'.

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let m be ToNumber (#sec-9.3)(min).

  3. If sec is not specified, then let s be SecFromTime
     (#sec-15.9.1.10)(t); otherwise, let s be ToNumber (#sec-9.3)(sec).

  4. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  5. Let date be MakeDate (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t),
     MakeTime (#sec-15.9.1.11)(HourFromTime (#sec-15.9.1.10)(t), m, s,
     milli)).

  6. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(date)).

  7. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  8. Return u.

   The `length' property of the setMinutes method is 3.


File: javascript_ecma_262_5th_ed.info,  Node: 159533 DateprototypesetUTCMinutes min [ sec [ ms ] ],  Next: 159534 DateprototypesetHours hour [ min [ sec [ ms ] ] ],  Prev: 159532 DateprototypesetMinutes min [ sec [ ms ] ],  Up: Top

527 15.9.5.33 (#sec-15.9.5.33) Date.prototype.setUTCMinutes (min [, sec [, ms ] ] )
***********************************************************************************

If sec is not specified, this behaves as if sec were specified with the
value `getUTCSeconds()'.

   If ms is not specified, this function behaves as if ms were
specified with the value returned by `getUTCMilliseconds()'.

  1. Let t be this time value (#def-this-time-value).

  2. Let m be ToNumber (#sec-9.3)(min).

  3. If sec is not specified, then let s be SecFromTime
     (#sec-15.9.1.10)(t); otherwise, let s be ToNumber (#sec-9.3)(sec).

  4. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  5.  6. Let v be TimeClip (#sec-15.9.1.14)(date).

  7. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  8. Return v.

   The `length' property of the setUTCMinutes method is 3.


File: javascript_ecma_262_5th_ed.info,  Node: 159534 DateprototypesetHours hour [ min [ sec [ ms ] ] ],  Next: 159535 DateprototypesetUTCHours hour [ min [ sec [ ms ] ] ],  Prev: 159533 DateprototypesetUTCMinutes min [ sec [ ms ] ],  Up: Top

528 15.9.5.34 (#sec-15.9.5.34) Date.prototype.setHours (hour [, min [, sec [, ms ] ] ] )
****************************************************************************************

If min is not specified, this behaves as if min were specified with the
value `getMinutes()'.

   If sec is not specified, this behaves as if sec were specified with
the value `getSeconds()'.

   If ms is not specified, this behaves as if ms were specified with
the value `getMilliseconds()'.

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let h be ToNumber (#sec-9.3)(hour).

  3. If min is not specified, then let m be MinFromTime
     (#sec-15.9.1.10)(t); otherwise, let m be ToNumber (#sec-9.3)(min).

  4. If If sec is not specified, then let s be SecFromTime
     (#sec-15.9.1.10)(t); otherwise, let s be ToNumber (#sec-9.3)(sec).

  5. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  6. Let date be MakeDate (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t),
     MakeTime (#sec-15.9.1.11)(h, m, s, milli)).

  7. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(date)).

  8. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  9. Return u.

   The `length' property of the setHours method is 4.


File: javascript_ecma_262_5th_ed.info,  Node: 159535 DateprototypesetUTCHours hour [ min [ sec [ ms ] ] ],  Next: 159536 DateprototypesetDate date,  Prev: 159534 DateprototypesetHours hour [ min [ sec [ ms ] ] ],  Up: Top

529 15.9.5.35 (#sec-15.9.5.35) Date.prototype.setUTCHours (hour [, min [, sec [, ms ] ] ] )
*******************************************************************************************

If min is not specified, this behaves as if min were specified with the
value `getUTCMinutes()'.

   If sec is not specified, this behaves as if sec were specified with
the value `getUTCSeconds()'.

   If ms is not specified, this behaves as if ms were specified with
the value `getUTCMilliseconds()'.

  1. Let t be this time value (#def-this-time-value).

  2. Let h be ToNumber (#sec-9.3)(hour).

  3. If min is not specified, then let m be MinFromTime
     (#sec-15.9.1.10)(t); otherwise, let m be ToNumber (#sec-9.3)(min).

  4. If sec is not specified, then let s be SecFromTime
     (#sec-15.9.1.10)(t); otherwise, let s be ToNumber (#sec-9.3)(sec).

  5. If ms is not specified, then let milli be msFromTime
     (#sec-15.9.1.10)(t); otherwise, let milli be ToNumber
     (#sec-9.3)(ms).

  6. Let newDate be MakeDate (#sec-15.9.1.13)(Day (#sec-15.9.1.2)(t),
     MakeTime (#sec-15.9.1.11)(h, m, s, milli)).

  7. Let v be TimeClip (#sec-15.9.1.14)(newDate).

  8. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  9. Return v.

   The `length' property of the setUTCHours method is 4.


File: javascript_ecma_262_5th_ed.info,  Node: 159536 DateprototypesetDate date,  Next: 159537 DateprototypesetUTCDate date,  Prev: 159535 DateprototypesetUTCHours hour [ min [ sec [ ms ] ] ],  Up: Top

530 15.9.5.36 (#sec-15.9.5.36) Date.prototype.setDate (date)
************************************************************

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let dt be ToNumber (#sec-9.3)(date).

  3. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(YearFromTime (#sec-15.9.1.3)(t), MonthFromTime
     (#sec-15.9.1.4)(t), dt), TimeWithinDay (#sec-15.9.1.2)(t)).

  4. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(newDate)).

  5. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  6. Return u.


File: javascript_ecma_262_5th_ed.info,  Node: 159537 DateprototypesetUTCDate date,  Next: 159538 DateprototypesetMonth month [ date ],  Prev: 159536 DateprototypesetDate date,  Up: Top

531 15.9.5.37 (#sec-15.9.5.37) Date.prototype.setUTCDate (date)
***************************************************************

  1. Let t be this time value (#def-this-time-value).

  2. Let dt be ToNumber (#sec-9.3)(date).

  3. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(YearFromTime (#sec-15.9.1.3)(t), MonthFromTime
     (#sec-15.9.1.4)(t), dt), TimeWithinDay (#sec-15.9.1.2)(t)).

  4. Let v be TimeClip (#sec-15.9.1.14)(newDate).

  5. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  6. Return v.


File: javascript_ecma_262_5th_ed.info,  Node: 159538 DateprototypesetMonth month [ date ],  Next: 159539 DateprototypesetUTCMonth month [ date ],  Prev: 159537 DateprototypesetUTCDate date,  Up: Top

532 15.9.5.38 (#sec-15.9.5.38) Date.prototype.setMonth (month [, date ] )
*************************************************************************

If date is not specified, this behaves as if date were specified with
the value `getDate()'.

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)).

  2. Let m be ToNumber (#sec-9.3)(month).

  3. If date is not specified, then let dt be DateFromTime
     (#sec-15.9.1.5)(t); otherwise, let dt be ToNumber (#sec-9.3)(date).

  4. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(YearFromTime (#sec-15.9.1.3)(t), m, dt),
     TimeWithinDay (#sec-15.9.1.2)(t)).

  5. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(newDate)).

  6. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  7. Return u.

   The `length' property of the setMonth method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 159539 DateprototypesetUTCMonth month [ date ],  Next: 159540 DateprototypesetFullYear year [ month [ date ] ],  Prev: 159538 DateprototypesetMonth month [ date ],  Up: Top

533 15.9.5.39 (#sec-15.9.5.39) Date.prototype.setUTCMonth (month [, date ] )
****************************************************************************

If date is not specified, this behaves as if date were specified with
the value `getUTCDate()'.

  1. Let t be this time value (#def-this-time-value).

  2. Let m be ToNumber (#sec-9.3)(month).

  3. If date is not specified, then let dt be DateFromTime
     (#sec-15.9.1.5)(t); otherwise, let dt be ToNumber (#sec-9.3)(date).

  4. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(YearFromTime (#sec-15.9.1.3)(t), m, dt),
     TimeWithinDay (#sec-15.9.1.2)(t)).

  5. Let v be TimeClip (#sec-15.9.1.14)(newDate).

  6. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  7. Return v.

   The `length' property of the setUTCMonth method is 2.


File: javascript_ecma_262_5th_ed.info,  Node: 159540 DateprototypesetFullYear year [ month [ date ] ],  Next: 159541 DateprototypesetUTCFullYear year [ month [ date ] ],  Prev: 159539 DateprototypesetUTCMonth month [ date ],  Up: Top

534 15.9.5.40 (#sec-15.9.5.40) Date.prototype.setFullYear (year [, month [, date ] ] )
**************************************************************************************

If month is not specified, this behaves as if month were specified with
the value `getMonth()'.

   If date is not specified, this behaves as if date were specified
with the value `getDate()'.

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)); but if this time value
     (#def-this-time-value) is NaN, let t be +0.

  2. Let y be ToNumber (#sec-9.3)(year).

  3. If month is not specified, then let m be MonthFromTime
     (#sec-15.9.1.4)(t); otherwise, let m be ToNumber (#sec-9.3)(month).

  4. If date is not specified, then let dt be DateFromTime
     (#sec-15.9.1.5)(t); otherwise, let dt be ToNumber (#sec-9.3)(date).

  5. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(y, m, dt), TimeWithinDay (#sec-15.9.1.2)(t)).

  6. Let u be TimeClip (#sec-15.9.1.14)(UTC (#sec-15.9.1.9)(newDate)).

  7. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to u.

  8. Return u.

   The `length' property of the setFullYear method is 3.


File: javascript_ecma_262_5th_ed.info,  Node: 159541 DateprototypesetUTCFullYear year [ month [ date ] ],  Next: 159542 DateprototypetoUTCString,  Prev: 159540 DateprototypesetFullYear year [ month [ date ] ],  Up: Top

535 15.9.5.41 (#sec-15.9.5.41) Date.prototype.setUTCFullYear (year [, month [, date ] ] )
*****************************************************************************************

If month is not specified, this behaves as if month were specified with
the value `getUTCMonth()'.

  1. Let t be this time value (#def-this-time-value); but if this time
     value (#def-this-time-value) is NaN, let t be +0.

  2. Let y be ToNumber (#sec-9.3)(year).

  3. If month is not specified, then let m be MonthFromTime
     (#sec-15.9.1.4)(t); otherwise, let m be ToNumber (#sec-9.3)(month).

  4. If date is not specified, then let dt be DateFromTime
     (#sec-15.9.1.5)(t); otherwise, let dt be ToNumber (#sec-9.3)(date).

  5. Let newDate be MakeDate (#sec-15.9.1.13)(MakeDay
     (#sec-15.9.1.12)(y, m, dt), TimeWithinDay (#sec-15.9.1.2)(t)).

  6. Let v be TimeClip (#sec-15.9.1.14)(newDate).

  7. Set the [[PrimitiveValue]] internal property of this Date object
     (#def-this-Date-object) to v.

  8. Return v.

   The `length' property of the setUTCFullYear method is 3.


File: javascript_ecma_262_5th_ed.info,  Node: 159542 DateprototypetoUTCString,  Next: 159543 DateprototypetoISOString,  Prev: 159541 DateprototypesetUTCFullYear year [ month [ date ] ],  Up: Top

536 15.9.5.42 (#sec-15.9.5.42) Date.prototype.toUTCString ( )
*************************************************************

This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in a
convenient, human-readable form in UTC.

   NOTE The intent is to produce a String representation of a date that
is more readable than the format specified in 15.9.1.15
(#sec-15.9.1.15). It is not essential that the chosen format be
unambiguous or easily machine parsable. If an implementation does not
have a preferred human-readable format it is recommended to use the
format defined in 15.9.1.15 (#sec-15.9.1.15) but with a space rather
than a "T" used to separate the date and time elements.


File: javascript_ecma_262_5th_ed.info,  Node: 159543 DateprototypetoISOString,  Next: 159544 DateprototypetoJSON key,  Prev: 159542 DateprototypetoUTCString,  Up: Top

537 15.9.5.43 (#sec-15.9.5.43) Date.prototype.toISOString ( )
*************************************************************

This function returns a String value represent the instance in time
represented by this Date object (#def-this-Date-object). The format of
the String is the Date Time string format defined in 15.9.1.15
(#sec-15.9.1.15). All fields are present in the String. The time zone
is always UTC, denoted by the suffix Z. If the time value of this
object is not a finite Number a RangeError exception is thrown.


File: javascript_ecma_262_5th_ed.info,  Node: 159544 DateprototypetoJSON key,  Next: 1596 Properties of Date Instances,  Prev: 159543 DateprototypetoISOString,  Up: Top

538 15.9.5.44 (#sec-15.9.5.44) Date.prototype.toJSON ( key )
************************************************************

This function provides a String representation of a Date object for use
by JSON.stringify (15.12.3 (#sec-15.12.3)).

   When the toJSON method is called with argument key, the following
steps are taken:

  1. Let O be the result of calling ToObject (#sec-9.9), giving it the
     this value as its argument.

  2. Let tv be ToPrimitive (#sec-9.1)(O, hint Number).

  3. If tv is a Number and is not finite, return null.

  4. Let toISO be the result of calling the [[Get]] internal method of
     O with argument "toISOString".

  5. If IsCallable (#sec-9.11)(toISO) is false, throw a TypeError
     exception.

  6. Return the result of calling the [[Call]] internal method of toISO
     with O as the this value and an empty argument list.

   NOTE 1 The argument is ignored.

   NOTE 2 The toJSON function is intentionally generic; it does not
require that its this value be a Date object. Therefore, it can be
transferred to other kinds of objects for use as a method. However, it
does require that any such object have a toISOString method. An object
is free to use the argument key to filter its stringification.


File: javascript_ecma_262_5th_ed.info,  Node: 1596 Properties of Date Instances,  Next: 1510 RegExp Regular Expression Objects,  Prev: 159544 DateprototypetoJSON key,  Up: Top

539 15.9.6 (#sec-15.9.6) Properties of Date Instances
*****************************************************

Date instances inherit properties from the Date prototype object and
their [[Class]] internal property value is "Date". Date instances also
have a [[PrimitiveValue]] internal property.

   The [[PrimitiveValue]] internal property is time value represented
by this Date object (#def-this-Date-object).


File: javascript_ecma_262_5th_ed.info,  Node: 1510 RegExp Regular Expression Objects,  Next: 15101 Patterns,  Prev: 1596 Properties of Date Instances,  Up: Top

540 15.10 (#sec-15.10) RegExp (Regular Expression) Objects
**********************************************************

A RegExp object contains a regular expression and the associated flags.

   NOTE The form and functionality of regular expressions is modelled
after the regular expression facility in the Perl 5 programming
language.


File: javascript_ecma_262_5th_ed.info,  Node: 15101 Patterns,  Next: 15102 Pattern Semantics,  Prev: 1510 RegExp Regular Expression Objects,  Up: Top

541 15.10.1 (#sec-15.10.1) Patterns
***********************************

The RegExp constructor applies the following grammar to the input
pattern String. An error occurs if the grammar cannot interpret the
String as an expansion of Pattern.

* Menu:

* Syntax::


File: javascript_ecma_262_5th_ed.info,  Node: Syntax,  Up: 15101 Patterns

541.1 Syntax
============

Pattern :: Disjunction Disjunction :: Alternative Alternative `|'
Disjunction Alternative :: [empty] Alternative Term Term :: Assertion
Atom Atom Quantifier Assertion :: `^' `$' `\' `b' `\' `B' `(' `?' `='
Disjunction `)' `(' `?' `!' Disjunction `)' Quantifier ::
QuantifierPrefix QuantifierPrefix `?' QuantifierPrefix :: `*' `+' `?'
`{' DecimalDigits `}' `{' DecimalDigits `,' `}' `{' DecimalDigits `,'
DecimalDigits `}' Atom :: PatternCharacter `.' `\' AtomEscape
CharacterClass `(' Disjunction `)' `(' `?' `:' Disjunction `)'

   PatternCharacter :: SourceCharacter but not any of: `^  $  \  .  *
+  ?  (  )  [  ]  {  }  |' AtomEscape :: DecimalEscape CharacterEscape
CharacterClassEscape CharacterEscape :: ControlEscape `c' ControlLetter
HexEscapeSequence UnicodeEscapeSequence IdentityEscape ControlEscape ::
one of `f  n  r  t  v' ControlLetter :: one of `a  b  c  d  e  f  g  h
i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z' `A  B  C  D  E  F
G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z'
IdentityEscape :: SourceCharacter but not IdentifierPart <ZWJ> <ZWNJ>
DecimalEscape :: DecimalIntegerLiteral [lookahead ‚àâ
(#def-lookahead-notin) DecimalDigit] CharacterClassEscape :: one of `d
D  s  S  w  W' CharacterClass :: `[' [lookahead ‚àâ
(#def-lookahead-notin) {`^'}] ClassRanges `]' `[' `^' ClassRanges `]'
ClassRanges :: [empty] NonemptyClassRanges NonemptyClassRanges ::
ClassAtom ClassAtom NonemptyClassRangesNoDash ClassAtom `-' ClassAtom
ClassRanges NonemptyClassRangesNoDash :: ClassAtom ClassAtomNoDash
NonemptyClassRangesNoDash ClassAtomNoDash `-' ClassAtom ClassRanges
ClassAtom :: `-' ClassAtomNoDash ClassAtomNoDash :: SourceCharacter but
not one of `\' or `]' or `-' `\' ClassEscape

   ClassEscape :: DecimalEscape `b' CharacterEscape CharacterClassEscape


File: javascript_ecma_262_5th_ed.info,  Node: 15102 Pattern Semantics,  Next: 151021 Notation,  Prev: 15101 Patterns,  Up: Top

542 15.10.2 (#sec-15.10.2) Pattern Semantics
********************************************

A regular expression pattern is converted into an internal procedure
using the process described below. An implementation is encouraged to
use more efficient algorithms than the ones listed below, as long as
the results are the same. The internal procedure is used as the value
of a RegExp object‚Äôs [[Match]] internal property.


File: javascript_ecma_262_5th_ed.info,  Node: 151021 Notation,  Next: 151022 Pattern,  Prev: 15102 Pattern Semantics,  Up: Top

543 15.10.2.1 (#sec-15.10.2.1) Notation
***************************************

The descriptions below use the following variables:

   * Input is the String being matched by the regular expression
     pattern. The notation input[n] means the nth character of input,
     where n can range between 0 (inclusive) and InputLength
     (exclusive).

   * InputLength is the number of characters in the Input String.

   * NcapturingParens is the total number of left capturing parentheses
     (i.e. the total number of times the Atom :: `(' Disjunction `)'
     production is expanded) in the pattern. A left capturing
     parenthesis is any `(' pattern character that is matched by the
     `(' terminal of the Atom :: `(' Disjunction `)' production.

   * IgnoreCase is the setting of the RegExp object‚Äôs `ignoreCase'
     property.

   * Multiline is the setting of the RegExp object‚Äôs `multiline'
     property.


   Furthermore, the descriptions below use the following internal data
structures:

   * A CharSet is a mathematical set of characters.

   * A State is an ordered pair (endIndex, captures) where endIndex is
     an integer and captures is an internal array of NcapturingParens
     (#def-NcapturingParens) values. States are used to represent
     partial match states in the regular expression matching
     algorithms. The endIndex is one plus the index of the last input
     character matched so far by the pattern, while captures holds the
     results of capturing parentheses. The nth element of captures is
     either a String that represents the value obtained by the nth set
     of capturing parentheses or undefined if the nth set of capturing
     parentheses hasn‚Äôt been reached yet. Due to backtracking, many
     States may be in use at any time during the matching process.

   * A MatchResult is either a State or the special token failure that
     indicates that the match failed.

   * A Continuation procedure is an internal closure (i.e. an internal
     procedure with some arguments already bound to values) that takes
     one State argument and returns a MatchResult result. If an
     internal closure references variables bound in the function that
     creates the closure, the closure uses the values that these
     variables had at the time the closure was created. The
     Continuation attempts to match the remaining portion (specified by
     the closure‚Äôs already-bound arguments) of the pattern against
     the input String, starting at the intermediate state given by its
     State argument. If the match succeeds, the Continuation returns
     the final State that it reached; if the match fails, the
     Continuation returns failure.

   * A Matcher procedure is an internal closure that takes two
     arguments‚Äîa State and a Continuation‚Äîand returns a MatchResult
     result. A Matcher attempts to match a middle subpattern (specified
     by the closure‚Äôs already-bound arguments) of the pattern against
     the input String, starting at the intermediate state given by its
     State argument. The Continuation argument should be a closure that
     matches the rest of the pattern. After matching the subpattern of
     a pattern to obtain a new State, the Matcher then calls
     Continuation on that new State to test if the rest of the pattern
     can match as well. If it can, the Matcher returns the State
     returned by Continuation; if not, the Matcher may try different
     choices at its choice points, repeatedly calling Continuation
     until it either succeeds or all possibilities have been exhausted.

   * An AssertionTester procedure is an internal closure that takes a
     State argument and returns a Boolean result. The assertion tester
     tests a specific condition (specified by the closure‚Äôs
     already-bound

   * An EscapeValue is either a character or an integer. An EscapeValue
     is used to denote the interpretation of a DecimalEscape escape
     sequence: a character ch means that the escape sequence is
     interpreted as the character ch, while an integer n means that the
     escape sequence is interpreted as a backreference to the nth set
     of capturing parentheses.



File: javascript_ecma_262_5th_ed.info,  Node: 151022 Pattern,  Next: 151023 Disjunction,  Prev: 151021 Notation,  Up: Top

544 15.10.2.2 (#sec-15.10.2.2) Pattern
**************************************

The production Pattern :: Disjunction evaluates as follows:

  1. Evaluate Disjunction to obtain a Matcher m.

  2. Return an internal closure that takes two arguments, a String str
     and an integer index, and performs the following:
       1. Let Input be the given String str. This variable will be used
          throughout the algorithms in 15.10.2 (#sec-15.10.2).

       2. Let InputLength be the length of Input. This variable will be
          used throughout the algorithms in 15.10.2 (#sec-15.10.2).

       3. Let c be a Continuation that always returns its State
          argument as a successful MatchResult.

       4. Let cap be an internal array of NcapturingParens
          (#def-NcapturingParens) undefined values, indexed 1 through
          NcapturingParens (#def-NcapturingParens).

       5. Let x be the State (index, cap).

       6. Call m(x, c) and return its result.


   NOTE A Pattern evaluates (‚Äúcompiles‚Äù) to an internal procedure
value. RegExp.prototype.exec can then apply this procedure to a String
and an offset within the String to determine whether the pattern would
match starting at exactly that offset within the String, and, if it
does match, what the values of the capturing parentheses would be. The
algorithms in 15.10.2 (#sec-15.10.2) are designed so that compiling a
pattern may throw a SyntaxError exception; on the other hand, once the
pattern is successfully compiled, applying its result internal
procedure to find a match in a String cannot throw an exception (except
for any host-defined exceptions that can occur anywhere such as
out-of-memory).


File: javascript_ecma_262_5th_ed.info,  Node: 151023 Disjunction,  Next: 151024 Alternative,  Prev: 151022 Pattern,  Up: Top

545 15.10.2.3 (#sec-15.10.2.3) Disjunction
******************************************

The production Disjunction :: Alternative evaluates by evaluating
Alternative to obtain a Matcher and returning that Matcher.

   The production Disjunction :: Alternative `|' Disjunction evaluates
as follows:

  1. Evaluate Alternative to obtain a Matcher m1.

  2. Evaluate Disjunction to obtain a Matcher m2.

  3. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following:
       1. Call m1(x, c) and let r be its result.

       2. If r isn‚Äôt failure, return r.

       3. Call m2(x, c) and return its result.


   NOTE The `|' regular expression operator separates two alternatives.
The pattern first tries to match the left Alternative (followed by the
sequel of the regular expression); if it fails, it tries to match the
right Disjunction (followed by the sequel of the regular expression).
If the left Alternative, the right Disjunction, and the sequel all have
choice points, all choices in the sequel are tried before moving on to
the next choice in the left Alternative. If choices in the left
Alternative are exhausted, the right Disjunction is tried instead of
the left Alternative. Any capturing parentheses inside a portion of the
pattern skipped by `|' produce undefined values instead of Strings.
Thus, for example,

/a|ab/.exec("abc")

   returns the result "a" and not "ab". Moreover,

/((a)|(ab))((c)|(bc))/.exec("abc")

   returns the array

["abc", "a", "a", undefined, "bc", undefined, "bc"]

   and not

["abc", "ab", undefined, "ab", "c", "c", undefined]


File: javascript_ecma_262_5th_ed.info,  Node: 151024 Alternative,  Next: 151025 Term,  Prev: 151023 Disjunction,  Up: Top

546 15.10.2.4 (#sec-15.10.2.4) Alternative
******************************************

The production Alternative :: [empty] evaluates by returning a Matcher
that takes two arguments, a State x and a Continuation c, and returns
the result of calling c(x).

   The production Alternative :: Alternative Term evaluates as follows:

  1. Evaluate Alternative to obtain a Matcher m1.

  2. Evaluate Term to obtain a Matcher m2.

  3. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following:
       1. Create a Continuation d that takes a State argument y and
          returns the result of calling m2(y, c).

       2. Call m1(x, d) and return its result.


   NOTE Consecutive Terms try to simultaneously match consecutive
portions of the input String. If the left Alternative, the right Term,
and the sequel of the regular expression all have choice points, all
choices in the sequel are tried before moving on to the next choice in
the right Term, and all choices in the right Term are tried before
moving on to the next choice in the left Alternative.


File: javascript_ecma_262_5th_ed.info,  Node: 151025 Term,  Next: 151026 Assertion,  Prev: 151024 Alternative,  Up: Top

547 15.10.2.5 (#sec-15.10.2.5) Term
***********************************

The production Term :: Assertion evaluates by returning an internal
Matcher closure that takes two arguments, a State x and a Continuation
c, and performs the following:

  1. Evaluate Assertion to obtain an AssertionTester t.

  2. Call t(x) and let r be the resulting Boolean value.

  3. If r is false, return failure.

  4. Call c(x) and return its result.

   The production Term :: Atom evaluates by evaluating Atom to obtain a
Matcher and returning that Matcher.

   The production Term :: Atom Quantifier evaluates as follows:

  1. Evaluate Atom to obtain a Matcher m.

  2. Evaluate Quantifier to obtain the three results: an integer min,
     an integer (or ‚àû) max, and Boolean greedy.

  3. If max is finite and less than min, then throw a SyntaxError
     exception.

  4. Let parenIndex be the number of left capturing parentheses in the
     entire regular expression that occur to the left of this
     production expansion‚Äôs Term. This is the total number of times
     the Atom :: `(' Disjunction `)' production is expanded prior to
     this production‚Äôs Term plus the total number of Atom :: `('
     Disjunction `)' productions enclosing this Term.

  5. Let parenCount be the number of left capturing parentheses in the
     expansion of this production‚Äôs Atom. This is the total number of
     Atom :: `(' Disjunction `)' productions enclosed by this
     production‚Äôs Atom.

  6. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following:
       1. Call RepeatMatcher(m, min, max, greedy, x, c, parenIndex,
          parenCount) and return its result.


   The abstract operation RepeatMatcher takes eight parameters, a
Matcher m, an integer min, an integer (or ‚àû) max, a Boolean greedy, a
State x, a Continuation c, an integer parenIndex, and an integer
parenCount, and performs the following:

  1. If max is zero, then call c(x) and return its result.

  2. Create an internal Continuation closure d that takes one State
     argument y and performs the following:
       1. If min is zero and y‚Äôs endIndex is equal to x‚Äôs endIndex,
          then return failure.

       2. If min is zero then let min2 be zero; otherwise let min2 be
          min‚àí1.

       3. If max is ‚àû, then let max2 be ‚àû; otherwise let max2 be
          max‚àí1.

       4.
  3. Let cap be a fresh copy of x‚Äôs captures internal array.

  4. For every integer k that satisfies parenIndex < k and k ‚â§
     parenIndex+parenCount, set cap[k] to undefined.

  5. Let e be x‚Äôs endIndex.

  6. Let xr be the State (e, cap).

  7. If min is not zero, then call m(xr, d) and return its result.

  8. If greedy is false, then
       1. Call c(x) and let z be its result.

       2. If z is not failure, return z.

       3. Call m(xr, d) and return its result.

  9. Call m(xr, d) and let z be its result.

 10. If z is not failure, return z.

 11. Call c(x) and return its result.

   NOTE An Atom followed by a Quantifier is repeated the number of
times specified by the Quantifier. A Quantifier can be non-greedy, in
which case the Atom pattern is repeated as few times as possible while
still matching the sequel, or it can be greedy, in which case the Atom
pattern is repeated as many times as possible while still matching the
sequel. The Atom pattern is repeated rather than the input String that
it matches, so different repetitions of the Atom can match different
input substrings.

   NOTE 2 If the Atom and the sequel of the regular expression all have
choice points, the Atom is first matched as many (or as few, if
non-greedy) times as possible. All choices in the sequel are tried
before moving on to the next choice in the last repetition of Atom. All
choices in the last (nth) repetition of Atom are tried before moving on
to the next choice in the next-to-last (n‚àí1)st repetition of Atom; at
which point it may turn out that more or fewer repetitions of Atom are
now possible; these are exhausted (again, starting with either as few
or as many as possible) before moving on to the next choice in the
(n‚àí1)st repetition of Atom and so on. Compare

/a[a-z]{2,4}/.exec("abcdefghi")

   which returns "abcde" with

/a[a-z]{2,4}?/.exec("abcdefghi")

   which returns "abc".

   Consider also

/(aa|aabaac|ba|b|c)*/.exec("aabaac")

   which, by the choice point ordering above, returns the array

["aaba", "ba"]

   and not any of:

["aabaac", "aabaac"]
["aabaac", "c"]

   The above ordering of choice points can be used to write a regular
expression that calculates the greatest common divisor of two numbers
(represented in unary notation). The following example calculates the
gcd of 10 and 15:

"aaaaaaaaaa,aaaaaaaaaaaaaaa".replace(/^(a+)\1*,\1+$/,"$1")

   which returns the gcd in unary notation "aaaaa".

   NOTE 3 Step 4 of the RepeatMatcher clears Atom‚Äôs captures each
time Atom is repeated. We can see its behaviour in the regular
expression

/(z)((a+)?(b+)?(c))*/.exec("zaacbbbcac")

   which returns the array

["zaacbbbcac", "z", "ac", "a", undefined, "c"]

   and not

["zaacbbbcac", "z", "ac", "a", "bbb", "c"]

   because each iteration of the outermost `*' clears all captured
Strings contained in the quantified Atom, which in this case includes
capture Strings numbered 2, 3, and 4.


/(a*)*/.exec("b")

   or the slightly more complicated:

/(a*)b\1+/.exec("baaaac")

   which returns the array

["b", ""]


File: javascript_ecma_262_5th_ed.info,  Node: 151026 Assertion,  Next: 151027 Quantifier,  Prev: 151025 Term,  Up: Top

548 15.10.2.6 (#sec-15.10.2.6) Assertion
****************************************

The production Assertion :: `^' evaluates by returning an internal
AssertionTester closure that takes a State argument x and performs the
following:

  1. Let e be x‚Äôs endIndex.

  2. If e is zero, return true.

  3. If Multiline (#def-Multiline) is false, return false.

  4. If the character Input (#def-Input)[e‚àí1] is one of
     LineTerminator, return true.

  5. Return false.

   The production Assertion :: `$' evaluates by returning an internal
AssertionTester closure that takes a State argument x and performs the
following:

  1. Let e be x‚Äôs endIndex.

  2. If e is equal to InputLength (#def-InputLength), return true.

  3. If Multiline (#def-Multiline) is false, return false.

  4. If the character Input (#def-Input)[e] is one of LineTerminator,
     return true.

  5. Return false.

   The production Assertion :: `\' `b' evaluates by returning an
internal AssertionTester closure that takes a State argument x and
performs the following:

  1. Let e be x‚Äôs endIndex.

  2. Call IsWordChar (#def-IsWordChar)(e‚àí1) and let a be the Boolean
     result.

  3. Call IsWordChar (#def-IsWordChar)(e) and let b be the Boolean
     result.

  4. If a is true and b is false, return true.

  5. If a is false and b is true, return true.

  6. Return false.

   The production Assertion :: `\' `B' evaluates by returning an
internal AssertionTester closure that takes a State argument x and
performs the following:

  1. Let e be x‚Äôs endIndex.

  2. Call IsWordChar (#def-IsWordChar)(e‚àí1) and let a be the Boolean
     result.

  3. Call IsWordChar (#def-IsWordChar)(e) and let b be the Boolean
     result.

  4. If a is true and b is false, return false.

  5. If a is false and b is true, return false.

  6. Return true.

   The production Assertion :: `(' `?' `=' Disjunction `)' evaluates as
follows:

  1. Evaluate Disjunction to obtain a Matcher m.

  2. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following steps:
       1. Let d be a Continuation that always returns its State
          argument as a successful MatchResult.

       2. Call m(x, d) and let r be its result.

       3. If r is failure, return failure.

       4. Let y be r‚Äôs State.

       5. Let cap be y‚Äôs captures internal array.

       6.       7. Let z be the State (xe, cap).

       8. Call c(z) and return its result.


   The production Assertion :: `(' `?' `!' Disjunction `)' evaluates as
follows:

  1. Evaluate Disjunction to obtain a Matcher m.

  2. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following steps:
       1. Let d be a Continuation that always returns its State
          argument as a successful MatchResult.

       2. Call m(x, d) and let r be its result.

       3. If r isn‚Äôt failure, return failure.

       4. Call c(x) and return its result.


   The abstract operation IsWordChar takes an integer parameter e and
performs the following:

  1. If e == ‚àí1 or e == InputLength (#def-InputLength), return false.

  2. Let c be the character Input (#def-Input)[e].

  3. If c is one of the sixty-three characters below, return true.  `A
     b c d e f g h i j k l m n o p q r s t u v w x y z' `A B C D E F G
     H I J K L M N O P Q R S T U V W X Y Z' `0 1 2 3 4 5 6 7 8 9 _'

  4. Return false.


File: javascript_ecma_262_5th_ed.info,  Node: 151027 Quantifier,  Next: 151028 Atom,  Prev: 151026 Assertion,  Up: Top

549 15.10.2.7 (#sec-15.10.2.7) Quantifier
*****************************************

The production Quantifier :: QuantifierPrefix evaluates as follows:

  1. Evaluate QuantifierPrefix to obtain the two results: an integer
     min and an integer (or ‚àû) max.

  2. Return the three results min , max, and true.

   The production Quantifier :: QuantifierPrefix `?' evaluates as
follows:

  1. Evaluate QuantifierPrefix to obtain the two results: an integer
     min and an integer (or ‚àû) max.

  2. Return the three results min , max, and false.

   The production QuantifierPrefix :: `*' evaluates by returning the
two results 0 and ‚àû.

   The production QuantifierPrefix :: `+' evaluates by returning the
two results 1 and ‚àû.

   The production QuantifierPrefix :: `?' evaluates by returning the
two results 0 and 1.

   The production QuantifierPrefix :: `{' DecimalDigits `}' evaluates
as follows:

  1. Let i be the MV of DecimalDigits (see 7.8.3 (#sec-7.8.3)).

  2. Return the two results i and i.

   The production QuantifierPrefix :: `{' DecimalDigits `,' `}'
evaluates as follows:

  1. Let i be the MV of DecimalDigits.

  2. Return the two results i and ‚àû.

   The production QuantifierPrefix :: `{' DecimalDigits `,'
DecimalDigits `}' evaluates as follows:

  1. Let i be the MV of the first DecimalDigits.

  2. Let j be the MV of the second DecimalDigits.

  3. Return the two results i and j.


File: javascript_ecma_262_5th_ed.info,  Node: 151028 Atom,  Next: 151029 AtomEscape,  Prev: 151027 Quantifier,  Up: Top

550 15.10.2.8 (#sec-15.10.2.8) Atom
***********************************

The production Atom :: PatternCharacter evaluates as follows:

  1. Let ch be the character represented by PatternCharacter.

  2. Let A be a one-element CharSet containing the character ch.

  3. Call CharacterSetMatcher(A, false) and return its Matcher result.

   The production Atom :: `.' evaluates as follows:

  1. Let A be the set of all characters except LineTerminator.

  2. Call CharacterSetMatcher(A, false) and return its Matcher result.

   The production Atom :: `\' AtomEscape evaluates by evaluating
AtomEscape to obtain a Matcher and returning that Matcher.

   The production Atom :: CharacterClass evaluates as follows:

  1. Evaluate CharacterClass to obtain a CharSet A and a Boolean invert.

  2. Call CharacterSetMatcher(A, invert) and return its Matcher result.

   The production Atom :: `(' Disjunction `)' evaluates as follows:

  1. Evaluate Disjunction to obtain a Matcher m.

  2. Let parenIndex be the number of left capturing parentheses in the
     entire regular expression that occur to the left of this
     production expansion‚Äôs initial left parenthesis. This is the
     total number of times the Atom :: `(' Disjunction `)' production
     is expanded prior to this production‚Äôs Atom plus the total
     number of Atom :: `(' Disjunction `)' productions enclosing this
     Atom.

  3. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following steps:
       1. Create an internal Continuation closure d that takes one
          State argument y and performs the following steps:
            1. Let cap be a fresh copy of y‚Äôs captures internal array.

            2. Let xe be x‚Äôs endIndex.

            3. Let ye be y‚Äôs endIndex.

            4. Let s be a fresh String whose characters are the
               characters of Input (#def-Input) at positions xe
               (inclusive) through ye (exclusive).

            5. Set cap[parenIndex+1] to s.

            6. Let z be the State (ye, cap).

            7. Call c(z) and return its result.

       2. Call m(x, d) and return its result.


   The production Atom :: `(' `?' `:' Disjunction `)' evaluates by
evaluating Disjunction to obtain a Matcher and returning that Matcher.

   The abstract operation CharacterSetMatcher takes two arguments, a
CharSet A and a Boolean flag invert, and performs the following:

  1. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following steps:
       1. Let e be x‚Äôs endIndex.

       2. If e == InputLength (#def-InputLength), return failure.

       3. Let c be the character Input (#def-Input)[e].

       4. Let cc be the result of Canonicalize (#def-Canonicalize)(c).

       5. If invert is false, then
            1. If there does not exist a member a of set A such that
               Canonicalize (#def-Canonicalize)(a) == cc, return
               failure.

       6. Else invert is true,
            1. If there exists a member a of set A such that
               Canonicalize (#def-Canonicalize)(a) == cc, return
               failure.

       7.       8. Let y be the State (e+1, cap).

       9. Call c(y) and return its result.


   The abstract operation Canonicalize takes a character parameter ch
and performs the following steps:

  1. If IgnoreCase (#def-IgnoreCase) is false, return ch.

  2. Let u be ch converted to upper case as if by calling the standard
     built-in method String.prototype.toUpperCase on the one-character
     String ch.

  3. If u does not consist of a single character, return ch.

  4. Let cu be u‚Äôs character.

  5. If ch‚Äôs code unit value is greater than or equal to decimal 128
     and cu‚Äôs code unit value is less than decimal 128, then return
     ch.

  6. Return cu.

   NOTE 1 Parentheses of the form `(' Disjunction `)' serve both to
group the components of the Disjunction pattern together and to save
the result of the match. The result can be used either in a
backreference (`\' followed by a nonzero decimal number), referenced in
a replace String, or returned as part of an array from the regular
expression matching internal procedure. To inhibit the capturing
behaviour of parentheses, use the form `(?:' Disjunction `)' instead.

   NOTE 2 The form `(?=' Disjunction `)' specifies a zero-width
positive lookahead. In order for it to succeed, the pattern inside
Disjunction must match at the current position, but the current
position is not advanced before matching the sequel. If Disjunction can
match at the current position in several ways, only the first one is
tried. Unlike other regular expression operators, there is no
backtracking into a `(?=' form (this unusual behaviour is inherited
from Perl). This only matters when the Disjunction contains capturing
parentheses and the sequel of the pattern contains backreferences to
those captures.

   For example,

/(?=(a+))/.exec("baaabac")

   matches the empty String immediately after the first `b' and
therefore returns the array:

["", "aaa"]

   To illustrate the lack of backtracking into the lookahead, consider:

/(?=(a+))a*b\1/.exec("baaabac")

   This expression returns

["aba", "a"]

   and not:

["aaaba", "a"]

   NOTE 3 The form `(?!' Disjunction `)' specifies a zero-width
negative lookahead. In order for it to succeed, the pattern inside
Disjunction must fail to match at the current position. The current
position is not advanced before matching the sequel. Disjunction can
contain capturing parentheses, but backreferences to them only make
sense from within Disjunction itself. Backreferences to these capturing
parentheses from elsewhere in the pattern always return undefined
because the negative lookahead must fail for the pattern to succeed.
For example,

/(.*?)a(?!(a+)b\2c)\2(.*)/.exec("baaabaac")

   looks for an `a' not immediately followed by some positive number n
of `a'‚Äôs, a `b', another n `a'‚Äôs (specified by the first `\2') and
a `c'. The second `\2' is outside the negative lookahead, so it matches
against undefined and therefore always succeeds. The whole expression
returns the array:

["baaabaac", "ba", undefined, "abaac"]

   In case-insignificant matches all characters are implicitly
converted to upper case immediately before they are compared. However,
if converting a character to upper case would expand that character
into more than one character (such as converting "√ü" (\u00DF) into
"SS"), then the character is left as-is instead. The character is also
left as-is if it is not an ASCII character but converting it to upper
case would make it into an ASCII character. This prevents Unicode
characters such as \u0131 and \u017F from matching regular expressions
such as `/[a-z]/i', which are only intended to match ASCII letters.
Furthermore, if these conversions were allowed, then `/[^\W]/i' would
match each of `a', `b', ..., `h', but not `i' or `s'.


File: javascript_ecma_262_5th_ed.info,  Node: 151029 AtomEscape,  Next: 1510210 CharacterEscape,  Prev: 151028 Atom,  Up: Top

551 15.10.2.9 (#sec-15.10.2.9) AtomEscape
*****************************************

The production AtomEscape :: DecimalEscape evaluates as follows:

  1. Evaluate DecimalEscape to obtain an EscapeValue e.

  2. If e is a character, then
       1. Let ch be e‚Äôs character.

       2. Let A be a one-element CharSet containing the character ch.

       3. Call CharacterSetMatcher(A, false) and return its Matcher
          result.

  3. e must be an integer. Let n be that integer.

  4. If n=0 or n>NcapturingParens (#def-NcapturingParens) then throw a
     SyntaxError exception.

  5. Return an internal Matcher closure that takes two arguments, a
     State x and a Continuation c, and performs the following:
       1. Let cap be x‚Äôs captures internal array.

       2. Let s be cap[n].

       3. If s is undefined, then call c(x) and return its result.

       4. Let e be x‚Äôs endIndex.

       5. Let len be s‚Äôs length.

       6. Let f be e+len.

       7. If f>InputLength (#def-InputLength), return failure.

       8. If there exists an integer i between 0 (inclusive) and len
          (exclusive) such that Canonicalize (#def-Canonicalize)(s[i])
          is not the same character as Canonicalize
          (#def-Canonicalize)(Input (#def-Input)[e+i]), then return
          failure.

       9. Let y be the State (f, cap).

      10. Call c(y) and return its result.


   The production AtomEscape :: CharacterEscape evaluates as follows:

  1. Evaluate CharacterEscape to obtain a character ch.

  2. Let A be a one-element CharSet containing the character ch.

  3. Call CharacterSetMatcher(A, false) and return its Matcher result.

   The production AtomEscape :: CharacterClassEscape evaluates as
follows:

  1. Evaluate CharacterClassEscape to obtain a CharSet A.

  2. Call CharacterSetMatcher(A, false) and return its Matcher result.

   NOTE An escape sequence of the form `\' followed by a nonzero
decimal number n matches the result of the nth set of capturing
parentheses (see 15.10.2.11 (#sec-15.10.2.11)). It is an error if the
regular expression has fewer than n capturing parentheses. If the
regular expression has n or more capturing parentheses but the nth one
is undefined because it has not captured anything, then the
backreference always succeeds.


File: javascript_ecma_262_5th_ed.info,  Node: 1510210 CharacterEscape,  Next: 1510211 DecimalEscape,  Prev: 151029 AtomEscape,  Up: Top

552 15.10.2.10 (#sec-15.10.2.10) CharacterEscape
************************************************

The production CharacterEscape :: ControlEscape evaluates by returning
the character according to Table 23.

   Table 23 ‚Äî ControlEscape Character Values ControlEscape Code Unit
Name Symbol `t' `\u0009' horizontal tab <HT> `n' `\u000A' line feed
(new line) <LF> `v' `\u000B' vertical tab <VT> `f' `\u000C' form feed
<FF> `r' `\u000D' carriage return <CR> The production CharacterEscape
:: `c' ControlLetter evaluates as follows:

  1. Let ch be the character represented by ControlLetter.

  2. Let i be ch‚Äôs code unit value.

  3. Let j be the remainder of dividing i by 32.

  4. Return the code unit numbered j.

   The production CharacterEscape :: HexEscapeSequence evaluates by
evaluating the CV of the HexEscapeSequence (see 7.8.4 (#sec-7.8.4)) and
returning its character result.

   The production CharacterEscape :: UnicodeEscapeSequence evaluates by
evaluating the CV of the UnicodeEscapeSequence (see 7.8.4 (#sec-7.8.4))
and returning its character result.

   The production CharacterEscape :: IdentityEscape evaluates by
returning the character represented by IdentityEscape.


File: javascript_ecma_262_5th_ed.info,  Node: 1510211 DecimalEscape,  Next: 1510212 CharacterClassEscape,  Prev: 1510210 CharacterEscape,  Up: Top

553 15.10.2.11 (#sec-15.10.2.11) DecimalEscape
**********************************************

The production DecimalEscape :: DecimalIntegerLiteral [lookahead ‚àâ
(#def-lookahead-notin) DecimalDigit] evaluates as follows.

  1. Let i be the MV of (#sec-7.8.3) DecimalIntegerLiteral.

  2. If i is zero, return the EscapeValue consisting of a <NUL>
     character (Unicode value 0000).

  3. Return the EscapeValue consisting of the integer i.

   The definition of ‚Äúthe MV of DecimalIntegerLiteral‚Äù is in 7.8.3
(#sec-7.8.3).

   NOTE If `\' is followed by a decimal number n whose first digit is
not `0', then the escape sequence is considered to be a backreference.
It is an error if n is greater than the total number of left capturing
parentheses in the entire regular expression. `\0' represents the <NUL>
character and cannot be followed by a decimal digit.


File: javascript_ecma_262_5th_ed.info,  Node: 1510212 CharacterClassEscape,  Next: 1510213 CharacterClass,  Prev: 1510211 DecimalEscape,  Up: Top

554 15.10.2.12 (#sec-15.10.2.12) CharacterClassEscape
*****************************************************

The production CharacterClassEscape :: `d' evaluates by returning the
ten-element set of characters containing the characters `0' through `9'
inclusive.

   The production CharacterClassEscape :: `D' evaluates by returning
the set of all characters not included in the set returned by
CharacterClassEscape :: `d'.

   The production CharacterClassEscape :: `s' evaluates by returning
the set of characters containing the characters that are on the
right-hand side of the WhiteSpace (7.2 (#sec-7.2)) or LineTerminator
(7.3 (#sec-7.3)) productions.

   The production CharacterClassEscape :: `S' evaluates by returning
the set of all characters not included in the set returned by
CharacterClassEscape :: `s'.

   The production CharacterClassEscape :: `w' evaluates by returning
the set of characters containing the sixty-three characters:

a b c d e f g h i j k l m n o p q r s t u v w x y z
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
0 1 2 3 4 5 6 7 8 9 _

   The production CharacterClassEscape :: `W' evaluates by returning
the set of all characters not included in the set returned by
CharacterClassEscape :: `w'.


File: javascript_ecma_262_5th_ed.info,  Node: 1510213 CharacterClass,  Next: 1510214 ClassRanges,  Prev: 1510212 CharacterClassEscape,  Up: Top

555 15.10.2.13 (#sec-15.10.2.13) CharacterClass
***********************************************

The production CharacterClass :: `[' [lookahead ‚àâ
(#def-lookahead-notin) {`^'}] ClassRanges `]' evaluates by evaluating
ClassRanges to obtain a CharSet and returning that CharSet and the
Boolean false.


File: javascript_ecma_262_5th_ed.info,  Node: 1510214 ClassRanges,  Next: 1510215 NonemptyClassRanges,  Prev: 1510213 CharacterClass,  Up: Top

556 15.10.2.14 (#sec-15.10.2.14) ClassRanges
********************************************

The production ClassRanges :: [empty] evaluates by returning the empty
CharSet.

   The production ClassRanges :: NonemptyClassRanges evaluates by
evaluating NonemptyClassRanges to obtain a CharSet and returning that
CharSet.


File: javascript_ecma_262_5th_ed.info,  Node: 1510215 NonemptyClassRanges,  Next: 1510216 NonemptyClassRangesNoDash,  Prev: 1510214 ClassRanges,  Up: Top

557 15.10.2.15 (#sec-15.10.2.15) NonemptyClassRanges
****************************************************

The production NonemptyClassRanges :: ClassAtom evaluates by evaluating
ClassAtom to obtain a CharSet and returning that CharSet.

   The production NonemptyClassRanges :: ClassAtom
NonemptyClassRangesNoDash evaluates as follows:

  1. Evaluate ClassAtom to obtain a CharSet A.

  2. Evaluate NonemptyClassRangesNoDash to obtain a CharSet B.

  3. Return the union of CharSets A and B.

   The production NonemptyClassRanges :: ClassAtom `-' ClassAtom
ClassRanges evaluates as follows:

  1. Evaluate the first ClassAtom to obtain a CharSet A.

  2. Evaluate the second ClassAtom to obtain a CharSet B.

  3. Evaluate ClassRanges to obtain a CharSet C.

  4. Call CharacterRange(A, B) and let D be the resulting CharSet.

  5. Return the union of CharSets D and C.

   The abstract operation CharacterRange takes two CharSet parameters A
and B and performs the following:

  1. If a does not contain exactly one character or b does not contain
     exactly one character then throw a SyntaxError exception.

  2. Let a be the one character in CharSet a.

  3. Let b be the one character in CharSet b.

  4. Let i be the code unit value of character a.

  5. Let j be the code unit value of character b.

  6. If i > j then throw a SyntaxError exception.

  7. Return the set containing all characters numbered i through j,
     inclusive.


File: javascript_ecma_262_5th_ed.info,  Node: 1510216 NonemptyClassRangesNoDash,  Next: 1510217 ClassAtom,  Prev: 1510215 NonemptyClassRanges,  Up: Top

558 15.10.2.16 (#sec-15.10.2.16) NonemptyClassRangesNoDash
**********************************************************

The production NonemptyClassRangesNoDash :: ClassAtom evaluates by
evaluating ClassAtom to obtain a CharSet and returning that CharSet.

   The production NonemptyClassRangesNoDash :: ClassAtomNoDash
NonemptyClassRangesNoDash evaluates as follows:

  1. Evaluate ClassAtomNoDash to obtain a CharSet A.

  2. Evaluate NonemptyClassRangesNoDash to obtain a CharSet B.

  3. Return the union of CharSets A and B.

   The production NonemptyClassRangesNoDash :: ClassAtomNoDash `-'
ClassAtom ClassRanges evaluates as follows:

  1. Evaluate ClassAtomNoDash to obtain a CharSet A.

  2. Evaluate ClassAtom to obtain a CharSet B.

  3. Evaluate ClassRanges to obtain a CharSet C.

  4.  5. Return the union of CharSets D and C.

   NOTE 1 ClassRanges can expand into single ClassAtoms and/or ranges
of two ClassAtoms separated by dashes. In the latter case the
ClassRanges includes all characters between the first ClassAtom and the
second ClassAtom, inclusive; an error occurs if either ClassAtom does
not represent a single character (for example, if one is `\w') or if
the first ClassAtom‚Äôs code unit value is greater than the second
ClassAtom‚Äôs code unit value.

   NOTE 2 Even if the pattern ignores case, the case of the two ends of
a range is significant in determining which characters belong to the
range. Thus, for example, the pattern `/[E-F]/i' matches only the
letters `E', `F', `e', and `f', while the pattern `/[E-f]/i' matches
all upper and lower-case ASCII letters as well as the symbols `[', `\',
`]', `^', `_', and ``'.

   NOTE 3 A `-' character can be treated literally or it can denote a
range. It is treated literally if it is the first or last character of
ClassRanges, the beginning or end limit of a range specification, or
immediately follows a range specification.


File: javascript_ecma_262_5th_ed.info,  Node: 1510217 ClassAtom,  Next: 1510218 ClassAtomNoDash,  Prev: 1510216 NonemptyClassRangesNoDash,  Up: Top

559 15.10.2.17 (#sec-15.10.2.17) ClassAtom
******************************************

The production ClassAtom :: `-' evaluates by returning the CharSet
containing the one character `-'.

   The production ClassAtom :: ClassAtomNoDash evaluates by evaluating
ClassAtomNoDash to obtain a CharSet and returning that CharSet.


File: javascript_ecma_262_5th_ed.info,  Node: 1510218 ClassAtomNoDash,  Next: 1510219 ClassEscape,  Prev: 1510217 ClassAtom,  Up: Top

560 15.10.2.18 (#sec-15.10.2.18) ClassAtomNoDash
************************************************

The production ClassAtomNoDash :: SourceCharacter but not one of `\' or
`]' or `-' evaluates by returning a one-element CharSet containing the
character represented by SourceCharacter.

   The production ClassAtomNoDash :: `\' ClassEscape evaluates by
evaluating ClassEscape to obtain a CharSet and returning that CharSet.


File: javascript_ecma_262_5th_ed.info,  Node: 1510219 ClassEscape,  Next: 15103 The RegExp Constructor Called as a Function,  Prev: 1510218 ClassAtomNoDash,  Up: Top

561 15.10.2.19 (#sec-15.10.2.19) ClassEscape
********************************************

The production ClassEscape :: DecimalEscape evaluates as follows:

  1. Evaluate DecimalEscape to obtain an EscapeValue E.

  2. If E is not a character then throw a SyntaxError exception.

  3. Let ch be E‚Äôs character.

  4. Return the one-element CharSet containing the character ch.

   The production ClassEscape :: `b' evaluates by returning the CharSet
containing the one character <BS> (Unicode value 0008).

   The production ClassEscape :: CharacterEscape evaluates by
evaluating CharacterEscape to obtain a character and returning a
one-element CharSet containing that character.

   The production ClassEscape :: CharacterClassEscape evaluates by
evaluating CharacterClassEscape to obtain a CharSet and returning that
CharSet.

   NOTE A ClassAtom can use any of the escape sequences that are
allowed in the rest of the regular expression except for `\b', `\B',
and backreferences. Inside a CharacterClass, `\b' means the backspace
character, while `\B' and backreferences raise errors. Using a
backreference inside a ClassAtom causes an error.


File: javascript_ecma_262_5th_ed.info,  Node: 15103 The RegExp Constructor Called as a Function,  Next: 151031 RegExppattern flags,  Prev: 1510219 ClassEscape,  Up: Top

562 15.10.3 (#sec-15.10.3) The RegExp Constructor Called as a Function
**********************************************************************


File: javascript_ecma_262_5th_ed.info,  Node: 151031 RegExppattern flags,  Next: 15104 The RegExp Constructor,  Prev: 15103 The RegExp Constructor Called as a Function,  Up: Top

563 15.10.3.1 (#sec-15.10.3.1) RegExp(pattern, flags)
*****************************************************

If pattern is an object R whose [[Class]] internal property is "RegExp"
and flags is undefined, then return R unchanged. Otherwise call the
standard built-in RegExp constructor (15.10.4.1 (#sec-15.10.4.1)) as if
by the expression `new RegExp(<var>pattern</var>, <var>flags</var>)'
and return the object constructed by that constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 15104 The RegExp Constructor,  Next: 151041 new RegExppattern flags,  Prev: 151031 RegExppattern flags,  Up: Top

564 15.10.4 (#sec-15.10.4) The RegExp Constructor
*************************************************

When RegExp is called as part of a `new' expression, it is a
constructor: it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 151041 new RegExppattern flags,  Next: 15105 Properties of the RegExp Constructor,  Prev: 15104 The RegExp Constructor,  Up: Top

565 15.10.4.1 (#sec-15.10.4.1) new RegExp(pattern, flags)
*********************************************************

If pattern is an object R whose [[Class]] internal property is "RegExp"
and flags is undefined, then let P be the pattern used to construct R
and let F be the flags used to construct R. If pattern is an object R
whose [[Class]] internal property is "RegExp" and flags is not
undefined, then throw a TypeError exception. Otherwise, let P be the
empty String if pattern is undefined and ToString (#sec-9.8)(pattern)
otherwise, and let F be the empty String if flags is undefined and
ToString (#sec-9.8)(flags) otherwise.

   If the characters of P do not have the syntactic form Pattern, then
throw a SyntaxError exception. Otherwise let the newly constructed
object have a [[Match]] internal property obtained by evaluating
(‚Äúcompiling‚Äù) the characters of P as a Pattern as described in
15.10.2 (#sec-15.10.2).

   If F contains any character other than "g", "i", or "m", or if it
contains the same character more than once, then throw a SyntaxError
exception.

   If a SyntaxError exception is not thrown, then:

   Let S be a String in the form of a Pattern equivalent to P, in which
certain characters are escaped as described below. S may or may not be
identical to P or pattern; however, the internal procedure that would
result from evaluating S as a Pattern must behave identically to the
internal procedure given by the constructed object‚Äôs [[Match]]
internal property.

   The characters `/' or backslash `\' occurring in the pattern shall
be escaped in S as necessary to ensure that the String value formed by
concatenating the Strings "/", S, "/", and F can be parsed (in an
appropriate lexical context) as a RegularExpressionLiteral that behaves
identically to the constructed regular expression. For example, if P is
"/", then S could be "\/" or "\u002F", among other possibilities, but
not "/", because `///' followed by F would be parsed as a
SingleLineComment rather than a RegularExpressionLiteral. If P is the
empty String, this specification can be met by letting S be "(?:)".

   The following properties of the newly constructed object are data
properties with the attributes that are specified in 15.10.7
(#sec-15.10.7). The [[Value]] of each property is set as follows:

   The `source' property of the newly constructed object is set to S.

   The `global' property of the newly constructed object is set to a
Boolean value that is true if F contains the character "g" and false
otherwise.

   The `ignoreCase' property of the newly constructed object is set to
a Boolean value that is true if F contains the character "i" and false
otherwise.

   The `multiline' property of the newly constructed object is set to a
Boolean value that is true if F contains the character "m" and false
otherwise.

   The `lastIndex' property of the newly constructed object is set to 0.

   The [[Class]] internal property of the newly constructed object is
set to "RegExp".

   NOTE If pattern is a StringLiteral, the usual escape sequence
substitutions are performed before the String is processed by RegExp.
If pattern must contain an escape sequence to be recognised by RegExp,
any backslash `\' characters must be escaped within the StringLiteral
to prevent them being removed when the contents of the StringLiteral
are formed.


File: javascript_ecma_262_5th_ed.info,  Node: 15105 Properties of the RegExp Constructor,  Next: 151051 RegExpprototype,  Prev: 151041 new RegExppattern flags,  Up: Top

566 15.10.5 (#sec-15.10.5) Properties of the RegExp Constructor
***************************************************************

The value of the [[Prototype]] internal property of the RegExp
constructor is the standard built-in Function prototype object (15.3.4
(#sec-15.3.4)).

   Besides the internal properties and the `length' property (whose
value is 2), the RegExp constructor has the following properties:


File: javascript_ecma_262_5th_ed.info,  Node: 151051 RegExpprototype,  Next: 15106 Properties of the RegExp Prototype Object,  Prev: 15105 Properties of the RegExp Constructor,  Up: Top

567 15.10.5.1 (#sec-15.10.5.1) RegExp.prototype
***********************************************

The initial value of RegExp.prototype is the RegExp prototype object
(15.10.6 (#sec-15.10.6)).

   This property shall have the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15106 Properties of the RegExp Prototype Object,  Next: 151061 RegExpprototypeconstructor,  Prev: 151051 RegExpprototype,  Up: Top

568 15.10.6 (#sec-15.10.6) Properties of the RegExp Prototype Object
********************************************************************

The value of the [[Prototype]] internal property of the RegExp
prototype object is the standard built-in Object prototype object
(15.2.4 (#sec-15.2.4)). The RegExp prototype object is itself a regular
expression object; its [[Class]] is "RegExp". The initial values of the
RegExp prototype object‚Äôs data properties (15.10.7 (#sec-15.10.7))
are set as if the object was created by the expression `new RegExp()'
where `RegExp' is that standard built-in constructor with that name.

   The RegExp prototype object does not have a `valueOf' property of
its own; however, it inherits the `valueOf' property from the Object
prototype object.

   In the following descriptions of functions that are properties of
the RegExp prototype object, the phrase ‚Äúthis RegExp object‚Äù refers
to the object that is the this value for the invocation of the
function; a TypeError exception is thrown if the this value is not an
object or an object for which the value of the [[Class]] internal
property is not "RegExp".


File: javascript_ecma_262_5th_ed.info,  Node: 151061 RegExpprototypeconstructor,  Next: 151062 RegExpprototypeexecstring,  Prev: 15106 Properties of the RegExp Prototype Object,  Up: Top

569 15.10.6.1 (#sec-15.10.6.1) RegExp.prototype.constructor
***********************************************************

The initial value of RegExp.prototype.constructor is the standard
built-in RegExp constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 151062 RegExpprototypeexecstring,  Next: 151063 RegExpprototypeteststring,  Prev: 151061 RegExpprototypeconstructor,  Up: Top

570 15.10.6.2 (#sec-15.10.6.2) RegExp.prototype.exec(string)
************************************************************

Performs a regular expression match of string against the regular
expression and returns an Array object containing the results of the
match, or null if string did not match.

   The String ToString (#sec-9.8)(string) is searched for an occurrence
of the regular expression pattern as follows:

  1. Let R be this RegExp object (#def-this-RegExp-object).

  2. Let S be the value of ToString (#sec-9.8)(string).

  3. Let length be the length of S.

  4. Let lastIndex be the result of calling the [[Get]] internal method
     of R with argument "lastIndex".

  5. Let i be the value of ToInteger (#sec-9.4)(lastIndex).

  6. Let global be the result of calling the [[Get]] internal method of
     R with argument "global".

  7.  8. Let matchSucceeded be false.

  9. Repeat, while matchSucceeded is false
       1. If i < 0 or i > length, then
            1. Call the [[Put]] internal method of R with arguments
               "lastIndex", 0, and true.

            2. Return null.

       2. Call the [[Match]] internal method of R with arguments S and
          i.

       3. If [[Match]] returned failure, then
            1. Let i = i+1.

       4. else
            1. Let r be the State result of the call to [[Match]].

            2. Set matchSucceeded to true.

       5. Let i = i+1.

 10. Let e be r‚Äôs endIndex value.

 11. If global is true,
       1. Call the [[Put]] internal method of R with arguments
          "lastIndex", e, and true.

 12. Let n be the length of r‚Äôs captures array. (This is the same
     value as 15.10.2.1 (#sec-15.10.2.1)‚Äôs NcapturingParens
     (#def-NcapturingParens).)

 13. Let A be a new array created as if by the expression `new Array()'
     where `Array' is the standard built-in constructor with that name.

 14. Let matchIndex be the position of the matched substring within the
     complete String S.

 15. Call the [[DefineOwnProperty]] internal method of A with arguments
     "index", Property Descriptor (#sec-8.10) {[[Value]]: matchIndex,
     [[Writable]: true, [[Enumerable]]: true, [[Configurable]]: true},
     and true.

 16. Call the [[DefineOwnProperty]] internal method of A with arguments
     "input", Property Descriptor (#sec-8.10) {[[Value]]: S,
     [[Writable]: true, [[Enumerable]]: true, [[Configurable]]: true},
     and true.

 17. Call the [[DefineOwnProperty]] internal method of A with arguments
     "length", Property Descriptor (#sec-8.10) {[[Value]]: n + 1}, and
     true.

 18. Let matchedSubstr be the matched substring (i.e. the portion of S
     between offset i inclusive and offset e exclusive).

 19. Call the [[DefineOwnProperty]] internal method of A with arguments
     "0", Property Descriptor (#sec-8.10) {[[Value]]: matchedSubstr,
     [[Writable]: true, [[Enumerable]]: true, [[Configurable]]: true},
     and true.

 20. For each integer i such that i > 0 and i ‚â§ n
       1. Let captureI be ith element of r‚Äôs captures array.

       2. Call the [[DefineOwnProperty]] internal method of A with
          arguments ToString (#sec-9.8)(i), Property Descriptor
          (#sec-8.10) {[[Value]]: captureI, [[Writable]: true,
          [[Enumerable]]: true, [[Configurable]]: true}, and true.

 21. Return A.


File: javascript_ecma_262_5th_ed.info,  Node: 151063 RegExpprototypeteststring,  Next: 151064 RegExpprototypetoString,  Prev: 151062 RegExpprototypeexecstring,  Up: Top

571 15.10.6.3 (#sec-15.10.6.3) RegExp.prototype.test(string)
************************************************************

The following steps are taken:

  1. Let match be the result of evaluating the RegExp.prototype.exec
     (15.10.6.2 (#sec-15.10.6.2)) algorithm upon this RegExp object
     (#def-this-RegExp-object) using string as the argument.

  2. If match is not null, then return true; else return false.


File: javascript_ecma_262_5th_ed.info,  Node: 151064 RegExpprototypetoString,  Next: 15107 Properties of RegExp Instances,  Prev: 151063 RegExpprototypeteststring,  Up: Top

572 15.10.6.4 (#sec-15.10.6.4) RegExp.prototype.toString()
**********************************************************

Return the String value formed by concatenating the Strings "/", the
String value of the `source' property of this RegExp object
(#def-this-RegExp-object), and "/"; plus "g" if the `global' property
is true, "i" if the `ignoreCase' property is true, and "m" if the
`multiline' property is true.

   NOTE The returned String has the form of a RegularExpressionLiteral
that evaluates to another RegExp object with the same behaviour as this
object.


File: javascript_ecma_262_5th_ed.info,  Node: 15107 Properties of RegExp Instances,  Next: 151071 source,  Prev: 151064 RegExpprototypetoString,  Up: Top

573 15.10.7 (#sec-15.10.7) Properties of RegExp Instances
*********************************************************

RegExp instances inherit properties from the RegExp prototype object
and their [[Class]] internal property value is "RegExp". RegExp
instances also have a [[Match]] internal property and a `length'
property.

   RegExp instances also have the following properties.


File: javascript_ecma_262_5th_ed.info,  Node: 151071 source,  Next: 151072 global,  Prev: 15107 Properties of RegExp Instances,  Up: Top

574 15.10.7.1 (#sec-15.10.7.1) source
*************************************

The value of the `source' property is a String in the form of a Pattern
representing the current regular expression. This property shall have
the attributes { [[Writable]]: false, [[Enumerable]]: false,
[[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 151072 global,  Next: 151073 ignoreCase,  Prev: 151071 source,  Up: Top

575 15.10.7.2 (#sec-15.10.7.2) global
*************************************

The value of the `global' property is a Boolean value indicating
whether the flags contained the character "g". This property shall have
the attributes { [[Writable]]: false, [[Enumerable]]: false,
[[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 151073 ignoreCase,  Next: 151074 multiline,  Prev: 151072 global,  Up: Top

576 15.10.7.3 (#sec-15.10.7.3) ignoreCase
*****************************************

The value of the `ignoreCase' property is a Boolean value indicating
whether the flags contained the character "i". This property shall have
the attributes { [[Writable]]: false, [[Enumerable]]: false,
[[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 151074 multiline,  Next: 151075 lastIndex,  Prev: 151073 ignoreCase,  Up: Top

577 15.10.7.4 (#sec-15.10.7.4) multiline
****************************************

The value of the `multiline' property is a Boolean value indicating
whether the flags contained the character "m". This property shall have
the attributes { [[Writable]]: false, [[Enumerable]]: false,
[[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 151075 lastIndex,  Next: 1511 Error Objects,  Prev: 151074 multiline,  Up: Top

578 15.10.7.5 (#sec-15.10.7.5) lastIndex
****************************************

The value of the `lastIndex' property specifies the String position at
which to start the next match. It is coerced to an integer when used
(see 15.10.6.2 (#sec-15.10.6.2)). This property shall have the
attributes { [[Writable]]: true, [[Enumerable]]: false,
[[Configurable]]: false }.

   NOTE Unlike the other standard built-in properties of RegExp
instances, lastIndex is writable.


File: javascript_ecma_262_5th_ed.info,  Node: 1511 Error Objects,  Next: 15111 The Error Constructor Called as a Function,  Prev: 151075 lastIndex,  Up: Top

579 15.11 (#sec-15.11) Error Objects
************************************

Instances of Error objects are thrown as exceptions when runtime errors
occur. The Error objects may also serve as base objects for
user-defined exception classes.


File: javascript_ecma_262_5th_ed.info,  Node: 15111 The Error Constructor Called as a Function,  Next: 151111 Error message,  Prev: 1511 Error Objects,  Up: Top

580 15.11.1 (#sec-15.11.1) The Error Constructor Called as a Function
*********************************************************************

When Error is called as a function rather than as a constructor, it
creates and initialises a new Error object. Thus the function call
`Error(<var>...</var>)' is equivalent to the object creation expression
`new Error(<var>...</var>)' with the same arguments.


File: javascript_ecma_262_5th_ed.info,  Node: 151111 Error message,  Next: 15112 The Error Constructor,  Prev: 15111 The Error Constructor Called as a Function,  Up: Top

581 15.11.1.1 (#sec-15.11.1.1) Error (message)
**********************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Error prototype object, the one that is the initial
value of Error.prototype (15.11.3.1 (#sec-15.11.3.1)).

   The [[Class]] internal property of the newly constructed object is
set to "Error".

   The [[Extensible]] internal property of the newly constructed object
is set to true.


File: javascript_ecma_262_5th_ed.info,  Node: 15112 The Error Constructor,  Next: 151121 new Error message,  Prev: 151111 Error message,  Up: Top

582 15.11.2 (#sec-15.11.2) The Error Constructor
************************************************

When Error is called as part of a `new' expression, it is a
constructor: it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 151121 new Error message,  Next: 15113 Properties of the Error Constructor,  Prev: 15112 The Error Constructor,  Up: Top

583 15.11.2.1 (#sec-15.11.2.1) new Error (message)
**************************************************

The [[Prototype]] internal property of the newly constructed object is
set to the original Error prototype object, the one that is the initial
value of Error.prototype (15.11.3.1 (#sec-15.11.3.1)).

   The [[Class]] internal property of the newly constructed Error
object is set to "Error".

   The [[Extensible]] internal property of the newly constructed object
is set to true.

   If the argument message is not undefined, the `message' own property
of the newly constructed object is set to ToString (#sec-9.8)(message).


File: javascript_ecma_262_5th_ed.info,  Node: 15113 Properties of the Error Constructor,  Next: 151131 Errorprototype,  Prev: 151121 new Error message,  Up: Top

584 15.11.3 (#sec-15.11.3) Properties of the Error Constructor
**************************************************************

The value of the [[Prototype]] internal property of the Error
constructor is the Function prototype object (15.3.4) (#sec-15.3.4).

   Besides the internal properties and the `length' property (whose
value is 1), the Error constructor has the following property:


File: javascript_ecma_262_5th_ed.info,  Node: 151131 Errorprototype,  Next: 15114 Properties of the Error Prototype Object,  Prev: 15113 Properties of the Error Constructor,  Up: Top

585 15.11.3.1 (#sec-15.11.3.1) Error.prototype
**********************************************

The initial value of Error.prototype is the Error prototype object
(15.11.4 (#sec-15.11.4)).

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 15114 Properties of the Error Prototype Object,  Next: 151141 Errorprototypeconstructor,  Prev: 151131 Errorprototype,  Up: Top

586 15.11.4 (#sec-15.11.4) Properties of the Error Prototype Object
*******************************************************************

The Error prototype object is itself an Error object (its [[Class]] is
"Error").

   The value of the [[Prototype]] internal property of the Error
prototype object is the standard built-in Object prototype object
(15.2.4 (#sec-15.2.4)).


File: javascript_ecma_262_5th_ed.info,  Node: 151141 Errorprototypeconstructor,  Next: 151142 Errorprototypename,  Prev: 15114 Properties of the Error Prototype Object,  Up: Top

587 15.11.4.1 (#sec-15.11.4.1) Error.prototype.constructor
**********************************************************

The initial value of Error.prototype.constructor is the built-in Error
constructor.


File: javascript_ecma_262_5th_ed.info,  Node: 151142 Errorprototypename,  Next: 151143 Errorprototypemessage,  Prev: 151141 Errorprototypeconstructor,  Up: Top

588 15.11.4.2 (#sec-15.11.4.2) Error.prototype.name
***************************************************

The initial value of Error.prototype.name is "Error".


File: javascript_ecma_262_5th_ed.info,  Node: 151143 Errorprototypemessage,  Next: 151144 ErrorprototypetoString,  Prev: 151142 Errorprototypename,  Up: Top

589 15.11.4.3 (#sec-15.11.4.3) Error.prototype.message
******************************************************

The initial value of Error.prototype.message is the empty String.


File: javascript_ecma_262_5th_ed.info,  Node: 151144 ErrorprototypetoString,  Next: 15115 Properties of Error Instances,  Prev: 151143 Errorprototypemessage,  Up: Top

590 15.11.4.4 (#sec-15.11.4.4) Error.prototype.toString ( )
***********************************************************

The following steps are taken:

  1.  2. If Type (#def-type)(O) is not Object, throw a TypeError exception.

  3. Let name be the result of calling the [[Get]] internal method of O
     with argument "name".

  4. If name is undefined, then let name be "Error"; else let name be
     ToString (#sec-9.8)(name).

  5. Let msg be the result of calling the [[Get]] internal method of O
     with argument "message".

  6. If msg is undefined, then let msg be the empty String; else let
     msg be ToString (#sec-9.8)(msg).

  7. If name and msg are both the empty String, return "Error".

  8. If name is the empty String, return msg.

  9. If msg is the empty String, return name.

 10. Return the result of concatenating name, ":", a single space
     character, and msg.


File: javascript_ecma_262_5th_ed.info,  Node: 15115 Properties of Error Instances,  Next: 15116 Native Error Types Used in This Standard,  Prev: 151144 ErrorprototypetoString,  Up: Top

591 15.11.5 (#sec-15.11.5) Properties of Error Instances
********************************************************

Error instances inherit properties from the Error prototype object and
their [[Class]] internal property value is "Error". Error instances
have no special properties.


File: javascript_ecma_262_5th_ed.info,  Node: 15116 Native Error Types Used in This Standard,  Next: 151161 EvalError,  Prev: 15115 Properties of Error Instances,  Up: Top

592 15.11.6 (#sec-15.11.6) Native Error Types Used in This Standard
*******************************************************************

One of the NativeError objects below is thrown when a runtime error is
detected. All of these objects share the same structure, as described
in 15.11.7 (#sec-15.11.7).


File: javascript_ecma_262_5th_ed.info,  Node: 151161 EvalError,  Next: 151162 RangeError,  Prev: 15116 Native Error Types Used in This Standard,  Up: Top

593 15.11.6.1 (#sec-15.11.6.1) EvalError
****************************************

This exception is not currently used within this specification. This
object remains for compatibility with previous editions of this
specification.


File: javascript_ecma_262_5th_ed.info,  Node: 151162 RangeError,  Next: 151163 ReferenceError,  Prev: 151161 EvalError,  Up: Top

594 15.11.6.2 (#sec-15.11.6.2) RangeError
*****************************************

Indicates a numeric value has exceeded the allowable range. See
15.4.2.2 (#sec-15.4.2.2), 15.4.5.1 (#sec-15.4.5.1), 15.7.4.2
(#sec-15.7.4.2), 15.7.4.5 (#sec-15.7.4.5), 15.7.4.6 (#sec-15.7.4.6),
and 15.7.4.7 (#sec-15.7.4.7), 15.9.5.43 (#sec-15.9.5.43).


File: javascript_ecma_262_5th_ed.info,  Node: 151163 ReferenceError,  Next: 151164 SyntaxError,  Prev: 151162 RangeError,  Up: Top

595 15.11.6.3 (#sec-15.11.6.3) ReferenceError
*********************************************

Indicate that an invalid reference value has been detected. See 8.7.1
(#sec-8.7.1), 8.7.2 (#sec-8.7.2), 10.2.1 (#sec-10.2.1), 10.2.1.1.4
(#sec-10.2.1.1.4), 10.2.1.2.4 (#sec-10.2.1.2.4), and 11.13.1
(#sec-11.13.1).


File: javascript_ecma_262_5th_ed.info,  Node: 151164 SyntaxError,  Next: 151165 TypeError,  Prev: 151163 ReferenceError,  Up: Top

596 15.11.6.4 (#sec-15.11.6.4) SyntaxError
******************************************

Indicates that a parsing error has occurred. See 11.1.5 (#sec-11.1.5),
11.3.1 (#sec-11.3.1), 11.3.2 (#sec-11.3.2), 11.4.1 (#sec-11.4.1),
11.4.4 (#sec-11.4.4), 11.4.5 (#sec-11.4.5), 11.13.1 (#sec-11.13.1),
11.13.2 (#sec-11.13.2), 12.2.1 (#sec-12.2.1), 12.10.1 (#sec-12.10.1),
12.14.1 (#sec-12.14.1), 13.1 (#sec-13.1), 15.1.2.1 (#sec-15.1.2.1),
15.3.2.1 (#sec-15.3.2.1), 15.10.2.2 (#sec-15.10.2.2), 15.10.2.5
(#sec-15.10.2.5), 15.10.2.9 (#sec-15.10.2.9), 15.10.2.15
(#sec-15.10.2.15), 15.10.2.19 (#sec-15.10.2.19), 15.10.4.1
(#sec-15.10.4.1), and 15.12.2 (#sec-15.12.2).


File: javascript_ecma_262_5th_ed.info,  Node: 151165 TypeError,  Next: 151166 URIError,  Prev: 151164 SyntaxError,  Up: Top

597 15.11.6.5 (#sec-15.11.6.5) TypeError
****************************************

Indicates the actual type of an operand is different than the expected
type. See 8.6.2 (#sec-8.6.2), 8.7.2 (#sec-8.7.2), 8.10.5 (#sec-8.10.5),
8.12.5 (#sec-8.12.5), 8.12.7 (#sec-8.12.7), 8.12.8 (#sec-8.12.8),
8.12.9 (#sec-8.12.9), 9.9 (#sec-9.9), 9.10 (#sec-9.10), 10.2.1
(#sec-10.2.1), 10.2.1.1.3 (#sec-10.2.1.1.3), 10.6 (#sec-10.6), 11.2.2
(#sec-11.2.2), 11.2.3 (#sec-11.2.3), 11.4.1 (#sec-11.4.1), 11.8.6
(#sec-11.8.6), 11.8.7 (#sec-11.8.7), 11.3.1 (#sec-11.3.1), 13.2
(#sec-13.2), 13.2.3 (#sec-13.2.3), 15 (#sec-15), 15.2.3.2
(#sec-15.2.3.2), 15.2.3.3 (#sec-15.2.3.3), 15.2.3.4 (#sec-15.2.3.4),
15.2.3.5 (#sec-15.2.3.5), 15.2.3.6 (#sec-15.2.3.6), 15.2.3.7
(#sec-15.2.3.7), 15.2.3.8 (#sec-15.2.3.8), 15.2.3.9 (#sec-15.2.3.9),
15.2.3.10 (#sec-15.2.3.10), 15.2.3.11 (#sec-15.2.3.11), 15.2.3.12
(#sec-15.2.3.12), 15.2.3.13 (#sec-15.2.3.13), 15.2.3.14
(#sec-15.2.3.14), 15.2.4.3 (#sec-15.2.4.3), 15.3.4.2 (#sec-15.3.4.2),
15.3.4.3 (#sec-15.3.4.3), 15.3.4.4 (#sec-15.3.4.4), 15.3.4.5
(#sec-15.3.4.5), 15.3.4.5.2 (#sec-15.3.4.5.2), 15.3.4.5.3
(#sec-15.3.4.5.3), 15.3.5 (#sec-15.3.5), 15.3.5.3 (#sec-15.3.5.3),
15.3.5.4 (#sec-15.3.5.4), 15.4.4.3 (#sec-15.4.4.3), 15.4.4.11
(#sec-15.4.4.11), 15.4.4.16 (#sec-15.4.4.16), 15.4.4.17
(#sec-15.4.4.17), 15.4.4.18 (#sec-15.4.4.18), 15.4.4.19
(#sec-15.4.4.19), 15.4.4.20 (#sec-15.4.4.20), 15.4.4.21
(#sec-15.4.4.21), 15.4.4.22 (#sec-15.4.4.22), 15.4.5.1 (#sec-15.4.5.1),
15.5.4.2 (#sec-15.5.4.2), 15.5.4.3 (#sec-15.5.4.3), 15.6.4.2
(#sec-15.6.4.2), 15.6.4.3 (#sec-15.6.4.3), 15.7.4 (#sec-15.7.4),
15.7.4.2 (#sec-15.7.4.2), 15.7.4.4 (#sec-15.7.4.4), 15.9.5
(#sec-15.9.5), 15.9.5.44 (#sec-15.9.5.44), 15.10.4.1 (#sec-15.10.4.1),
15.10.6 (#sec-15.10.6), 15.11.4.4 (#sec-15.11.4.4) and 15.12.3
(#sec-15.12.3).


File: javascript_ecma_262_5th_ed.info,  Node: 151166 URIError,  Next: 15117 NativeError Object Structure,  Prev: 151165 TypeError,  Up: Top

598 15.11.6.6 (#sec-15.11.6.6) URIError
***************************************

Indicates that one of the global URI handling functions was used in a
way that is incompatible with its definition. See 15.1.3 (#sec-15.1.3).


File: javascript_ecma_262_5th_ed.info,  Node: 15117 NativeError Object Structure,  Next: 151171 NativeError Constructors Called as Functions,  Prev: 151166 URIError,  Up: Top

599 15.11.7 (#sec-15.11.7) NativeError Object Structure
*******************************************************

When an ECMAScript implementation detects a runtime error, it throws an
instance of one of the NativeError objects defined in 15.11.6
(#sec-15.11.6). Each of these objects has the structure described
below, differing only in the name used as the constructor name instead
of NativeError, in the `name' property of the prototype object, and in
the implementation-defined `message' property of the prototype object.

   For each error object, references to NativeError in the definition
should be replaced with the appropriate error object name from 15.11.6
(#sec-15.11.6).


File: javascript_ecma_262_5th_ed.info,  Node: 151171 NativeError Constructors Called as Functions,  Next: 151172 NativeError message,  Prev: 15117 NativeError Object Structure,  Up: Top

600 15.11.7.1 (#sec-15.11.7.1) NativeError Constructors Called as Functions
***************************************************************************

When a NativeError constructor is called as a function rather than as a
constructor, it creates and initialises a new object. A call of the
object as a function is equivalent to calling it as a constructor with
the same arguments.


File: javascript_ecma_262_5th_ed.info,  Node: 151172 NativeError message,  Next: 151173 The NativeError Constructors,  Prev: 151171 NativeError Constructors Called as Functions,  Up: Top

601 15.11.7.2 (#sec-15.11.7.2) NativeError (message)
****************************************************

The [[Prototype]] internal property of the newly constructed object is
set to the prototype object for this error constructor. The [[Class]]
internal property of the newly constructed object is set to "Error".
The [[Extensible]] internal property of the newly constructed object is
set to true.

   If the argument message is not undefined, the `message' own property
of the newly constructed object is set to ToString (#sec-9.8)(message).


File: javascript_ecma_262_5th_ed.info,  Node: 151173 The NativeError Constructors,  Next: 151174 New NativeError message,  Prev: 151172 NativeError message,  Up: Top

602 15.11.7.3 (#sec-15.11.7.3) The NativeError Constructors
***********************************************************

When a NativeError constructor is called as part of a `new' expression,
it is a constructor: it initialises the newly created object.


File: javascript_ecma_262_5th_ed.info,  Node: 151174 New NativeError message,  Next: 151175 Properties of the NativeError Constructors,  Prev: 151173 The NativeError Constructors,  Up: Top

603 15.11.7.4 (#sec-15.11.7.4) New NativeError (message)
********************************************************

The [[Prototype]] internal property of the newly constructed object is
set to the prototype object for this NativeError constructor. The
[[Class]] internal property of the newly constructed object is set to
"Error". The [[Extensible]] internal property of the newly constructed
object is set to true.

   If the argument message is not undefined, the `message' property of
the newly constructed object is set to ToString (#sec-9.8)(message).


File: javascript_ecma_262_5th_ed.info,  Node: 151175 Properties of the NativeError Constructors,  Next: 151176 NativeErrorprototype,  Prev: 151174 New NativeError message,  Up: Top

604 15.11.7.5 (#sec-15.11.7.5) Properties of the NativeError Constructors
*************************************************************************

The value of the [[Prototype]] internal property of a NativeError
constructor is the Function prototype object (15.3.4) (#sec-15.3.4).

   Besides the internal properties and the `length' property (whose
value is 1), each NativeError constructor has the following property:


File: javascript_ecma_262_5th_ed.info,  Node: 151176 NativeErrorprototype,  Next: 151177 Properties of the NativeError Prototype Objects,  Prev: 151175 Properties of the NativeError Constructors,  Up: Top

605 15.11.7.6 (#sec-15.11.7.6) NativeError.prototype
****************************************************

The initial value of NativeError.prototype is a NativeError prototype
object (15.11.7.7 (#sec-15.11.7.7)). Each NativeError constructor has a
separate prototype object.

   This property has the attributes { [[Writable]]: false,
[[Enumerable]]: false, [[Configurable]]: false }.


File: javascript_ecma_262_5th_ed.info,  Node: 151177 Properties of the NativeError Prototype Objects,  Next: 151178 NativeErrorprototypeconstructor,  Prev: 151176 NativeErrorprototype,  Up: Top

606 15.11.7.7 (#sec-15.11.7.7) Properties of the NativeError Prototype Objects
******************************************************************************

Each NativeError prototype object is an Error object (its [[Class]] is
"Error").

   The value of the [[Prototype]] internal property of each NativeError
prototype object is the standard built-in Error prototype object
(15.11.4 (#sec-15.11.4)).


File: javascript_ecma_262_5th_ed.info,  Node: 151178 NativeErrorprototypeconstructor,  Next: 151179 NativeErrorprototypename,  Prev: 151177 Properties of the NativeError Prototype Objects,  Up: Top

607 15.11.7.8 (#sec-15.11.7.8) NativeError.prototype.constructor
****************************************************************

The initial value of the `constructor' property of the prototype for a
given NativeError constructor is the NativeError constructor function
itself (15.11.7 (#sec-15.11.7)).


File: javascript_ecma_262_5th_ed.info,  Node: 151179 NativeErrorprototypename,  Next: 1511710 NativeErrorprototypemessage,  Prev: 151178 NativeErrorprototypeconstructor,  Up: Top

608 15.11.7.9 (#sec-15.11.7.9) NativeError.prototype.name
*********************************************************

The initial value of the `name' property of the prototype for a given
NativeError constructor is the name of the constructor (the name used
instead of NativeError).


File: javascript_ecma_262_5th_ed.info,  Node: 1511710 NativeErrorprototypemessage,  Next: 1511711 Properties of NativeError Instances,  Prev: 151179 NativeErrorprototypename,  Up: Top

609 15.11.7.10 (#sec-15.11.7.10) NativeError.prototype.message
**************************************************************

The initial value of the `message' property of the prototype for a
given NativeError constructor is the empty String.

   NOTE The prototypes for the NativeError constructors do not
themselves provide a toString function, but instances of errors will
inherit it from the Error prototype object.


File: javascript_ecma_262_5th_ed.info,  Node: 1511711 Properties of NativeError Instances,  Next: 1512 The JSON Object,  Prev: 1511710 NativeErrorprototypemessage,  Up: Top

610 15.11.7.11 (#sec-15.11.7.11) Properties of NativeError Instances
********************************************************************

NativeError instances inherit properties from their NativeError
prototype object and their [[Class]] internal property value is
"Error". NativeError instances have no special properties.


File: javascript_ecma_262_5th_ed.info,  Node: 1512 The JSON Object,  Next: 15121 The JSON Grammar,  Prev: 1511711 Properties of NativeError Instances,  Up: Top

611 15.12 (#sec-15.12) The JSON Object
**************************************

The JSON object is a single object that contains two functions, parse
and stringify, that are used to parse and construct JSON texts. The
JSON Data Interchange Format is described in RFC 4627
<http://www.ietf.org/rfc/rfc4627.txt
(http://www.ietf.org/rfc/rfc4627.txt)>. The JSON interchange format
used in this specification is exactly that described by RFC 4627 with
two exceptions:

   * The top level JSONText production of the ECMAScript JSON grammar
     may consist of any JSONValue rather than being restricted to being
     a JSONObject or a JSONArray as specified by RFC 4627.

   * Conforming implementations of JSON.parse and JSON.stringify must
     support the exact interchange format described in this
     specification without any deletions or extensions to the format.
     This differs from RFC 4627 which permits a JSON parser to accept
     non-JSON forms and extensions.

   The value of the [[Prototype]] internal property of the JSON object
is the standard built-in Object prototype object (15.2.4
(#sec-15.2.4)). The value of the [[Class]] internal property of the
JSON object is "JSON". The value of the [[Extensible]] internal
property of the JSON object is set to true.

   The JSON object does not have a [[Construct]] internal property; it
is not possible to use the JSON object as a constructor with the `new'
operator.

   The JSON object does not have a [[Call]] internal property; it is
not possible to invoke the JSON object as a function.


File: javascript_ecma_262_5th_ed.info,  Node: 15121 The JSON Grammar,  Next: 151211 The JSON Lexical Grammar,  Prev: 1512 The JSON Object,  Up: Top

612 15.12.1 (#sec-15.12.1) The JSON Grammar
*******************************************

JSON.stringify produces a String that conforms to the following JSON
grammar. JSON.parse accepts a String that conforms to the JSON grammar.


File: javascript_ecma_262_5th_ed.info,  Node: 151211 The JSON Lexical Grammar,  Next: 151212 The JSON Syntactic Grammar,  Prev: 15121 The JSON Grammar,  Up: Top

613 15.12.1.1 (#sec-15.12.1.1) The JSON Lexical Grammar
*******************************************************

JSON is similar to ECMAScript source text in that it consists of a
sequence of characters conforming to the rules of SourceCharacter. The
JSON Lexical Grammar defines the tokens that make up a JSON text
similar to the manner that the ECMAScript lexical grammar defines the
tokens of an ECMAScript source test. The JSON Lexical grammar only
recognizes the white space character specified by the production
JSONWhiteSpace. The JSON lexical grammar shares some productions with
the ECMAScript lexical grammar. All nonterminal symbols of the grammar
that do not begin with the characters ‚ÄúJSON‚Äù are defined by
productions of the ECMAScript lexical grammar.

* Menu:

* Syntax::


File: javascript_ecma_262_5th_ed.info,  Node: Syntax,  Up: 151211 The JSON Lexical Grammar

613.1 Syntax
============

JSONWhiteSpace :: <TAB> <CR> <LF> <SP> JSONString :: `"'
JSONStringCharacters_opt_ `"' JSONStringCharacters ::
JSONStringCharacter JSONStringCharacters_opt_ JSONStringCharacter ::
SourceCharacter but not double-quote `"' or backslash `\' or U+0000
thru U+001F `\' JSONEscapeSequence JSONEscapeSequence ::
JSONEscapeCharacter UnicodeEscapeSequence JSONEscapeCharacter :: one of
`"' `/' `\' `b' `f' `n' `r' `t' JSONNumber :: `-'_opt_
DecimalIntegerLiteral JSONFraction_opt_ ExponentPart_opt_ JSONFraction
:: `.' DecimalDigits JSONNullLiteral :: NullLiteral JSONBooleanLiteral
:: BooleanLiteral


File: javascript_ecma_262_5th_ed.info,  Node: 151212 The JSON Syntactic Grammar,  Next: 15122 parse text [ reviver ],  Prev: 151211 The JSON Lexical Grammar,  Up: Top

614 15.12.1.2 (#sec-15.12.1.2) The JSON Syntactic Grammar
*********************************************************

The JSON Syntactic Grammar defines a valid JSON text in terms of tokens
defined by the JSON lexical grammar. The goal symbol of the grammar is
JSONText.

* Menu:

* Syntax::


File: javascript_ecma_262_5th_ed.info,  Node: Syntax,  Up: 151212 The JSON Syntactic Grammar

614.1 Syntax
============

JSONText : JSONValue JSONValue : JSONNullLiteral JSONBooleanLiteral
JSONObject JSONArray JSONString JSONNumber JSONObject : `{' `}' `{'
JSONMemberList `}' JSONMember : JSONString `:' JSONValue JSONMemberList
: JSONMember JSONMemberList `,' JSONMember JSONArray : `[' `]' `['
JSONElementList `]' JSONElementList : JSONValue JSONElementList `,'
JSONValue


File: javascript_ecma_262_5th_ed.info,  Node: 15122 parse text [ reviver ],  Next: 15123 stringify value [ replacer [ space ] ],  Prev: 151212 The JSON Syntactic Grammar,  Up: Top

615 15.12.2 (#sec-15.12.2) parse ( text [ , reviver ] )
*******************************************************

The parse function parses a JSON text (a JSON-formatted String) and
produces an ECMAScript value. The JSON format is a restricted form of
ECMAScript literal. JSON objects are realized as ECMAScript objects.
JSON arrays are realized as ECMAScript arrays. JSON strings, numbers,
booleans, and null are realized as ECMAScript Strings, Numbers,
Booleans, and null. JSON uses a more limited set of white space
characters than WhiteSpace and allows Unicode code points U+2028 and
U+2029 to directly appear in JSONString literals without using an
escape sequence. The process of parsing is similar to 11.1.4
(#sec-11.1.4) and 11.1.5 (#sec-11.1.5) as constrained by the JSON
grammar.

   The optional reviver parameter is a function that takes two
parameters, (key and value). It can filter and transform the results.
It is called with each of the key/value pairs produced by the parse,
and its return value is used instead of the original value. If it
returns what it received, the structure is not modified. If it returns
undefined then the property is deleted from the result.

  1. Let JText be ToString (#sec-9.8)(text).

  2. Parse JText using the grammars in 15.12.1 (#sec-15.12.1). Throw a
     SyntaxError exception if JText did not conform to the JSON grammar
     for the goal symbol JSONText.

  3. Let unfiltered be the result of parsing and evaluating JText as if
     it was the source text of an ECMAScript Program but using
     JSONString in place of StringLiteral. Note that since JText
     conforms to the JSON grammar this result will be either a
     primitive value or an object that is defined by either an
     ArrayLiteral or an ObjectLiteral.

  4. If IsCallable (#sec-9.11)(reviver) is true, then
       1. Let root be a new object created as if by the expression `new
          Object()', where `Object' is the standard built-in
          constructor with that name.

       2. Call the [[DefineOwnProperty]] internal method of root with
          the empty String, the PropertyDescriptor {[[Value]]:
          unfiltered, [[Writable]]: true, [[Enumerable]]: true,
          [[Configurable]]: true}, and false as arguments.

       3. Return the result of calling the abstract operation Walk,
          passing root and the empty String. The abstract operation
          Walk is described below.

  5. Else
       1. Return unfiltered.


   The abstract operation Walk is a recursive abstract operation that
takes two parameters: a holder object and the String name of a property
in that object. Walk uses the value of reviver that was originally
passed to the above parse function.

  1. Let val be the result of calling the [[Get]] internal method of
     holder with argument name.

  2. If val is an object, then
       1. If the [[Class]] internal property of val is "Array"
            1. Set I to 0.

            2. Let len be the result of calling the [[Get]] internal
               method of val with argument "length".

            3. Repeat while I < len,
                 1. Let newElement be the result of calling the
                    abstract operation Walk, passing val and ToString
                    (#sec-9.8)(I).

                 2. If newElement is undefined, then
                      1. Call the [[Delete]] internal method of val
                         with ToString (#sec-9.8)(I) and false as
                         arguments.

                 3. Else
                      1. Call the [[DefineOwnProperty]] internal method
                         of val with arguments ToString (#sec-9.8)(I),
                         the Property Descriptor (#sec-8.10)
                         {[[Value]]: newElement, [[Writable]]: true,
                         [[Enumerable]]: true, [[Configurable]]: true},
                         and false.

                 4. Add 1 to I.


       2. Else
            1. Let keys be an internal List (#sec-8.8) of String values
               consisting of the names of all the own properties of val
               whose [[Enumerable]] attribute is true. The ordering of
               the Strings should be the same as that used by the
               Object.keys standard built-in function.

            2. For each String P in keys do,
                 1. Let newElement be the result of calling the
                    abstract operation Walk, passing val and P.

                 2. If newElement is undefined, then
                      1. Call the [[Delete]] internal method of val
                         with P and false as arguments.

                 3. Else
                      1. Call the [[DefineOwnProperty]] internal method
                         of val with arguments P, the Property
                         Descriptor (#sec-8.10) {[[Value]]: newElement,
                         [[Writable]]: true, [[Enumerable]]: true,
                         [[Configurable]]: true}, and false.




  3. Return the result of calling the [[Call]] internal method of
     reviver passing holder as the this value and with an argument list
     consisting of name and val.

   It is not permitted for a conforming implementation of JSON.parse to
extend the JSON grammars. If an implementation wishes to support a
modified or extended JSON interchange format it must do so by defining
a different parse function.

   NOTE In the case where there are duplicate name Strings within an
object, lexically preceding values for the same key shall be
overwritten.


File: javascript_ecma_262_5th_ed.info,  Node: 15123 stringify value [ replacer [ space ] ],  Next: 16 Errors,  Prev: 15122 parse text [ reviver ],  Up: Top

616 15.12.3 (#sec-15.12.3) stringify ( value [ , replacer [ , space ] ] )
*************************************************************************

The stringify function returns a String in JSON format representing an
ECMAScript value. It can take three parameters. The first parameter is
required. The value parameter is an ECMAScript value, which is usually
an object or array, although it can also be a String, Boolean, Number
or null. The optional replacer parameter is either a function that
alters the way objects and arrays are stringified, or an array of
Strings and Numbers that acts as a white list for selecting the object
properties that will be stringified. The optional space parameter is a
String or Number that allows the result to have white space injected
into it to improve human readability.

  1. Let stack be an empty List (#sec-8.8).

  2. Let indent be the empty String.

  3. Let PropertyList and ReplacerFunction be undefined.

  4. If Type (#def-type)(replacer) is Object, then
       1. If IsCallable (#sec-9.11)(replacer) is true, then
            1. Let ReplacerFunction be replacer.

       2. Else if the [[Class]] internal property of replacer is
          "Array", then
            1. Let PropertyList be an empty internal List (#sec-8.8)

            2. For each value v of a property of replacer that has an
               array index property name. The properties are enumerated
               in the ascending array index order of their names.
                 1. Let item be undefined.

                 2. If Type (#def-type)(v) is String then let item be v.

                 3. Else if Type (#def-type)(v) is Number then let item
                    be ToString (#sec-9.8)(v).

                 4. Else if Type (#def-type)(v) is Object then,
                      1. If the [[Class]] internal property of v is
                         "String" or "Number" then let item be ToString
                         (#sec-9.8)(v).

                 5. If item is not undefined and item is not currently
                    an element of PropertyList then,
                      1. Append item to the end of PropertyList.




  5. If Type (#def-type)(space) is Object then,
       1. If the [[Class]] internal property of space is "Number" then,
            1. Let space be ToNumber (#sec-9.3)(space).

       2. Else if the [[Class]] internal property of space is "String"
          then,
            1. Let space be ToString (#sec-9.8)(space).


  6. If Type (#def-type)(space) is Number
       1. Let space be min(10, ToInteger (#sec-9.4)(space)).

       2. Set gap to a String containing space space characters. This
          will be the empty String if space is less than 1.

  7. Else if Type (#def-type)(space) is String
       1. If the number of characters in space is 10 or less, set gap
          to space otherwise set gap to a String consisting of the
          first 10 characters of space.

  8. Else
       1. Set gap to the empty String.

  9. Let wrapper be a new object created as if by the expression `new
     Object()', where `Object' is the standard built-in constructor
     with that name.

 10. Call the [[DefineOwnProperty]] internal method of wrapper with
     arguments the empty String, the Property Descriptor (#sec-8.10)
     {[[Value]]: value, [[Writable]]: true, [[Enumerable]]: true,
     [[Configurable]]: true}, and false.

 11. Return the result of calling the abstract operation Str with the
     empty String and wrapper.

   The abstract operation Str(key, holder) has access to
ReplacerFunction from the invocation of the stringify method. Its
algorithm is as follows:

  1. Let value be the result of calling the [[Get]] internal method of
     holder with argument key.

  2. If Type (#def-type)(value) is Object, then
       1. Let toJSON be the result of calling the [[Get]] internal
          method of value with argument "toJSON".

       2. If IsCallable (#sec-9.11)(toJSON) is true
            1. Let value be the result of calling the [[Call]] internal
               method of toJSON passing value as the this value and
               with an argument list consisting of key.


  3. If ReplacerFunction is not undefined, then
       1. Let value be the result of calling the [[Call]] internal
          method of ReplacerFunction passing holder as the this value
          and with an argument list consisting of key and value.

  4. If Type (#def-type)(value) is Object then,
       1. If the [[Class]] internal property of value is "Number" then,
            1. Let value be ToNumber (#sec-9.3)(value).

       2. Else if the [[Class]] internal property of value is "String"
          then,
            1. Let value be ToString (#sec-9.8)(value).

       3. Else if the [[Class]] internal property of value is "Boolean"
          then,
            1. Let value be the value of the [[PrimitiveValue]]
               internal property of value.


  5. If value is null then return "null".

  6. If value is true then return "true".

  7. If value is false then return "false".

  8. If Type (#def-type)(value) is String, then return the result of
     calling the abstract operation Quote with argument value.

  9. If Type (#def-type)(value) is Number
       1. If value is finite then return ToString (#sec-9.8)(value).

       2. Else, return "null".

 10. If Type (#def-type)(value) is Object, and IsCallable
     (#sec-9.11)(value) is false
       1. If the [[Class]] internal property of value is "Array" then
            1. Return the result of calling the abstract operation JA
               with argument value.

       2. Else, return the result of calling the abstract operation JO
          with argument value.

 11. Return undefined.

   The abstract operation Quote(value) wraps a String value in double
quotes and escapes characters within it.

  1. Let product be the double quote character.

  2. For each character C in value
       1. If C is the double quote character or the backslash character
            1. Let product be the concatenation of product and the
               backslash character.

            2. Let product be the concatenation of product and C.

       2. Else if C is backspace, formfeed, newline, carriage return,
          or tab
            1. Let product be the concatenation of product and the
               backslash character.

            2. Let abbrev be the character corresponding to the value
               of C as follows: backspace "b" formfeed "f" newline "n"
               carriage return "r" tab "t"

            3. Let product be the concatenation of product and abbrev.

       3. Else if C is a control character having a code unit value
          less than the space character
            1. Let product be the concatenation of product and the
               backslash character.

            2. Let product be the concatenation of product and "u".

            3. Let hex be the result of converting the numeric code
               unit value of C to a String of four hexadecimal digits.

            4. Let product be the concatenation of product and hex.

       4. Else
            1. Let product be the concatenation of product and C.


  3. Let product be the concatenation of product and the double quote
     character.

  4. Return product.

   The abstract operation JO(value) serializes an object. It has access
to the stack, indent, gap, PropertyList, ReplacerFunction, and space of
the invocation of the stringify method.

  1. If stack contains value then throw a TypeError exception because
     the structure is cyclical.

  2. Append value to stack.

  3. Let stepback be indent.

  4. Let indent be the concatenation of indent and gap.

  5. If PropertyList is not undefined, then
       1. Let K be PropertyList.

  6. Else
       1. Let K be an internal List (#sec-8.8) of Strings consisting of
          the names of all the own properties of value whose
          [[Enumerable]] attribute is true. The ordering of the Strings
          should be the same as that used by the Object.keys standard
          built-in function.

  7. Let partial be an empty List (#sec-8.8).

  8. For each element P of K.
       1. Let strP be the result of calling the abstract operation Str
          with arguments P and value.

       2. If strP is not undefined
            1. Let member be the result of calling the abstract
               operation Quote with argument P.

            2. Let member be the concatenation of member and the colon
               character.

            3. If gap is not the empty String
                 1.
            4. Let member be the concatenation of member and strP.

            5. Append member to partial.


  9. If partial is empty, then
       1. Let final be "{}".

 10. Else
       1. If gap is the empty String
            1. Let properties be a String formed by concatenating all
               the element Strings of partial with each adjacent pair
               of Strings separated with the comma character. A comma
               is not inserted either before the first String or after
               the last String.

            2. Let final be the result of concatenating "{",
               properties, and "}".

       2. Else gap is not the empty String
            1. Let separator be the result of concatenating the comma
               character, the line feed character, and indent.

            2. Let properties be a String formed by concatenating all
               the element Strings of partial with each adjacent pair
               of Strings separated with separator. The separator
               String is not inserted either before the first String or
               after the last String.

            3. Let final be the result of concatenating "{", the line
               feed character, indent, properties, the line feed
               character, stepback, and "}".


 11. Remove the last element of stack.

 12. Let indent be stepback.

 13. Return final.

   The abstract operation JA(value) serializes an array. It has access
to the stack, indent, gap, and space of the invocation of the stringify
method. The representation of arrays includes only the elements between
zero and `<var>array</var>.length - 1' inclusive. Named properties are
excluded from the stringification. An array is stringified as an open
left bracket, elements separated by comma, and a closing right bracket.

  1. If stack contains value then throw a TypeError exception because
     the structure is cyclical.

  2. Append value to stack.

  3. Let stepback be indent.

  4. Let indent be the concatenation of indent and gap.

  5. Let partial be an empty List (#sec-8.8).

  6. Let len be the result of calling the [[Get]] internal method of
     value with argument "length".

  7. Let index be 0.

  8. Repeat while index < len
       1. Let strP be the result of calling the abstract operation Str
          with arguments ToString (#sec-9.8)(index) and value.

       2. If strP is undefined
            1. Append "null" to partial.

       3. Else
            1. Append strP to partial.

       4. Increment index by 1.

  9. If partial is empty ,then
       1. Let final be "[]".

 10. Else
       1. If gap is the empty String
            1. Let properties be a String formed by concatenating all
               the element Strings of partial with each adjacent pair
               of Strings separated with the comma character. A comma
               is not inserted either before the first String or after
               the last String.

            2. Let final be the result of concatenating "[",
               properties, and "]".

       2. Else
            1. Let separator be the result of concatenating the comma
               character, the line feed character, and indent.

            2. Let properties be a String formed by concatenating all
               the element Strings of partial with each adjacent pair
               of Strings separated with separator. The separator
               String is not inserted either before the first String or
               after the last String.

            3. Let final be the result of concatenating "[", the line
               feed character, indent, properties, the line feed
               character, stepback, and "[".


 11. Remove the last element of stack.

 12. 13. Return final.

   NOTE 1 JSON structures are allowed to be nested to any depth, but
they must be acyclic. If value is or contains a cyclic structure, then
the stringify function must throw a TypeError exception. This is an
example of a value that cannot be stringified:

a = [];
a[0] = a;
my_text = JSON.stringify(a); // This must throw an TypeError.

   NOTE 2 Symbolic primitive values are rendered as follows:

   * The null value is rendered in JSON text as the String null.

   * The undefined value is not rendered.

   * The true value is rendered in JSON text as the String true.

   * The false value is rendered in JSON text as the String false.

   NOTE 3 String values are wrapped in double quotes. The characters
`"' and `\' are escaped with `\' prefixes. Control characters are
replaced with escape sequences `\u<var>HHHH</var>', or with the shorter
forms, `\b' (backspace), `\f' (formfeed), `\n' (newline), `\r'
(carriage return), `\t' (tab).

   NOTE 4 Finite numbers are stringified as if by calling ToString
(#sec-9.8)(number). NaN and Infinity regardless of sign are represented
as the String null.

   NOTE 5 Values that do not have a JSON representation (such as
undefined and functions) do not produce a String. Instead they produce
the undefined value. In arrays these values are represented as the
String null. In objects an unrepresentable value causes the property to
be excluded from stringification.

   NOTE 6 An object is rendered as an opening left brace followed by
zero or more properties, separated with commas, closed with a right
brace. A property is a quoted String representing the key or property
name, a colon, and then the stringified property value. An array is
rendered as an opening left bracket followed by zero or more values,
separated with commas, closed with a right bracket.


File: javascript_ecma_262_5th_ed.info,  Node: 16 Errors,  Next: Annex A informative Grammar Summary,  Prev: 15123 stringify value [ replacer [ space ] ],  Up: Top

617 16 (#sec-16) Errors
***********************

An implementation must report most errors at the time the relevant
ECMAScript language construct is evaluated. An early error is an error
that can be detected and reported prior to the evaluation of any
construct in the Program containing the error. An implementation must
report early errors in a Program prior to the first evaluation of that
Program. Early errors in eval (#def-eval-code) code are reported at the
time eval is called but prior to evaluation of any construct within the
eval code. All errors that are not early errors are runtime errors.

   An implementation must treat any instance of the following kinds of
errors as an early error:

   * Any syntax error.

   * Attempts to define an ObjectLiteral that has multiple `get'
     property assignments with the same name or multiple `set' property
     assignments with the same name.

   * Attempts to define an ObjectLiteral that has both a data property
     assignment and a `get' or `set' property assignment with the same
     name.

   * Errors in regular expression literals that are not
     implementation-defined syntax extensions.

   * Attempts in strict mode code (#sec-10.1.1) to define an
     ObjectLiteral that has multiple data property assignments with the
     same name.

   * The occurrence of a WithStatement in strict mode code
     (#sec-10.1.1).

   * The occurrence of an Identifier value appearing more than once
     within a FormalParameterList of an individual strict mode
     FunctionDeclaration or FunctionExpression.

   * Improper uses of `return', `break', and `continue'.

   * Attempts to call PutValue (#sec-8.7.2) on any value for which an
     early determination can be made that the value is not a Reference
     (#sec-8.7) (for example, executing the assignment statement `3=4').

   An implementation shall report all errors as specified, except for
the following:

   * An implementation may extend program syntax and regular expression
     pattern or flag syntax. To permit this, all operations (such as
     calling eval, using a regular expression literal, or using the
     Function or RegExp constructor) that are allowed to throw
     SyntaxError are permitted to exhibit implementation-defined
     behaviour instead of throwing SyntaxError when they encounter an
     implementation-defined extension to the program syntax or regular
     expression pattern or flag syntax.

   * An implementation may provide additional types, values, objects,
     properties, and functions beyond those described in this
     specification. This may cause constructs (such as looking up a
     variable in the global scope) to have implementation-defined
     behaviour instead of throwing an error (such as ReferenceError).

   * An implementation may define behaviour other than throwing
     RangeError for toFixed, toExponential, and toPrecision when the
     fractionDigits or precision argument is outside the specified
     range.



File: javascript_ecma_262_5th_ed.info,  Node: Annex A informative Grammar Summary,  Next: A1 Lexical Grammar,  Prev: 16 Errors,  Up: Top

618 Annex A (informative) Grammar Summary
*****************************************


File: javascript_ecma_262_5th_ed.info,  Node: A1 Lexical Grammar,  Next: A2 Number Conversions,  Prev: Annex A informative Grammar Summary,  Up: Top

619 A.1 (#sec-A.1) Lexical Grammar
**********************************

See clause 6 (#sec-6) SourceCharacter :: any Unicode code unit See
clause 7 (#sec-7) InputElementDiv :: WhiteSpace LineTerminator Comment
Token DivPunctuator See clause 7 (#sec-7) InputElementRegExp ::
WhiteSpace LineTerminator Comment Token RegularExpressionLiteral See
7.2 (#sec-7.2) WhiteSpace :: <TAB> <VT> <FF> <SP> <NBSP> <BOM> <USP>
See 7.3 (#sec-7.3) LineTerminator :: <LF> <CR> <LS> <PS> See 7.3
(#sec-7.3) LineTerminatorSequence :: <LF> <CR> [lookahead ‚àâ
(#def-lookahead-notin) <LF>] <LS> <PS> <CR> <LF> See 7.4 (#sec-7.4)
Comment :: MultiLineComment SingleLineComment

   See 7.4 (#sec-7.4) MultiLineComment :: `/*'
MultiLineCommentChars_opt_ `*/' See 7.4 (#sec-7.4)
MultiLineCommentChars :: MultiLineNotAsteriskChar
MultiLineCommentChars_opt_ `*' PostAsteriskCommentChars_opt_ See 7.4
(#sec-7.4) PostAsteriskCommentChars ::
MultiLineNotForwardSlashOrAsteriskChar MultiLineCommentChars_opt_ `*'
PostAsteriskCommentChars_opt_ See 7.4 (#sec-7.4)
MultiLineNotAsteriskChar :: SourceCharacter but not asterisk `*' See
7.4 (#sec-7.4) MultiLineNotForwardSlashOrAsteriskChar ::
SourceCharacter but not forward-slash `/' or asterisk `*' See 7.4
(#sec-7.4) SingleLineComment :: `//' SingleLineCommentChars_opt_ See
7.4 (#sec-7.4) SingleLineCommentChars :: SingleLineCommentChar
SingleLineCommentChars_opt_ See 7.4 (#sec-7.4) SingleLineCommentChar ::
SourceCharacter but not LineTerminator See 7.5 (#sec-7.5) Token ::
IdentifierName Punctuator NumericLiteral StringLiteral See 7.6
(#sec-7.6) Identifier :: IdentifierName but not ReservedWord See 7.6
(#sec-7.6) IdentifierName :: IdentifierStart IdentifierName
IdentifierPart See 7.6 (#sec-7.6) IdentifierStart :: UnicodeLetter `$'
`_' `\' UnicodeEscapeSequence

   See 7.6 (#sec-7.6) IdentifierPart :: IdentifierStart
UnicodeCombiningMark UnicodeDigit UnicodeConnectorPunctuation <ZWNJ>
<ZWJ> See 7.6 (#sec-7.6) UnicodeLetter :: any character in the Unicode
categories ‚ÄúUppercase letter (Lu)‚Äù, ‚ÄúLowercase letter (Ll)‚Äù,
‚ÄúTitlecase letter (Lt)‚Äù, ‚ÄúModifier letter (Lm)‚Äù, ‚ÄúOther
letter (Lo)‚Äù, or ‚ÄúLetter number (Nl)‚Äù.  See 7.6 (#sec-7.6)
UnicodeCombiningMark :: any character in the Unicode categories
‚ÄúNon-spacing mark (Mn)‚Äù or ‚ÄúCombining spacing mark (Mc)‚Äù See
7.6 (#sec-7.6) UnicodeDigit :: any character in the Unicode category
‚ÄúDecimal number (Nd)‚Äù See 7.6 (#sec-7.6)
UnicodeConnectorPunctuation :: any character in the Unicode category
‚ÄúConnector punctuation (Pc)‚Äù See 7.6.1 (#sec-7.6.1) ReservedWord ::
Keyword FutureReservedWord NullLiteral BooleanLiteral See 7.6.1.1
(#sec-7.6.1.1) Keyword :: one of `break' `do' `instanceof' `typeof'
`case' `else' `new' `var' `catch' `finally' `return' `void' `continue'
`for' `switch' `while' `debugger' `function' `this' `with' `default'
`if' `throw' ` ' `delete' `in' `try' See 7.6.1.2 (#sec-7.6.1.2)
FutureReservedWord :: one of `class' `enum' `extends' `super' `const'
`export' `import' or in strict mode code one of `implements' `let'
`private' `public' `interface' `package' `protected' `static' `yield'

   See 7.7 (#sec-7.7) Punctuator :: one of `{' `}' `(' `)' `[' `]' `.'
`;' `,' `<' `>' `<=' `>=' `==' `!=' `===' `!==' `+' `-' `*' `%' `++'
`--' `<<' `>>' `>>>' `&' `|' `^' `!' `~' `&&' `||' `?' `:' `=' `+='
`-=' `*=' `%=' `<<=' `>>=' `>>>=' `&=' `|=' `^=' See 7.7 (#sec-7.7)
DivPunctuator :: one of `/' `/=' See 7.8 (#sec-7.8) Literal ::
NullLiteral BooleanLiteral NumericLiteral StringLiteral
RegularExpressionLiteral See 7.8.1 (#sec-7.8.1) NullLiteral :: `null'
See 7.8.2 (#sec-7.8.2) BooleanLiteral :: `true' `false' See 7.8.3
(#sec-7.8.3) NumericLiteral :: DecimalLiteral HexIntegerLiteral See
7.8.3 (#sec-7.8.3) DecimalLiteral :: DecimalIntegerLiteral `.'
DecimalDigits_opt_ ExponentPart_opt_ `.' DecimalDigits ExponentPart_opt_
DecimalIntegerLiteral ExponentPart_opt_ See 7.8.3 (#sec-7.8.3)
DecimalIntegerLiteral :: `0' NonZeroDigit DecimalDigits_opt_ See 7.8.3
(#sec-7.8.3) DecimalDigits :: DecimalDigit DecimalDigits DecimalDigit
See 7.8.3 (#sec-7.8.3) DecimalDigit :: one of `0  1  2  3  4  5  6  7
8  9' See 7.8.3 (#sec-7.8.3) NonZeroDigit :: one of `1  2  3  4  5  6
7  8  9' See 7.8.3 (#sec-7.8.3) ExponentPart :: ExponentIndicator
SignedInteger

   See 7.8.3 (#sec-7.8.3) ExponentIndicator :: one of `e  E' See 7.8.3
(#sec-7.8.3) SignedInteger :: DecimalDigits `+' DecimalDigits `-'
DecimalDigits See 7.8.3 (#sec-7.8.3) HexIntegerLiteral :: `0x' HexDigit
`0X' HexDigit HexIntegerLiteral HexDigit See 7.8.3 (#sec-7.8.3)
HexDigit :: one of `0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F' See
7.8.4 (#sec-7.8.4) StringLiteral :: `"' DoubleStringCharacters_opt_ `"'
`'' SingleStringCharacters_opt_ `'' See 7.8.4 (#sec-7.8.4)
DoubleStringCharacters :: DoubleStringCharacter
DoubleStringCharacters_opt_ See 7.8.4 (#sec-7.8.4)
SingleStringCharacters :: SingleStringCharacter
SingleStringCharacters_opt_ See 7.8.4 (#sec-7.8.4)
DoubleStringCharacter :: SourceCharacter but not double-quote `"' or
backslash `\' or LineTerminator `\' EscapeSequence LineContinuation See
7.8.4 (#sec-7.8.4) SingleStringCharacter :: SourceCharacter but not
single-quote `?' or backslash `\' or LineTerminator `\' EscapeSequence
LineContinuation See 7.8.4 (#sec-7.8.4) LineContinuation :: `\'
LineTerminatorSequence See 7.8.4 (#sec-7.8.4) EscapeSequence ::
CharacterEscapeSequence `0' [lookahead ‚àâ (#def-lookahead-notin)
DecimalDigit] HexEscapeSequence UnicodeEscapeSequence See 7.8.4
(#sec-7.8.4) CharacterEscapeSequence :: SingleEscapeCharacter
NonEscapeCharacter See 7.8.4 (#sec-7.8.4) SingleEscapeCharacter :: one
of `?  "  \  b  f  n  r  t  v' See 7.8.4 (#sec-7.8.4)
NonEscapeCharacter :: SourceCharacter but not EscapeCharacter or
LineTerminator

   See 7.8.4 (#sec-7.8.4) EscapeCharacter :: SingleEscapeCharacter
DecimalDigit `x' `u' See 7.8.4 (#sec-7.8.4) HexEscapeSequence :: `x'
HexDigit HexDigit See 7.8.4 (#sec-7.8.4) UnicodeEscapeSequence :: `u'
HexDigit HexDigit HexDigit HexDigit See 7.8.5 (#sec-7.8.5)
RegularExpressionLiteral :: `/' RegularExpressionBody `/'
RegularExpressionFlags See 7.8.5 (#sec-7.8.5) RegularExpressionBody ::
RegularExpressionFirstChar RegularExpressionChars See 7.8.5 (#sec-7.8.5)
RegularExpressionChars :: [empty] RegularExpressionChars
RegularExpressionChar See 7.8.5 (#sec-7.8.5) RegularExpressionFirstChar
:: RegularExpressionNonTerminator but not `*' or `\' or `/' or `['
RegularExpressionBackslashSequence RegularExpressionClass See 7.8.5
(#sec-7.8.5) RegularExpressionChar :: RegularExpressionNonTerminator
but not `\' or `/' or `[' RegularExpressionBackslashSequence
RegularExpressionClass See 7.8.5 (#sec-7.8.5)
RegularExpressionBackslashSequence :: `\' RegularExpressionNonTerminator
See 7.8.5 (#sec-7.8.5) RegularExpressionNonTerminator ::
SourceCharacter but not LineTerminator See 7.8.5 (#sec-7.8.5)
RegularExpressionClass :: `[' RegularExpressionClassChars `]' See 7.8.5
(#sec-7.8.5) RegularExpressionClassChars :: [empty]
RegularExpressionClassChars RegularExpressionClassChar See 7.8.5
(#sec-7.8.5) RegularExpressionClassChar ::
RegularExpressionNonTerminator but not `]' or `\'
RegularExpressionBackslashSequence

   See 7.8.5 (#sec-7.8.5) RegularExpressionFlags :: [empty]
RegularExpressionFlags IdentifierPart


File: javascript_ecma_262_5th_ed.info,  Node: A2 Number Conversions,  Next: A3 Expressions,  Prev: A1 Lexical Grammar,  Up: Top

620 A.2 (#sec-A.2) Number Conversions
*************************************

See 9.3.1 (#sec-9.3.1) StringNumericLiteral ::: StrWhiteSpace_opt_
StrWhiteSpace_opt_ StrNumericLiteral StrWhiteSpace_opt_ See 9.3.1
(#sec-9.3.1) StrWhiteSpace ::: StrWhiteSpaceChar StrWhiteSpace_opt_ See
9.3.1 (#sec-9.3.1) StrWhiteSpaceChar ::: WhiteSpace LineTerminator See
9.3.1 (#sec-9.3.1) StrNumericLiteral ::: StrDecimalLiteral
HexIntegerLiteral See 9.3.1 (#sec-9.3.1) StrDecimalLiteral :::
StrUnsignedDecimalLiteral `+' StrUnsignedDecimalLiteral `-'
StrUnsignedDecimalLiteral See 9.3.1 (#sec-9.3.1)
StrUnsignedDecimalLiteral ::: `Infinity' DecimalDigits `.'
DecimalDigits_opt_ ExponentPart_opt_ `.' DecimalDigits ExponentPart_opt_
DecimalDigits ExponentPart_opt_ See 9.3.1 (#sec-9.3.1) DecimalDigits :::
DecimalDigit DecimalDigits DecimalDigit See 9.3.1 (#sec-9.3.1)
DecimalDigit ::: one of `0  1  2  3  4  5  6  7  8  9' See 9.3.1
(#sec-9.3.1) ExponentPart ::: ExponentIndicator SignedInteger See 9.3.1
(#sec-9.3.1) ExponentIndicator ::: one of `e  E' See 9.3.1 (#sec-9.3.1)
SignedInteger ::: DecimalDigits `+' DecimalDigits `-' DecimalDigits

   See 9.3.1 (#sec-9.3.1) HexIntegerLiteral ::: `0x' HexDigit `0X'
HexDigit HexIntegerLiteral HexDigit See 9.3.1 (#sec-9.3.1) HexDigit :::
one of `0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F'


File: javascript_ecma_262_5th_ed.info,  Node: A3 Expressions,  Next: A4 Statements,  Prev: A2 Number Conversions,  Up: Top

621 A.3 (#sec-A.3) Expressions
******************************

See 11.1 (#sec-11.1) PrimaryExpression : `this' Identifier Literal
ArrayLiteral ObjectLiteral `(' Expression `)' See 11.1.4 (#sec-11.1.4)
ArrayLiteral : `[' Elision_opt_ `]' `[' ElementList `]' `[' ElementList
`,' Elision_opt_ `]' See 11.1.4 (#sec-11.1.4) ElementList :
Elision_opt_ AssignmentExpression ElementList `,' Elision_opt_
AssignmentExpression See 11.1.4 (#sec-11.1.4) Elision : `,' Elision `,'
See 11.1.5 (#sec-11.1.5) ObjectLiteral : `{' `{' `{'
PropertyNameAndValueList `}' `{' PropertyNameAndValueList `,' `}' See
11.1.5 (#sec-11.1.5) PropertyNameAndValueList : PropertyAssignment
PropertyNameAndValueList `,' PropertyAssignment See 11.1.5 (#sec-11.1.5)
PropertyAssignment : PropertyName `:' AssignmentExpression `get'
PropertyName `(' `)' `{' FunctionBody `}' `set' PropertyName `('
PropertySetParameterList `)' `{' FunctionBody `}' See 11.1.5
(#sec-11.1.5) PropertyName : IdentifierName StringLiteral NumericLiteral
See 11.1.5 (#sec-11.1.5) PropertySetParameterList : Identifier

   See 11.2 (#sec-11.2) MemberExpression : PrimaryExpression
FunctionExpression MemberExpression `[' Expression `]' MemberExpression
`.' IdentifierName `new' MemberExpression Arguments See 11.2 (#sec-11.2)
NewExpression : MemberExpression `new' NewExpression See 11.2
(#sec-11.2) CallExpression : MemberExpression Arguments CallExpression
Arguments CallExpression `[' Expression `]' CallExpression `.'
IdentifierName See 11.2 (#sec-11.2) Arguments : `(' `)' `('
ArgumentList `)' See 11.2 (#sec-11.2) ArgumentList :
AssignmentExpression ArgumentList `,' AssignmentExpression See 11.2
(#sec-11.2) LeftHandSideExpression : NewExpression CallExpression See
11.3 (#sec-11.3) PostfixExpression : LeftHandSideExpression
LeftHandSideExpression [no LineTerminator here]
(#def-restricted-production) `++' LeftHandSideExpression [no
LineTerminator here] (#def-restricted-production) `--' See 11.4
(#sec-11.4) UnaryExpression : PostfixExpression `delete' UnaryExpression
`void' UnaryExpression `typeof' UnaryExpression `++' UnaryExpression
`--' UnaryExpression `+' UnaryExpression `-' UnaryExpression `~'
UnaryExpression `!' UnaryExpression See 11.5 (#sec-11.5)
MultiplicativeExpression : UnaryExpression MultiplicativeExpression `*'
UnaryExpression MultiplicativeExpression `/' UnaryExpression
MultiplicativeExpression `%' UnaryExpression

   See 11.6 (#sec-11.6) AdditiveExpression : MultiplicativeExpression
AdditiveExpression `+' MultiplicativeExpression AdditiveExpression `-'
MultiplicativeExpression See 11.7 (#sec-11.7) ShiftExpression :
AdditiveExpression ShiftExpression `<<' AdditiveExpression
ShiftExpression `>>' AdditiveExpression ShiftExpression `>>>'
AdditiveExpression See 11.8 (#sec-11.8) RelationalExpression :
ShiftExpression RelationalExpression `<' ShiftExpression
RelationalExpression `>' ShiftExpression RelationalExpression `<='
ShiftExpression RelationalExpression `>=' ShiftExpression
RelationalExpression `instanceof' ShiftExpression RelationalExpression
`in' ShiftExpression See 11.8 (#sec-11.8) RelationalExpressionNoIn :
ShiftExpression RelationalExpressionNoIn `<' ShiftExpression
RelationalExpressionNoIn `>' ShiftExpression RelationalExpressionNoIn
`<=' ShiftExpression RelationalExpressionNoIn `>=' ShiftExpression
RelationalExpressionNoIn `instanceof' ShiftExpression See 11.9
(#sec-11.9) EqualityExpression : RelationalExpression
EqualityExpression `==' RelationalExpression EqualityExpression `!='
RelationalExpression EqualityExpression `===' RelationalExpression
EqualityExpression `!==' RelationalExpression See 11.9 (#sec-11.9)
EqualityExpressionNoIn : RelationalExpressionNoIn
EqualityExpressionNoIn `==' RelationalExpressionNoIn
EqualityExpressionNoIn `!=' RelationalExpressionNoIn
EqualityExpressionNoIn `===' RelationalExpressionNoIn
EqualityExpressionNoIn `!==' RelationalExpressionNoIn See 11.10
(#sec-11.10) BitwiseANDExpression : EqualityExpression
BitwiseANDExpression `&' EqualityExpression See 11.10 (#sec-11.10)
BitwiseANDExpressionNoIn : EqualityExpressionNoIn
BitwiseANDExpressionNoIn `&' EqualityExpressionNoIn

   See 11.10 (#sec-11.10) BitwiseXORExpression : BitwiseANDExpression
BitwiseXORExpression `^' BitwiseANDExpression See 11.10 (#sec-11.10)
BitwiseXORExpressionNoIn : BitwiseANDExpressionNoIn
BitwiseXORExpressionNoIn `^' BitwiseANDExpressionNoIn See 11.10
(#sec-11.10) BitwiseORExpression : BitwiseXORExpression
BitwiseORExpression `|' BitwiseXORExpression See 11.10 (#sec-11.10)
BitwiseORExpressionNoIn : BitwiseXORExpressionNoIn
BitwiseORExpressionNoIn `|' BitwiseXORExpressionNoIn See 11.11
(#sec-11.11) LogicalANDExpression : BitwiseORExpression
LogicalANDExpression `&&' BitwiseORExpression See 11.11 (#sec-11.11)
LogicalANDExpressionNoIn : BitwiseORExpressionNoIn
LogicalANDExpressionNoIn `&&' BitwiseORExpressionNoIn See 11.11
(#sec-11.11) LogicalORExpression : LogicalANDExpression
LogicalORExpression `||' LogicalANDExpression See 11.11 (#sec-11.11)
LogicalORExpressionNoIn : LogicalANDExpressionNoIn
LogicalORExpressionNoIn `||' LogicalANDExpressionNoIn See 11.12
(#sec-11.12) ConditionalExpression : LogicalORExpression
LogicalORExpression `?' AssignmentExpression `:' AssignmentExpression
See 11.12 (#sec-11.12) ConditionalExpressionNoIn :
LogicalORExpressionNoIn LogicalORExpressionNoIn `?'
AssignmentExpressionNoIn `:' AssignmentExpressionNoIn See 11.13
(#sec-11.13) AssignmentExpression : ConditionalExpression
LeftHandSideExpression AssignmentOperator AssignmentExpression See
11.13 (#sec-11.13) AssignmentExpressionNoIn : ConditionalExpressionNoIn
LeftHandSideExpression AssignmentOperator AssignmentExpressionNoIn See
11.13 (#sec-11.13) AssignmentOperator : one of `=    *=   /=   %=   +=
-=   <<=  >>=  >>>= &=   ^=    |='

   See 11.14 (#sec-11.14) Expression : AssignmentExpression Expression
`,' AssignmentExpression See 11.14 (#sec-11.14) ExpressionNoIn :
AssignmentExpressionNoIn ExpressionNoIn `,' AssignmentExpressionNoIn


File: javascript_ecma_262_5th_ed.info,  Node: A4 Statements,  Next: A5 Functions and Programs,  Prev: A3 Expressions,  Up: Top

622 A.4 (#sec-A.4) Statements
*****************************

See clause 12 (#sec-12) Statement : Block VariableStatement
EmptyStatement ExpressionStatement IfStatement IterationStatement
ContinueStatement BreakStatement ReturnStatement WithStatement
LabelledStatement SwitchStatement ThrowStatement TryStatement
DebuggerStatement See 12.1 (#sec-12.1) Block : `{' StatementList_opt_
`}' See 12.1 (#sec-12.1) StatementList : Statement StatementList
Statement See 12.2 (#sec-12.2) VariableStatement : `var'
VariableDeclarationList `;' See 12.2 (#sec-12.2)
VariableDeclarationList : VariableDeclaration VariableDeclarationList
`,' VariableDeclaration See 12.2 (#sec-12.2)
VariableDeclarationListNoIn : VariableDeclarationNoIn
VariableDeclarationListNoIn `,' VariableDeclarationNoIn See 12.2
(#sec-12.2) VariableDeclaration : Identifier Initialiser_opt_ See 12.2
(#sec-12.2) VariableDeclarationNoIn : Identifier InitialiserNoIn_opt_

   See 12.2 (#sec-12.2) Initialiser : `=' AssignmentExpression See 12.2
(#sec-12.2) InitialiserNoIn : `=' AssignmentExpressionNoIn See 12.3
(#sec-12.3) EmptyStatement : `;' See 12.4 (#sec-12.4)
ExpressionStatement : [lookahead ‚àâ (#def-lookahead-notin) {`{',
`function'}] Expression `;' See 12.5 (#sec-12.5) IfStatement : `if' `('
Expression `)' Statement `else' Statement `if' `(' Expression `)'
Statement See 12.6 (#sec-12.6) IterationStatement : `do' Statement
`while' `(' Expression `);' `while' `(' Expression `)' Statement `for'
`(' ExpressionNoIn_opt_ `;' Expression_opt_ `;' Expression_opt_ `)'
Statement `for' `(' `var' VariableDeclarationListNoIn `;'
Expression_opt_ `;' Expression_opt_ `)' Statement `for' `('
LeftHandSideExpression `in' Expression `)' Statement `for' `(' `var'
VariableDeclarationNoIn `in' Expression `)' Statement See 12.7
(#sec-12.7) ContinueStatement : `continue' [no LineTerminator here]
(#def-restricted-production) Identifier_opt_ `;' See 12.8 (#sec-12.8)
BreakStatement : `break' [no LineTerminator here]
(#def-restricted-production) Identifier_opt_ `;' See 12.9 (#sec-12.9)
ReturnStatement : `return' [no LineTerminator here]
(#def-restricted-production) Expression_opt_ `;' See 12.10 (#sec-12.10)
WithStatement : `with' `(' Expression `)' Statement See 12.11
(#sec-12.11) SwitchStatement : `switch' `(' Expression `)' CaseBlock
See 12.11 (#sec-12.11) CaseBlock : `{' CaseClauses_opt_ `}' `{'
CaseClauses_opt_ DefaultClause CaseClauses_opt_ `}' See 12.11
(#sec-12.11) CaseClauses : CaseClause CaseClauses CaseClause

   See 12.11 (#sec-12.11) CaseClause : `case' Expression `:'
StatementList_opt_ See 12.11 (#sec-12.11) DefaultClause : `default' `:'
StatementList_opt_ See 12.12 (#sec-12.12) LabelledStatement :
Identifier `:' Statement See 12.13 (#sec-12.13) ThrowStatement :
`throw' [no LineTerminator here] (#def-restricted-production)
Expression `;' See 12.14 (#sec-12.14) TryStatement : `try' Block Catch
`try' Block Finally `try' Block Catch Finally See 12.14 (#sec-12.14)
Catch : `catch' `(' Identifier `)' Block See 12.14 (#sec-12.14) Finally
: `finally' Block See 12.15 (#sec-12.15) DebuggerStatement : `debugger'
`;'


File: javascript_ecma_262_5th_ed.info,  Node: A5 Functions and Programs,  Next: A6 Universal Resource Identifier Character Classes,  Prev: A4 Statements,  Up: Top

623 A.5 (#sec-A.5) Functions and Programs
*****************************************

See clause 13 (#sec-13) FunctionDeclaration : `function' Identifier `('
FormalParameterList_opt_ `)' `{' FunctionBody `}' See clause 13
(#sec-13) FunctionExpression : `function' Identifier_opt_ `('
FormalParameterList_opt_ `)' `{' FunctionBody `}' See clause 13
(#sec-13) FormalParameterList : Identifier FormalParameterList `,'
Identifier See clause 13 (#sec-13) FunctionBody : SourceElements_opt_
See clause 14 (#sec-14) Program : SourceElements_opt_ See clause 14
(#sec-14) SourceElements : SourceElement SourceElements SourceElement

   See clause 14 (#sec-14) SourceElement : Statement FunctionDeclaration


File: javascript_ecma_262_5th_ed.info,  Node: A6 Universal Resource Identifier Character Classes,  Next: A7 Regular Expressions,  Prev: A5 Functions and Programs,  Up: Top

624 A.6 (#sec-A.6) Universal Resource Identifier Character Classes
******************************************************************

See 15.1.3 (#sec-15.1.3) uri ::: uriCharacters_opt_ See 15.1.3
(#sec-15.1.3) uriCharacters ::: uriCharacter uriCharacters_opt_ See
15.1.3 (#sec-15.1.3) uriCharacter ::: uriReserved uriUnescaped
uriEscaped See 15.1.3 (#sec-15.1.3) uriReserved ::: one of `;  /  ?  :
@  &  =  +  $  ,' See 15.1.3 (#sec-15.1.3) uriUnescaped ::: uriAlpha
DecimalDigit uriMark See 15.1.3 (#sec-15.1.3) uriEscaped ::: `%'
HexDigit HexDigit See 15.1.3 (#sec-15.1.3) uriAlpha ::: one of `a  b  c
d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z'
`A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X
Y  Z' See 15.1.3 (#sec-15.1.3) uriMark ::: one of `-  _  .  !  ~  *  `
(  )'


File: javascript_ecma_262_5th_ed.info,  Node: A7 Regular Expressions,  Next: A8 JSON,  Prev: A6 Universal Resource Identifier Character Classes,  Up: Top

625 A.7 (#sec-A.7) Regular Expressions
**************************************

See 15.10.1 (#sec-15.10.1) Pattern :: Disjunction See 15.10.1
(#sec-15.10.1) Disjunction :: Alternative Alternative `|' Disjunction
See 15.10.1 (#sec-15.10.1) Alternative :: [empty] Alternative Term

   See 15.10.1 (#sec-15.10.1) Term :: Assertion Atom Atom Quantifier
See 15.10.1 (#sec-15.10.1) Assertion :: `^' `$' `\' `b' `\' `B' `(' `?'
`=' Disjunction `)' `(' `?' `!' Disjunction `)' See 15.10.1
(#sec-15.10.1) Quantifier :: QuantifierPrefix QuantifierPrefix `?' See
15.10.1 (#sec-15.10.1) QuantifierPrefix :: `*' `+' `?' `{'
DecimalDigits `}' `{' DecimalDigits `,' `}' `{' DecimalDigits `,'
DecimalDigits `}' See 15.10.1 (#sec-15.10.1) Atom :: PatternCharacter
`.' `\' AtomEscape CharacterClass `(' Disjunction `)' `(' `?' `:'
Disjunction `)' See 15.10.1 (#sec-15.10.1) PatternCharacter ::
SourceCharacter but not any of: `^  $  \  .  *  +  ?  (  )  [  ]  {  }
|' See 15.10.1 (#sec-15.10.1) AtomEscape :: DecimalEscape
CharacterEscape CharacterClassEscape See 15.10.1 (#sec-15.10.1)
CharacterEscape :: ControlEscape `c' ControlLetter HexEscapeSequence
UnicodeEscapeSequence IdentityEscape See 15.10.1 (#sec-15.10.1)
ControlEscape :: one of `f  n  r  t  v'

   See 15.10.1 (#sec-15.10.1) ControlLetter :: one of `a  b  c  d  e  f
g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z' `A  B  C
D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z'
See 15.10.1 (#sec-15.10.1) IdentityEscape :: SourceCharacter but not
IdentifierPart <ZWJ> <ZWNJ> See 15.10.1 (#sec-15.10.1) DecimalEscape ::
DecimalIntegerLiteral [lookahead ‚àâ (#def-lookahead-notin)
DecimalDigit] See 15.10.1 (#sec-15.10.1) CharacterClassEscape :: one of
`d  D  s  S  w  W' See 15.10.1 (#sec-15.10.1) CharacterClass :: `['
[lookahead ‚àâ (#def-lookahead-notin) {`^'}] ClassRanges `]' `[' `^'
ClassRanges `]' See 15.10.1 (#sec-15.10.1) ClassRanges :: [empty]
NonemptyClassRanges See 15.10.1 (#sec-15.10.1) NonemptyClassRanges ::
ClassAtom ClassAtom NonemptyClassRangesNoDash ClassAtom `-' ClassAtom
ClassRanges See 15.10.1 (#sec-15.10.1) NonemptyClassRangesNoDash ::
ClassAtom ClassAtomNoDash NonemptyClassRangesNoDash ClassAtomNoDash `-'
ClassAtom ClassRanges See 15.10.1 (#sec-15.10.1) ClassAtom :: `-'
ClassAtomNoDash See 15.10.1 (#sec-15.10.1) ClassAtomNoDash ::
SourceCharacter but not one of `\' or `]' or `-' `\' ClassEscape See
15.10.1 (#sec-15.10.1) ClassEscape :: DecimalEscape `b' CharacterEscape
CharacterClassEscape


File: javascript_ecma_262_5th_ed.info,  Node: A8 JSON,  Next: A81 JSON Lexical Grammar,  Prev: A7 Regular Expressions,  Up: Top

626 A.8 (#sec-A.8) JSON
***********************


File: javascript_ecma_262_5th_ed.info,  Node: A81 JSON Lexical Grammar,  Next: A82 JSON Syntactic Grammar,  Prev: A8 JSON,  Up: Top

627 A.8.1 (#sec-A.8.1) JSON Lexical Grammar
*******************************************

See 15.12.1.1 (#sec-15.12.1.1) JSONWhiteSpace :: <TAB> <CR> <LF> <SP>
See 15.12.1.1 (#sec-15.12.1.1) JSONString :: `"'
JSONStringCharacters_opt_ `"' See 15.12.1.1 (#sec-15.12.1.1)
JSONStringCharacters :: JSONStringCharacter JSONStringCharacters_opt_
See 15.12.1.1 (#sec-15.12.1.1) JSONStringCharacter :: SourceCharacter
but not double-quote `"' or backslash `\' or U+0000 thru U+001F `\'
JSONEscapeSequence See 15.12.1.1 (#sec-15.12.1.1) JSONEscapeSequence ::
JSONEscapeCharacter UnicodeEscapeSequence See 15.12.1.1 (#sec-15.12.1.1)
JSONEscapeCharacter :: one of `" / \ b f n r t' See 15.12.1.1
(#sec-15.12.1.1) JSONNumber :: `-'_opt_ DecimalIntegerLiteral
JSONFraction_opt_ ExponentPart_opt_ See 15.12.1.1 (#sec-15.12.1.1)
JSONFraction :: `.' DecimalDigits See 15.12.1.1 (#sec-15.12.1.1)
JSONNullLiteral :: NullLiteral See 15.12.1.1 (#sec-15.12.1.1)
JSONBooleanLiteral :: BooleanLiteral


File: javascript_ecma_262_5th_ed.info,  Node: A82 JSON Syntactic Grammar,  Next: Annex B informative Compatibility,  Prev: A81 JSON Lexical Grammar,  Up: Top

628 A.8.2 (#sec-A.8.2) JSON Syntactic Grammar
*********************************************

See 15.12.1.2 (#sec-15.12.1.2) JSONText : JSONValue See 15.12.1.2
(#sec-15.12.1.2) JSONValue : JSONNullLiteral JSONBooleanLiteral
JSONObject JSONArray JSONString JSONNumber See 15.12.1.2
(#sec-15.12.1.2) JSONObject : `{' `}' `{' JSONMemberList `}' See
15.12.1.2 (#sec-15.12.1.2) JSONMember : JSONString `:' JSONValue

   See 15.12.1.2 (#sec-15.12.1.2) JSONMemberList : JSONMember
JSONMemberList `,' JSONMember See 15.12.1.2 (#sec-15.12.1.2) JSONArray :
`[' `]' `[' JSONElementList `]' See 15.12.1.2 (#sec-15.12.1.2)
JSONElementList : JSONValue JSONElementList `,' JSONValue


File: javascript_ecma_262_5th_ed.info,  Node: Annex B informative Compatibility,  Next: B1 Additional Syntax,  Prev: A82 JSON Syntactic Grammar,  Up: Top

629 Annex B (informative) Compatibility
***************************************


File: javascript_ecma_262_5th_ed.info,  Node: B1 Additional Syntax,  Next: B11 Numeric Literals,  Prev: Annex B informative Compatibility,  Up: Top

630 B.1 (#sec-B.1) Additional Syntax
************************************

Past editions of ECMAScript have included additional syntax and
semantics for specifying octal literals and octal escape sequences.
These have been removed from this edition of ECMAScript. This
non-normative annex presents uniform syntax and semantics for octal
literals and octal escape sequences for compatibility with some older
ECMAScript programs.


File: javascript_ecma_262_5th_ed.info,  Node: B11 Numeric Literals,  Next: B12 String Literals,  Prev: B1 Additional Syntax,  Up: Top

631 B.1.1 (#sec-B.1.1) Numeric Literals
***************************************

The syntax and semantics of 7.8.3 (#sec-7.8.3) can be extended as
follows except that this extension is not allowed for strict mode code
(#sec-10.1.1):

* Menu:

* Syntax::
* Semantics::


File: javascript_ecma_262_5th_ed.info,  Node: Syntax,  Next: Semantics,  Up: B11 Numeric Literals

631.1 Syntax
============

NumericLiteral :: DecimalLiteral HexIntegerLiteral OctalIntegerLiteral
OctalIntegerLiteral :: `0' OctalDigit OctalIntegerLiteral OctalDigit
OctalDigit :: one of `0  1  2  3  4  5  6  7'


File: javascript_ecma_262_5th_ed.info,  Node: Semantics,  Prev: Syntax,  Up: B11 Numeric Literals

631.2 Semantics
===============

   * The MV of NumericLiteral :: OctalIntegerLiteral is the MV of
     OctalIntegerLiteral.

   * The MV of OctalDigit :: `0' is 0.

   * The MV of OctalDigit :: `1' is 1.

   * The MV of OctalDigit :: `2' is 2.

   * The MV of OctalDigit :: `3' is 3.

   * The MV of OctalDigit :: `4' is 4.

   * The MV of OctalDigit :: `5' is 5.

   * The MV of OctalDigit :: `6' is 6.

   * The MV of OctalDigit :: `7' is 7.

   * The MV of OctalIntegerLiteral :: `0' OctalDigit is the MV of
     OctalDigit.

   * The MV of OctalIntegerLiteral :: OctalIntegerLiteral OctalDigit is
     (the MV of OctalIntegerLiteral times 8) plus the MV of OctalDigit.


File: javascript_ecma_262_5th_ed.info,  Node: B12 String Literals,  Next: B2 Additional Properties,  Prev: B11 Numeric Literals,  Up: Top

632 B.1.2 (#sec-B.1.2) String Literals
**************************************

The syntax and semantics of 7.8.4 (#sec-7.8.4) can be extended as
follows except that this extension is not allowed for strict mode code
(#sec-10.1.1):

* Menu:

* Syntax::
* Semantics::


File: javascript_ecma_262_5th_ed.info,  Node: Syntax,  Next: Semantics,  Up: B12 String Literals

632.1 Syntax
============

EscapeSequence :: CharacterEscapeSequence OctalEscapeSequence
HexEscapeSequence UnicodeEscapeSequence OctalEscapeSequence ::
OctalDigit [lookahead ‚àâ (#def-lookahead-notin) DecimalDigit]
ZeroToThree OctalDigit [lookahead ‚àâ (#def-lookahead-notin)
DecimalDigit] FourToSeven OctalDigit ZeroToThree OctalDigit OctalDigit
ZeroToThree :: one of `0' `1' `2' `3' FourToSeven :: one of `4' `5' `6'
`7'


File: javascript_ecma_262_5th_ed.info,  Node: Semantics,  Prev: Syntax,  Up: B12 String Literals

632.2 Semantics
===============

   * The CV of EscapeSequence :: OctalEscapeSequence is the CV of the
     OctalEscapeSequence.

   * The CV of OctalEscapeSequence :: OctalDigit [lookahead ‚àâ
     (#def-lookahead-notin) DecimalDigit] is the character whose code
     unit value is the MV of the OctalDigit.

   * The CV of OctalEscapeSequence :: ZeroToThree OctalDigit [lookahead
     ‚àâ (#def-lookahead-notin) DecimalDigit] is the character whose
     code unit value is (8 times the MV of the ZeroToThree) plus the MV
     of the OctalDigit.

   * The CV of OctalEscapeSequence :: FourToSeven OctalDigit is the
     character whose code unit value is (8 times the MV of the
     FourToSeven) plus the MV of the OctalDigit.

   * The CV of OctalEscapeSequence :: ZeroToThree OctalDigit OctalDigit
     is the character whose code unit value is (64 (that is, 82) times
     the MV of the ZeroToThree) plus (8 times the MV of the first
     OctalDigit) plus the MV of the second OctalDigit.

   * The MV of ZeroToThree :: `0' is 0.

   * The MV of ZeroToThree :: `1' is 1.

   * The MV of ZeroToThree :: `2' is 2.

   * The MV of ZeroToThree :: `3' is 3.

   * The MV of FourToSeven :: `4' is 4.

   * The MV of FourToSeven :: `5' is 5.

   * The MV of FourToSeven :: `6' is 6.

   * The MV of FourToSeven :: `7' is 7.


File: javascript_ecma_262_5th_ed.info,  Node: B2 Additional Properties,  Next: B21 escape string,  Prev: B12 String Literals,  Up: Top

633 B.2 (#sec-B.2) Additional Properties
****************************************

Some implementations of ECMAScript have included additional properties
for some of the standard native objects. This non-normative annex
suggests uniform semantics for such properties without making the
properties or their semantics part of this standard.


File: javascript_ecma_262_5th_ed.info,  Node: B21 escape string,  Next: B22 unescape string,  Prev: B2 Additional Properties,  Up: Top

634 B.2.1 (#sec-B.2.1) escape (string)
**************************************

The escape function is a property of the global object. It computes a
new version of a String value in which certain characters have been
replaced by a hexadecimal escape sequence.

   For those characters being replaced whose code unit value is `0xFF'
or less, a two-digit escape sequence of the form `%<var>xx</var>' is
used. For those characters being replaced whose code unit value is
greater than `0xFF', a four-digit escape sequence of the form
`%u<var>xxxx</var>' is used.

  1. Call ToString (#sec-9.8)(string).

  2. Compute the number of characters in Result (#def-Result)(1).

  3. Let R be the empty string.

  4. Let k be 0.

  5. If k equals Result (#def-Result)(2), return R.

  6. Get the character (represented as a 16-bit unsigned integer) at
     position k within Result (#def-Result)(1).

  7. If Result (#def-Result)(6) is one of the 69 nonblank characters
     ‚Äú`ABCDEFGHIJKLMNOPQRSTUVWXYZ<wbr
     />abcdefghijklmnopqrstuvwxyz<wbr />0123456789@*_+-./'‚Äù then go
     to step 13.

  8. If Result (#def-Result)(6), is less than 256, go to step 11.

  9. Let S be a String containing six characters "%uwxyz" where wxyz
     are four hexadecimal digits encoding the value of Result
     (#def-Result)(6).

 10. Go to step 14.

 11. Let S be a String containing three characters "%xy" where xy are
     two hexadecimal digits encoding the value of Result
     (#def-Result)(6).

 12. Go to step 14.

 13. Let S be a String containing the single character Result
     (#def-Result)(6).

 14. Let R be a new String value computed by concatenating the previous
     value of R and S.

 15. Increase k by 1.

 16. Go to step 5.

   NOTE The encoding is partly based on the encoding described in RFC
1738, but the entire encoding specified in this standard is described
above without regard to the contents of RFC 1738.


File: javascript_ecma_262_5th_ed.info,  Node: B22 unescape string,  Next: B23 Stringprototypesubstr start length,  Prev: B21 escape string,  Up: Top

635 B.2.2 (#sec-B.2.2) unescape (string)
****************************************

The unescape function is a property of the global object. It computes a
new version of a String value in which each escape sequence of the sort
that might be introduced by the escape (#sec-B.2.1) function is
replaced with the character that it represents.

   When the unescape function is called with one argument string, the
following steps are taken:

  1. Call ToString (#sec-9.8)(string).

  2. Compute the number of characters in Result (#def-Result)(1).

  3. Let R be the empty String.

  4. Let k be 0.

  5. If k equals Result (#def-Result)(2), return R.

  6. Let c be the character at position k within Result
     (#def-Result)(1).

  7. If c is not `%', go to step 18.

  8. If k is greater than Result (#def-Result)(2)‚àí6, go to step 14.

  9. If the character at position k+1 within Result (#def-Result)(1) is
     not `u', go to step 14.

 10. If the four characters at positions k+2, k+3, k+4, and k+5 within
     Result (#def-Result)(1) are not all hexadecimal digits, go to step
     14.

 11. Let c be the character whose code unit value is the integer
     represented by the four hexadecimal digits at positions k+2, k+3,
     k+4, and k+5 within Result (#def-Result)(1).

 12. Increase k by 5.

 13. Go to step 18.

 14. If k is greater than Result (#def-Result)(2)‚àí3, go to step 18.

 15. If the two characters at positions k+1 and k+2 within Result
     (#def-Result)(1) are not both hexadecimal digits, go to step 18.

 16. Let c be the character whose code unit value is the integer
     represented by two zeroes plus the two hexadecimal digits at
     positions k+1 and k+2 within Result (#def-Result)(1).

 17. Increase k by 2.

 18. Let R be a new String value computed by concatenating the previous
     value of R and c.

 19. Increase k by 1.

 20. Go to step 5.


File: javascript_ecma_262_5th_ed.info,  Node: B23 Stringprototypesubstr start length,  Next: B24 DateprototypegetYear,  Prev: B22 unescape string,  Up: Top

636 B.2.3 (#sec-B.2.3) String.prototype.substr (start, length)
**************************************************************

The substr method takes two arguments, start and length, and returns a
substring of the result of converting the this object to a String,
starting from character position start and running for length
characters (or through the end of the String if length is undefined).
If start is negative, it is treated as (sourceLength+start) where
sourceLength is the length of the String. The result is a String value,
not a String object. The following steps are taken:

  1. Call ToString (#sec-9.8), giving it the this value as its argument.

  2. Call ToInteger (#sec-9.4)(start).

  3. If length is undefined, use +‚àû; otherwise call ToInteger
     (#sec-9.4)(length).

  4. Compute the number of characters in Result (#def-Result)(1).

  5. If Result (#def-Result)(2) is positive or zero, use Result
     (#def-Result)(2); else use max(Result (#def-Result)(4)+Result
     (#def-Result)(2),0).

  6. Compute min(max(Result (#def-Result)(3),0), Result
     (#def-Result)(4)‚àíResult (#def-Result)(5)).

  7. If Result (#def-Result)(6) ‚â§ 0, return the empty String "".

  8. Return a String containing Result (#def-Result)(6) consecutive
     characters from Result (#def-Result)(1) beginning with the
     character at position Result (#def-Result)(5).

   The `length' property of the substr method is 2.

   NOTE The substr function is intentionally generic; it does not
require that its this value be a String object. Therefore it can be
transferred to other kinds of objects for use as a method.


File: javascript_ecma_262_5th_ed.info,  Node: B24 DateprototypegetYear,  Next: B25 DateprototypesetYear year,  Prev: B23 Stringprototypesubstr start length,  Up: Top

637 B.2.4 (#sec-B.2.4) Date.prototype.getYear ( )
*************************************************

NOTE The getFullYear (#sec-15.9.5.10) method is preferred for nearly
all purposes, because it avoids the ‚Äúyear 2000 problem.‚Äù

   When the getYear method is called with no arguments, the following
steps are taken:

  1. Let t be this time value (#def-this-time-value).

  2. If t is NaN, return NaN.

  3. Return YearFromTime (#sec-15.9.1.3)(LocalTime (#sec-15.9.1.9)(t))
     ‚àí 1900.


File: javascript_ecma_262_5th_ed.info,  Node: B25 DateprototypesetYear year,  Next: B26 DateprototypetoGMTString,  Prev: B24 DateprototypegetYear,  Up: Top

638 B.2.5 (#sec-B.2.5) Date.prototype.setYear (year)
****************************************************

NOTE The setFullYear (#sec-15.9.5.40) method is preferred for nearly
all purposes, because it avoids the ‚Äúyear 2000 problem.‚Äù

   When the setYear method is called with one argument year, the
following steps are taken:

  1. Let t be the result of LocalTime (#sec-15.9.1.9)(this time value
     (#def-this-time-value)); but if this time value
     (#def-this-time-value) is NaN, let t be +0.

  2. Call ToNumber (#sec-9.3)(year).

  3. If Result (#def-Result)(2) is NaN, set the [[PrimitiveValue]]
     internal property of the this value to NaN and return NaN.

  4. If Result (#def-Result)(2) is not NaN and 0 ‚â§ ToInteger
     (#sec-9.4)(Result (#def-Result)(2)) ‚â§ 99 then Result
     (#def-Result)(4) is ToInteger (#sec-9.4)(Result (#def-Result)(2))
     + 1900. Otherwise, Result (#def-Result)(4) is Result
     (#def-Result)(2).

  5. Compute MakeDay (#sec-15.9.1.12)(Result (#def-Result)(4),
     MonthFromTime (#sec-15.9.1.4)(t), DateFromTime (#sec-15.9.1.5)(t)).

  6. Compute UTC (#sec-15.9.1.9)(MakeDate (#sec-15.9.1.13)(Result
     (#def-Result)(5), TimeWithinDay (#sec-15.9.1.2)(t))).

  7. Set the [[PrimitiveValue]] internal property of the this value to
     TimeClip (#sec-15.9.1.14)(Result (#def-Result)(6)).

  8. Return the value of the [[PrimitiveValue]] internal property of
     the this value.


File: javascript_ecma_262_5th_ed.info,  Node: B26 DateprototypetoGMTString,  Next: Annex C informative The Strict Mode of ECMAScript,  Prev: B25 DateprototypesetYear year,  Up: Top

639 B.2.6 (#sec-B.2.6) Date.prototype.toGMTString ( )
*****************************************************

NOTE The property `toUTCString' is preferred. The `toGMTString'
property is provided principally for compatibility with old code. It is
recommended that the `toUTCString' property be used in new ECMAScript
code.

   The Function object that is the initial value of
Date.prototype.toGMTString is the same Function object that is the
initial value of Date.prototype.toUTCString (#sec-15.9.5.42).


File: javascript_ecma_262_5th_ed.info,  Node: Annex C informative The Strict Mode of ECMAScript,  Next: Annex D informative Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact,  Prev: B26 DateprototypetoGMTString,  Up: Top

640 Annex C (informative) The Strict Mode of ECMAScript
*******************************************************

* Menu:

* The strict mode restriction and exceptions::


File: javascript_ecma_262_5th_ed.info,  Node: The strict mode restriction and exceptions,  Up: Annex C informative The Strict Mode of ECMAScript

640.1 The strict mode restriction and exceptions
================================================

   * The identifiers "implements", "interface", "let", "package",
     "private", "protected", "public", "static", and "yield" are
     classified as FutureReservedWord tokens within strict mode code.
     (7.6.12).

   * A conforming implementation, when processing strict mode code
     (#sec-10.1.1), may not extend the syntax of NumericLiteral (7.8.3
     (#sec-7.8.3)) to include OctalIntegerLiteral as described in B.1.1
     (#sec-B.1.1).

   * A conforming implementation, when processing strict mode code (see
     10.1.1) (#sec-10.1.1), may not extend the syntax of EscapeSequence
     to include OctalEscapeSequence as described in B.1.2 (#sec-B.1.2).

   * Assignment to an undeclared identifier or otherwise unresolvable
     reference does not create a property in the global object. When a
     simple assignment occurs within strict mode code (#sec-10.1.1),
     its LeftHandSide must not evaluate to an unresolvable Reference
     (#def-IsUnresolvableReference). If it does a ReferenceError
     exception is thrown (8.7.2 (#sec-8.7.2)). The LeftHandSide also
     may not be a reference to a data property with the attribute value
     {[[Writable]]:false}, to an accessor property with the attribute
     value {[[Set]]:undefined}, nor to a non-existent property of an
     object whose [[Extensible]] internal property has the value false.
     In these cases a TypeError exception is thrown (11.13.1
     (#sec-11.13.1)).

   * The identifier `eval' or `arguments' may not appear as the
     LeftHandSideExpression of an Assignment operator (11.13
     (#sec-11.13)) or of a PostfixExpression (11.3 (#sec-11.3)) or as
     the UnaryExpression operated upon by a Prefix Increment (11.4.4
     (#sec-11.4.4)) or a Prefix Decrement (11.4.5 (#sec-11.4.5))
     operator.

   * Arguments objects for strict mode functions define
     non-configurable accessor properties named ‚Äú`caller'‚Äù and
     ‚Äú`callee'‚Äù which throw a TypeError exception on access (10.6
     (#sec-10.6)).

   * Arguments objects for strict mode functions do not dynamically
     share their array indexed property values with the corresponding
     formal parameter bindings of their functions. (10.6 (#sec-10.6)).

   * For strict mode functions, if an arguments object is created the
     binding of the local identifier `arguments' to the arguments
     object is immutable and hence may not be the target of an
     assignment expression. (10.5 (#sec-10.5)).

   * It is a SyntaxError if strict mode code (#sec-10.1.1) contains an
     ObjectLiteral with more than one definition of any data property
     (11.1.5 (#sec-11.1.5)).

   * It is a SyntaxError if the Identifier ‚Äú`eval'‚Äù or the
     Identifier ‚Äú`arguments'‚Äù occurs as the Identifier in a
     PropertySetParameterList of a PropertyAssignment that is contained
     in strict code (#sec-10.1.1) or if its FunctionBody is strict code
     (#sec-10.1.1) (11.1.5 (#sec-11.1.5)).

   * Strict mode eval code cannot instantiate variables or functions in
     the variable environment of the caller to eval. Instead, a new
     variable environment is created and that environment is used for
     declaration binding instantiation for the eval code
     (#def-eval-code) (10.4.2 (#sec-10.4.2)).

   * If `this' is evaluated within strict mode code (#sec-10.1.1), then
     the this value is not coerced to an object. A this value of null
     or undefined is not converted to the global object and primitive
     values are not converted to wrapper objects. The this value passed
     via a function call (including calls made using
     Function.prototype.apply and Function.prototype.call) do not
     coerce the passed this value to an object (10.4.3 (#sec-10.4.3),
     11.1.1 (#sec-11.1.1), 15.3.4.3 (#sec-15.3.4.3), 15.3.4.4
     (#sec-15.3.4.4)).

   * When a `delete' operator occurs within strict mode code
     (#sec-10.1.1), a SyntaxError is thrown if its UnaryExpression is a
     direct reference to a variable, function argument, or function
     name (11.4.1 (#sec-11.4.1)).

   * When a `delete' operator occurs within strict mode code
     (#sec-10.1.1), a TypeError is thrown if the property to be deleted
     has the attribute { [[Configurable]]:false } (11.4.1
     (#sec-11.4.1)).

   * It is a SyntaxError if a VariableDeclaration or
     VariableDeclarationNoIn occurs within strict code (#sec-10.1.1)
     and its Identifier is `eval' or `arguments' (12.2.1 (#sec-12.2.1)).

   *   * It is a SyntaxError if a TryStatement with a Catch occurs within
     strict code (#sec-10.1.1) and the Identifier of the Catch
     production is `eval' or `arguments' (12.14.1 (#sec-12.14.1))

   * It is a SyntaxError if the identifier `eval' or `arguments'
     appears within a FormalParameterList of a strict mode
     FunctionDeclaration or FunctionExpression (13.1 (#sec-13.1))

   * A strict mode function may not have two or more formal parameters
     that have the same name. An attempt to create such a function
     using a FunctionDeclaration, FunctionExpression, or Function
     constructor is a SyntaxError (13.1 (#sec-13.1), 15.3.2
     (#sec-15.3.2)).

   * An implementation may not extend, beyond that defined in this
     specification, the meanings within strict mode functions of
     properties named `caller' or `arguments' of function instances.
     ECMAScript code may not create or modify properties with these
     names on function objects that correspond to strict mode functions
     (10.6 (#sec-10.6), 13.2 (#sec-13.2), 15.3.4.5.3 (#sec-15.3.4.5.3)).

   * It is a SyntaxError to use within strict mode code (#sec-10.1.1)
     the identifiers `eval' or `arguments' as the Identifier of a
     FunctionDeclaration or FunctionExpression or as a formal parameter
     name (13.1 (#sec-13.1)). Attempting to dynamically define such a
     strict mode function using the Function constructor (15.3.2
     (#sec-15.3.2)) will throw a SyntaxError exception.



File: javascript_ecma_262_5th_ed.info,  Node: Annex D informative Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact,  Next: Annex E informative Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition,  Prev: Annex C informative The Strict Mode of ECMAScript,  Up: Top

641 Annex D (informative) Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact
**************************************************************************************************************************

Throughout: In the Edition 3 specification the meaning of phrases such
as ‚Äúas if by the expression `new Array()'‚Äù are subject to
misinterpretation. In the Edition 5 specification text for all internal
references and invocations of standard built-in objects and methods has
been clarified by making it explicit that the intent is that the actual
built-in object is to be used rather than the current dynamic value of
the correspondingly named property.

   11.8.2 (#sec-11.8.2), 11.8.3 (#sec-11.8.3), 11.8.5 (#sec-11.8.5):
ECMAScript generally uses a left to right evaluation order, however the
Edition 3 specification language for the `>' and `<=' operators
resulted in a partial right to left order. The specification has been
corrected for these operators such that it now specifies a full left to
right evaluation order. However, this change of order is potentially
observable if side-effects occur during the evaluation process.

   11.1.4 (#sec-11.1.4): Edition 5 clarifies the fact that a trailing
comma at the end of an ArrayInitialiser does not add to the length of
the array. This is not a semantic change from Edition 3 but some
implementations may have previously misinterpreted this.

   11.2.3 (#sec-11.2.3): Edition 5 reverses the order of steps 2 and 3
of the algorithm. The original order as specified in Editions 1 through
3 was incorrectly specified such that side-effects of evaluating
Arguments could affect the result of evaluating MemberExpression.

   12.4 (#sec-12.4): In Edition 3, an object is created, as if by `new
Object()' to serve as the scope for resolving the name of the exception
parameter passed to a `catch' clause of a `try' statement. If the
actual exception object is a function and it is called from within the
`catch' clause, the scope object will be passed as the `this' value of
the call. The body of the function can then define new properties on
its `this' value and those property names become visible identifiers
bindings within the scope of the `catch' clause after the function
returns. In Edition 5, when an exception parameter is called as a
function, undefined is passed as the this value.

   13 (#sec-13): In Edition 3, the algorithm for the production
FunctionExpression with an Identifier adds an object created as if by
`new Object()' to the scope chain to serve as a scope for looking up
the name of the function. The identifier resolution rules (10.1.4 in
Edition 3) when applied to such an object will, if necessary, follow
the object‚Äôs prototype chain when attempting to resolve an
identifier. This means all the properties of Object.prototype are
visible as identifiers within that scope. In practice most
implementations of Edition 3 have not implemented this semantics.
Edition 5 changes the specified semantics by using a Declarative
Environment Record (#sec-10.2.1.1) to bind the name of the function.

   14 (#sec-14): In Edition 3, the algorithm for the production
SourceElements : SourceElements SourceElement did not correctly
propagate statement result values in the same manner as Block. This
could result in the eval function producing an incorrect result when
evaluating a Program text. In practice most implementations of Edition
3 have implemented the correct propagation rather than what was
specified in Edition 3.

   15.10.6 (#sec-15.10.6): RegExp.prototype is now a RegExp object
rather than an instance of Object. The value of its [[Class]] internal
property which is observable using Object.prototype.toString is now
"RegExp" rather than "Object".


File: javascript_ecma_262_5th_ed.info,  Node: Annex E informative Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition,  Next: Bibliography,  Prev: Annex D informative Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact,  Up: Top

642 Annex E (informative) Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition
************************************************************************************************************************

7.1 (#sec-7.1): Unicode format control characters are no longer
stripped from ECMAScript source text before processing. In Edition 5,
if such a character appears in a StringLiteral or
RegularExpressionLiteral the character will be incorporated into the
literal where in Edition 3 the character would not be incorporated into
the literal.

   7.2 (#sec-7.2): Unicode character <BOM> is now treated as whitespace
and its presence in the middle of what appears to be an identifier
could result in a syntax error which would not have occurred in Edition
3

   7.3 (#sec-7.3): Line terminator characters that are preceded by an
escape sequence are now allowed within a string literal token. In
Edition 3 a syntax error would have been produced.

   7.8.5 (#sec-7.8.5): Regular expression literals now return a unique
object each time the literal is evaluated. This change is detectable by
any programs that test the object identity of such literal values or
that are sensitive to the shared side effects.

   7.8.5 (#sec-7.8.5): Edition 5 requires early reporting of any
possible RegExp constructor errors that would be produced when
converting a RegularExpressionLiteral to a RegExp object. Prior to
Edition 5 implementations were permitted to defer the reporting of such
errors until the actual execution time creation of the object.

   7.8.5 (#sec-7.8.5): In Edition 5 unescaped ‚Äú`/'‚Äù characters may
appear as a CharacterClass in a regular expression literal. In Edition
3 such a character would have been interpreted as the final character
of the literal.

   10.4.2 (#sec-10.4.2): In Edition 5, indirect calls (#sec-15.1.2.1.1)
to the eval function (#sec-15.1.2.1) use the global environment as both
the variable environment and lexical environment (#sec-10.2) for the
eval code (#def-eval-code). In Edition 3, the variable and lexical
environments of the caller of an indirect eval was used as the
environments for the eval code (#def-eval-code).

   15.4.4 (#sec-15.4.4): In Edition 5 all methods of Array.prototype
(#sec-15.4.4) are intentionally generic. In Edition 3 toString and
toLocaleString were not generic and would throw a TypeError exception
if applied to objects that were not instances of Array.

   10.6 (#sec-10.6): In Edition 5 the array indexed properties of
argument objects that correspond to actual formal parameters are
enumerable. In Edition 3, such properties were not enumerable.

   10.6 (#sec-10.6): In Edition 5 the value of the [[Class]] internal
property of an arguments object is "Arguments". In Edition 3, it was
"Object". This is observable if toString is called as a method of an
arguments object.

   12.6.4 (#sec-12.6.4): for-in statements no longer throw a TypeError
if the `in' expression evaluates to null or undefined. Instead, the
statement behaves as if the value of the expression was an object with
no enumerable properties.

   15 (#sec-15): In Edition 5, the following new properties are defined
on built-in objects that exist in Edition 3: Object.getPrototypeOf
(#sec-15.2.3.2), Object.getOwnPropertyDescriptor (#sec-15.2.3.3),
Object.getOwnPropertyNames (#sec-15.2.3.4), Object.create
(#sec-15.2.3.5), Object.defineProperty (#sec-15.2.3.6),
Object.defineProperties (#sec-15.2.3.7), Object.seal (#sec-15.2.3.8),
Object.freeze (#sec-15.2.3.9), Object.preventExtensions
(#sec-15.2.3.10), Object.isSealed (#sec-15.2.3.11), Object.isFrozen
(#sec-15.2.3.12), Object.isExtensible (#sec-15.2.3.13), Object.keys
(#sec-15.2.3.14), Function.prototype.bind (#sec-15.3.4.5),
Array.prototype.indexOf (#sec-15.4.4.14), Array.prototype.lastIndexOf
(#sec-15.4.4.15), Array.prototype.every (#sec-15.4.4.16),
Array.prototype.some (#sec-15.4.4.17), Array.prototype.forEach
(#sec-15.4.4.18), Array.prototype.map (#sec-15.4.4.19),
Array.prototype.filter (#sec-15.4.4.20), Array.prototype.reduce
(#sec-15.4.4.21), Array.prototype.reduceRight (#sec-15.4.4.22),
String.prototype.trim (#sec-15.5.4.20), Date.now (#sec-15.9.4.4),
Date.prototype.toISOString (#sec-15.9.5.43), Date.prototype.toJSON
(#sec-15.9.5.44).

   15.1.1 (#sec-15.1.1): The value properties NaN, Infinity, and
undefined of the Global Object have been changed to be read-only
properties.

   15.1.2.1 (#sec-15.1.2.1): Implementations are no longer permitted to
restrict the use of eval in ways that are not a direct call
(#sec-15.1.2.1.1). In addition, any invocation of eval that is not a
direct call uses the global environment (#sec-10.2.3) as its variable
environment rather than the caller‚Äôs variable environment.

   15.1.2.2 (#sec-15.1.2.2): The specification of the function parseInt
no longer allows implementations to treat Strings beginning with a `0'
character as octal values.

   15.3.4.3 (#sec-15.3.4.3): In Edition 3, a TypeError is thrown if the
second argument passed to Function.prototype.apply is neither an array
object nor an arguments object. In Edition 5, the second argument may
be any kind of generic array-like object that has a valid `length'
property.

   15.3.4.3 (#sec-15.3.4.3), 15.3.4.4 (#sec-15.3.4.4): In Edition 3
passing undefined or null as the first argument to either
Function.prototype.apply or Function.prototype.call causes the global
object to be passed to the indirectly invoked target function as the
this value. If the first argument is a primitive value the result of
calling ToObject (#sec-9.9) on the primitive value is passed as the
this value. In Edition 5, these transformations are not performed and
the actual first argument value is passed as the this value. This
difference will normally be unobservable to existing ECMAScript Edition
3 code because a corresponding transformation takes place upon
activation of the target function. However, depending upon the
implementation, this difference may be observable by host object
functions called using apply or call. In addition, invoking a standard
built-in function in this manner with null or undefined passed as the
this value will in many cases cause behaviour in Edition 5
implementations that differ from Edition 3 behaviour. In particular, in
Edition 5 built-in functions that are specified to actually use the
passed this value as an object typically throw a TypeError exception if
passed null or undefined as the this value.

   15.3.5.2 (#sec-15.3.5.2): In Edition 5, the `prototype' property of
Function instances is not enumerable. In Edition 3, this property was
enumerable.

   15.5.5.2 (#sec-15.5.5.2): In Edition 5, the individual characters of
a String object‚Äôs [[PrimitiveValue] may be accessed as array indexed
properties of the String object. These properties are non-writable and
non-configurable and shadow any inherited properties with the same
names. In Edition 3, these properties did not exist and ECMAScript code
could dynamically add and remove writable properties with such names
and could access inherited properties with such names.

   15.9.4.2 (#sec-15.9.4.2): Date.parse (#sec-15.9.4.2) is now required
to first attempt to parse its argument as an ISO format string.
Programs that use this format but depended upon implementation specific
behaviour (including failure) may behave differently.

   15.10.2.12 (#sec-15.10.2.12): In Edition 5, `\s' now additionally
matches <BOM>.

   15.10.4.1 (#sec-15.10.4.1): In Edition 3, the exact form of the
String value of the `source' property of an object created by the
RegExp constructor is implementation defined. In Edition 5, the String
must conform to certain specified requirements (#def-RegExp-source) and
hence may be different from that produced by an Edition 3
implementation.

   15.10.6.4 (#sec-15.10.6.4): In Edition 3, the result of
RegExp.prototype.toString (#sec-15.10.6.4) need not be derived from the
value of the RegExp object‚Äôs `source' property. In Edition 5 the
result must be derived from the `source' property in a specified manner
and hence may be different from the result produced by an Edition 3
implementation.

   15.11.2.1 (#sec-15.11.2.1), 15.11.4.3 (#sec-15.11.4.3): In Edition
5, if an initial value for the `message' property of an Error object is
not specified via the Error constructor the initial value of the
property is the empty String. In Edition 3, such an initial value is
implementation defined.

   15.11.4.4 (#sec-15.11.4.4): In Edition 3, the result of
Error.prototype.toString (#sec-15.11.4.4) is implementation defined. In
Edition 5, the result is fully specified and hence may differ from some
Edition 3 implementations.

   15.12 (#sec-15.12): In Edition 5, the name JSON (#sec-15.12) is
defined in the global environment (#sec-10.2.3). In Edition 3, testing
for the presence of that name will show it to be undefined unless it is
defined by the program or implementation.


File: javascript_ecma_262_5th_ed.info,  Node: Bibliography,  Prev: Annex E informative Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition,  Up: Top

643 Bibliography
****************

  1. [1] ANSI/IEEE Std 754-1985: IEEE Standard for Binary
     Floating-Point Arithmetic. Institute of Electrical and Electronic
     Engineers, New York (1985)

  2. [2] The Unicode Consortium. The Unicode Standard, Version 3.0,
     defined by: The Unicode Standard, Version 3.0 (Boston, MA,
     Addison-Wesley, 2000. ISBN 0-201-61635-5)

  3. [3] Unicode Inc. (1998), Unicode Technical Report #15: Unicode
     Normalization Forms

-----------------------------------------------------------------------
¬© Ecma International 2009


